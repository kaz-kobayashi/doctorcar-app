import{c as f,d as y,r as m,j as e,B as d,b as w}from"./index-0a82833a.js";import{u as k,R as L}from"./RouteOptimizationComponent-1a80bf7d.js";import"./emergencyHospitals-4754c14f.js";const A=()=>{var u;const N=f(),[i]=y(),{analytics:l,isLoading:g,refreshAnalytics:v}=k(),[a,o]=m.useState(null),[n,x]=m.useState(null);m.useEffect(()=>{const s=i.get("originLat"),t=i.get("originLon"),r=i.get("originName"),c=i.get("destLat"),j=i.get("destLon"),p=i.get("destName");s&&t&&o({latitude:parseFloat(s),longitude:parseFloat(t),name:r||"å‡ºç™ºåœ°"}),c&&j&&x({latitude:parseFloat(c),longitude:parseFloat(j),name:p||"ç›®çš„åœ°"})},[i]);const h=s=>{const t={latitude:35.701835,longitude:139.763417,name:s==="origin"?"æ±äº¬ãƒ‰ã‚¯ã‚¿ãƒ¼ã‚«ãƒ¼åŸºåœ°":"æ±äº¬åŒ»ç§‘æ­¯ç§‘å¤§å­¦ç—…é™¢"};s==="origin"?o(t):x(t)},b=s=>{const t=Math.floor(s/60),r=Math.floor(t/60),c=t%60;return r>0?`${r}æ™‚é–“${c}åˆ†`:`${t}åˆ†`};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>N("/cases"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"xROAD ãƒ«ãƒ¼ãƒˆæœ€é©åŒ–"}),e.jsx("p",{className:"text-sm text-gray-500",children:"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ äº¤é€šãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹æœ€é©ãƒ«ãƒ¼ãƒˆæ¤œç´¢"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(d,{size:"sm",variant:"outline",onClick:v,disabled:g,children:"ğŸ“Š åˆ†ææ›´æ–°"})})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ä½ç½®è¨­å®š"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å‡ºç™ºåœ°"}),a?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-900",children:a.name}),e.jsxs("div",{className:"text-sm text-green-600",children:[a.latitude.toFixed(4),", ",a.longitude.toFixed(4)]})]}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>o(null),children:"å¤‰æ›´"})]})}):e.jsx(d,{onClick:()=>h("origin"),className:"w-full border-dashed border-2 border-gray-300 text-gray-600",variant:"outline",children:"ğŸ“ å‡ºç™ºåœ°ã‚’è¨­å®š"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç›®çš„åœ°"}),n?e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900",children:n.name}),e.jsxs("div",{className:"text-sm text-blue-600",children:[n.latitude.toFixed(4),", ",n.longitude.toFixed(4)]})]}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>x(null),children:"å¤‰æ›´"})]})}):e.jsx(d,{onClick:()=>h("destination"),className:"w-full border-dashed border-2 border-gray-300 text-gray-600",variant:"outline",children:"ğŸ¥ ç›®çš„åœ°ã‚’è¨­å®š"})]})]})]}),e.jsx(L,{currentLocation:a?{latitude:a.latitude,longitude:a.longitude}:void 0,onRouteSelected:s=>{console.log("Route selected:",s)},onNavigationStart:s=>{console.log("Navigation started:",s),alert("ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ—ãƒªã«é€£æºã—ã¾ã—ãŸ")},className:"mb-6"}),l&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"xROADæ´»ç”¨å®Ÿç¸¾"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-sm opacity-90",children:"ãƒ«ãƒ¼ãƒˆæœ€é©åŒ–"}),e.jsx("div",{className:"text-2xl font-bold",children:l.totalRoutesOptimized}),e.jsx("div",{className:"text-sm opacity-90",children:"å›å®Ÿè¡Œ"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-sm opacity-90",children:"äºˆæ¸¬ç²¾åº¦"}),e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(l.averageAccuracy*100),"%"]}),e.jsx("div",{className:"text-sm opacity-90",children:"å¹³å‡ç²¾åº¦"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-sm opacity-90",children:"æ™‚é–“çŸ­ç¸®"}),e.jsx("div",{className:"text-2xl font-bold",children:b(l.timeSaved)}),e.jsx("div",{className:"text-sm opacity-90",children:"ç´¯è¨ˆçŸ­ç¸®"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-sm opacity-90",children:"æœ€é©æ™‚é–“å¸¯"}),e.jsxs("div",{className:"text-2xl font-bold",children:[((u=l.mostEfficientTimeSlots[0])==null?void 0:u.hour)||"--","æ™‚"]}),e.jsx("div",{className:"text-sm opacity-90",children:"æœ€åŠ¹ç‡"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-md font-medium text-gray-800 mb-4",children:"æ™‚é–“å¸¯åˆ¥åŠ¹ç‡æ€§"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:l.mostEfficientTimeSlots.map((s,t)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.hour,":00-",s.hour+1,":00"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["å¹³å‡é€Ÿåº¦: ",s.averageSpeed.toFixed(0),"km/h"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["ä¿¡é ¼åº¦: ",Math.round(s.reliability*100),"%"]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${s.reliability*100}%`}})})})]},t))})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-md font-medium text-gray-800 mb-4",children:"xROAD APIçµ±åˆçŠ¶æ³"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"JARTICäº¤é€šé‡API"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"ğŸŸ¢ æ¥ç¶šä¸­"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"DRM-PF ãƒ«ãƒ¼ãƒˆæ¤œç´¢"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"ğŸŸ¢ æ¥ç¶šä¸­"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°"}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"ğŸ”„ 5åˆ†é–“éš”"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{className:"font-medium mb-1",children:"å¯¾è±¡ã‚¨ãƒªã‚¢"}),e.jsx("div",{children:"æ±äº¬éƒ½å¿ƒéƒ¨ 6km Ã— 6km"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{className:"font-medium mb-1",children:"äº¤é€šé‡è¦³æ¸¬ç‚¹"}),e.jsx("div",{children:"ç´„2,600åœ°ç‚¹ï¼ˆç›´è½„å›½é“ï¼‰"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{className:"font-medium mb-1",children:"ãƒ‡ãƒ¼ã‚¿æ›´æ–°"}),e.jsx("div",{children:"5åˆ†å€¤ï¼ˆ20åˆ†é…å»¶ï¼‰"})]})]})]})]})]}),g&&e.jsxs("div",{className:"flex justify-center py-8",children:[e.jsx(w,{size:"lg"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"åˆ†æãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­..."})]})]})})]})};export{A as RouteOptimizationPage};
//# sourceMappingURL=RouteOptimizationPage-b33e8bf6.js.map
