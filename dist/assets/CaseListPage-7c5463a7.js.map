{"version":3,"file":"CaseListPage-7c5463a7.js","sources":["../../src/pages/CaseListPage.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useCaseStore, useAuthStore } from '@/stores';\nimport { Button, LoadingSpinner } from '@/components/common';\nimport { CASE_STATUS } from '@/constants';\n\n// Êó•‰ªòË°®Á§∫„ÅÆ„Éò„É´„Éë„ÉºÈñ¢Êï∞\nconst formatDate = (timestamp: any): string => {\n  try {\n    // Timestamp„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂ†¥Âêà\n    if (timestamp && typeof timestamp.toDate === 'function') {\n      return timestamp.toDate().toLocaleDateString('ja-JP');\n    }\n    // ÈÄöÂ∏∏„ÅÆDate„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åæ„Åü„ÅØÊñáÂ≠óÂàó„ÅÆÂ†¥Âêà\n    if (timestamp) {\n      // seconds„Éï„Ç£„Éº„É´„Éâ„Åå„ÅÇ„ÇãÂ†¥ÂêàÔºà„É¢„ÉÉ„ÇØ„Çø„Ç§„É†„Çπ„Çø„É≥„ÉóÔºâ\n      if (timestamp.seconds) {\n        return new Date(timestamp.seconds * 1000).toLocaleDateString('ja-JP');\n      }\n      return new Date(timestamp).toLocaleDateString('ja-JP');\n    }\n    return 'Êó•‰ªò‰∏çÊòé';\n  } catch (error) {\n    console.error('Date formatting error:', error);\n    return 'Êó•‰ªò‰∏çÊòé';\n  }\n};\n\nconst getStatusBadge = (status: string) => {\n  const statusConfig = {\n    [CASE_STATUS.DISPATCHED]: { \n      label: 'Âá∫Âãï‰∏≠', \n      className: 'badge badge-warning' \n    },\n    [CASE_STATUS.ON_SCENE]: { \n      label: 'ÁèæÂ†¥Ê¥ªÂãï‰∏≠', \n      className: 'badge badge-info' \n    },\n    [CASE_STATUS.TRANSPORTING]: { \n      label: 'Êê¨ÈÄÅ‰∏≠', \n      className: 'badge badge-warning' \n    },\n    [CASE_STATUS.COMPLETED]: { \n      label: 'ÂÆå‰∫Ü', \n      className: 'badge badge-success' \n    }\n  };\n  \n  const config = statusConfig[status as keyof typeof statusConfig] || { label: status, className: 'badge' };\n  \n  return (\n    <span className={config.className}>\n      {config.label}\n    </span>\n  );\n};\n\nexport const CaseListPage: React.FC = () => {\n  const { cases, loading, error, loadCases } = useCaseStore();\n  const { userInfo, logout } = useAuthStore();\n\n  useEffect(() => {\n    loadCases();\n  }, [loadCases]);\n\n  const handleLogout = async () => {\n    await logout();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* „Éò„ÉÉ„ÉÄ„Éº */}\n      <header className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center\">\n              <div className=\"h-8 w-8 bg-medical-primary rounded-full flex items-center justify-center mr-3\">\n                <svg className=\"h-5 w-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n                </svg>\n              </div>\n              <h1 className=\"text-xl font-semibold text-gray-900\">Doctor Car App</h1>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-sm text-gray-700\">\n                <span className=\"font-medium\">{userInfo?.name}</span>\n                <span className=\"text-gray-500 ml-2\">({userInfo?.team})</span>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={handleLogout}>\n                „É≠„Ç∞„Ç¢„Ç¶„Éà\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */}\n      <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"mb-6 flex justify-between items-start\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">‰∫ãÊ°à‰∏ÄË¶ß</h2>\n              <p className=\"mt-1 text-sm text-gray-600\">\n                ÁèæÂú®„ÅÆÂá∫Âãï‰∫ãÊ°à„Å®ÈÅéÂéª„ÅÆË®òÈå≤„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô\n              </p>\n            </div>\n            <div className=\"flex space-x-3\">\n              <Link\n                to=\"/route-optimization\"\n                className=\"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center\"\n              >\n                üöó xROAD „É´„Éº„ÉàÊúÄÈÅ©Âåñ\n              </Link>\n              <Link\n                to=\"/registries\"\n                className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center\"\n              >\n                <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                „É¨„Ç∏„Çπ„Éà„É™‰∏ÄË¶ß\n              </Link>\n              <Link\n                to=\"/cases/create\"\n                className=\"bg-medical-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center\"\n              >\n                <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                </svg>\n                Êñ∞Ë¶è‰∫ãÊ°à‰ΩúÊàê\n              </Link>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"mb-6 bg-red-50 border border-red-200 rounded-md p-4\">\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          )}\n\n          {loading ? (\n            <div className=\"flex justify-center items-center py-12\">\n              <LoadingSpinner size=\"lg\" />\n            </div>\n          ) : (\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n              <ul className=\"divide-y divide-gray-200\">\n                {cases.length === 0 ? (\n                  <li className=\"px-6 py-12 text-center\">\n                    <p className=\"text-gray-500\">‰∫ãÊ°à„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>\n                  </li>\n                ) : (\n                  cases.map((case_) => (\n                    <li key={case_.id}>\n                      <Link\n                        to={`/cases/${case_.id}`}\n                        className=\"block hover:bg-gray-50 px-6 py-4 transition-colors\"\n                      >\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"flex items-center justify-between\">\n                              <p className=\"text-lg font-medium text-gray-900 truncate\">\n                                {case_.caseName}\n                              </p>\n                              {getStatusBadge(case_.status)}\n                            </div>\n                            \n                            <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n                              <svg className=\"flex-shrink-0 mr-1.5 h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                              </svg>\n                              <span>„ÉÅ„Éº„É†: {case_.teamId}</span>\n                              \n                              {case_.patientInfo.age && (\n                                <>\n                                  <span className=\"mx-2\">‚Ä¢</span>\n                                  <span>ÊÇ£ËÄÖ: {case_.patientInfo.age}Ê≠≥ {case_.patientInfo.gender === 'male' ? 'Áî∑ÊÄß' : case_.patientInfo.gender === 'female' ? 'Â•≥ÊÄß' : ''}</span>\n                                </>\n                              )}\n                              \n                              <span className=\"mx-2\">‚Ä¢</span>\n                              <span>{formatDate(case_.createdAt)}</span>\n                            </div>\n                          </div>\n                          \n                          <div className=\"ml-2 flex-shrink-0\">\n                            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\n                            </svg>\n                          </div>\n                        </div>\n                      </Link>\n                    </li>\n                  ))\n                )}\n              </ul>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n};"],"names":["formatDate","timestamp","error","getStatusBadge","status","config","CASE_STATUS","CaseListPage","cases","loading","loadCases","useCaseStore","userInfo","logout","useAuthStore","useEffect","handleLogout","jsxs","jsx","Button","Link","LoadingSpinner","case_","Fragment"],"mappings":"0HAOA,MAAMA,EAAcC,GAA2B,CACzC,GAAA,CAEF,OAAIA,GAAa,OAAOA,EAAU,QAAW,WACpCA,EAAU,OAAA,EAAS,mBAAmB,OAAO,EAGlDA,EAEEA,EAAU,QACL,IAAI,KAAKA,EAAU,QAAU,GAAI,EAAE,mBAAmB,OAAO,EAE/D,IAAI,KAAKA,CAAS,EAAE,mBAAmB,OAAO,EAEhD,aACAC,EAAO,CACN,eAAA,MAAM,yBAA0BA,CAAK,EACtC,MACT,CACF,EAEMC,EAAkBC,GAAmB,CAoBnC,MAAAC,EAnBe,CACnB,CAACC,EAAY,UAAU,EAAG,CACxB,MAAO,MACP,UAAW,qBACb,EACA,CAACA,EAAY,QAAQ,EAAG,CACtB,MAAO,QACP,UAAW,kBACb,EACA,CAACA,EAAY,YAAY,EAAG,CAC1B,MAAO,MACP,UAAW,qBACb,EACA,CAACA,EAAY,SAAS,EAAG,CACvB,MAAO,KACP,UAAW,qBACb,CAAA,EAG0BF,CAAmC,GAAK,CAAE,MAAOA,EAAQ,UAAW,SAEhG,aACG,OAAK,CAAA,UAAWC,EAAO,UACrB,WAAO,KACV,CAAA,CAEJ,EAEaE,EAAyB,IAAM,CAC1C,KAAM,CAAE,MAAAC,EAAO,QAAAC,EAAS,MAAAP,EAAO,UAAAQ,CAAA,EAAcC,IACvC,CAAE,SAAAC,EAAU,OAAAC,CAAO,EAAIC,EAAa,EAE1CC,EAAAA,UAAU,IAAM,CACJL,GAAA,EACT,CAACA,CAAS,CAAC,EAEd,MAAMM,EAAe,SAAY,CAC/B,MAAMH,EAAO,CAAA,EAIb,OAAAI,EAAA,KAAC,MAAI,CAAA,UAAU,0BAEb,SAAA,CAACC,EAAA,IAAA,SAAA,CAAO,UAAU,8CAChB,SAACA,EAAA,IAAA,MAAA,CAAI,UAAU,yCACb,SAAAD,OAAC,MAAI,CAAA,UAAU,yCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,gFACb,SAACA,EAAA,IAAA,MAAA,CAAI,UAAU,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,YAC5E,SAACA,EAAAA,IAAA,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,6HAA8H,CAAA,CAAA,CACrM,CACF,CAAA,EACCA,EAAA,IAAA,KAAA,CAAG,UAAU,sCAAsC,SAAc,iBAAA,CAAA,EACpE,EAEAD,EAAAA,KAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAC,EAAA,IAAC,OAAK,CAAA,UAAU,cAAe,SAAAN,GAAA,YAAAA,EAAU,KAAK,EAC9CK,EAAAA,KAAC,OAAK,CAAA,UAAU,qBAAqB,SAAA,CAAA,IAAEL,GAAA,YAAAA,EAAU,KAAK,GAAA,EAAC,CAAA,EACzD,EACAM,EAAAA,IAACC,GAAO,QAAQ,UAAU,KAAK,KAAK,QAASH,EAAc,SAE3D,OAAA,CAAA,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EACF,QAGC,OAAK,CAAA,UAAU,yCACd,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,mCAAmC,SAAI,OAAA,EACpDA,EAAA,IAAA,IAAA,CAAE,UAAU,6BAA6B,SAE1C,uBAAA,CAAA,EACF,EACAD,EAAAA,KAAC,MAAI,CAAA,UAAU,iBACb,SAAA,CAAAC,EAAA,IAACE,EAAA,CACC,GAAG,sBACH,UAAU,wGACX,SAAA,iBAAA,CAED,EACAH,EAAA,KAACG,EAAA,CACC,GAAG,cACH,UAAU,oGAEV,SAAA,CAAAF,EAAAA,IAAC,OAAI,UAAU,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,YACtE,eAAC,OAAK,CAAA,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,uHAAuH,CAC9L,CAAA,EAAM,SAAA,CAAA,CAER,EACAD,EAAA,KAACG,EAAA,CACC,GAAG,gBACH,UAAU,2GAEV,SAAA,CAAAF,EAAAA,IAAC,OAAI,UAAU,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,YACtE,eAAC,OAAK,CAAA,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,6BAA6B,CACpG,CAAA,EAAM,QAAA,CAAA,CAER,CAAA,EACF,CAAA,EACF,EAEChB,GACEgB,EAAA,IAAA,MAAA,CAAI,UAAU,sDACb,eAAC,IAAE,CAAA,UAAU,uBAAwB,SAAAhB,CAAA,CAAM,CAC7C,CAAA,EAGDO,EACES,EAAA,IAAA,MAAA,CAAI,UAAU,yCACb,eAACG,EAAe,CAAA,KAAK,IAAK,CAAA,EAC5B,EAECH,MAAA,MAAA,CAAI,UAAU,gDACb,SAAAA,EAAAA,IAAC,MAAG,UAAU,2BACX,SAAMV,EAAA,SAAW,EACfU,MAAA,KAAA,CAAG,UAAU,yBACZ,eAAC,IAAE,CAAA,UAAU,gBAAgB,SAAA,UAAQ,CAAA,EACvC,EAEAV,EAAM,IAAKc,SACR,KACC,CAAA,SAAAJ,EAAA,IAACE,EAAA,CACC,GAAI,UAAUE,EAAM,EAAE,GACtB,UAAU,qDAEV,SAAAL,EAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAA,IAAC,IAAE,CAAA,UAAU,6CACV,SAAAI,EAAM,SACT,EACCnB,EAAemB,EAAM,MAAM,CAAA,EAC9B,EAEAL,EAAAA,KAAC,MAAI,CAAA,UAAU,+CACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+BAA+B,KAAK,OAAO,OAAO,eAAe,QAAQ,YACtF,SAAA,CAACC,EAAAA,IAAA,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,oFAAqF,CAAA,EAC1JA,EAAAA,IAAC,QAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,kCAAmC,CAAA,CAAA,EAC1G,SACC,OAAK,CAAA,SAAA,CAAA,QAAMI,EAAM,MAAA,EAAO,EAExBA,EAAM,YAAY,KAEfL,EAAA,KAAAM,EAAA,SAAA,CAAA,SAAA,CAACL,EAAA,IAAA,OAAA,CAAK,UAAU,OAAO,SAAC,IAAA,SACvB,OAAK,CAAA,SAAA,CAAA,OAAKI,EAAM,YAAY,IAAI,KAAGA,EAAM,YAAY,SAAW,OAAS,KAAOA,EAAM,YAAY,SAAW,SAAW,KAAO,EAAA,EAAG,CAAA,EACrI,EAGDJ,EAAA,IAAA,OAAA,CAAK,UAAU,OAAO,SAAC,IAAA,EACvBA,EAAA,IAAA,OAAA,CAAM,SAAWlB,EAAAsB,EAAM,SAAS,EAAE,CAAA,EACrC,CAAA,EACF,EAEAJ,EAAAA,IAAC,MAAI,CAAA,UAAU,qBACb,SAAAA,EAAA,IAAC,OAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,YAC/E,SAAAA,EAAAA,IAAC,OAAK,CAAA,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,cAAe,CAAA,CAAA,CACtF,CACF,CAAA,CAAA,EACF,CAAA,CAtCK,CAAA,EAAAI,EAAM,EAwCf,CACD,EAEL,CACF,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CACF,CAAA,CAAA,CAEJ"}