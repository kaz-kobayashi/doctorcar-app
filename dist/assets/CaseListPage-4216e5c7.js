import{u as x,a as m,r as h,j as e,B as j,L as c,b as g}from"./index-8b8f62d0.js";import{C as l}from"./index-69f8b09f.js";const u=s=>{try{return s&&typeof s.toDate=="function"?s.toDate().toLocaleDateString("ja-JP"):s?s.seconds?new Date(s.seconds*1e3).toLocaleDateString("ja-JP"):new Date(s).toLocaleDateString("ja-JP"):"日付不明"}catch(n){return console.error("Date formatting error:",n),"日付不明"}},p=s=>{const t={[l.DISPATCHED]:{label:"出動中",className:"badge badge-warning"},[l.ON_SCENE]:{label:"現場活動中",className:"badge badge-info"},[l.TRANSPORTING]:{label:"搬送中",className:"badge badge-warning"},[l.COMPLETED]:{label:"完了",className:"badge badge-success"}}[s]||{label:s,className:"badge"};return e.jsx("span",{className:t.className,children:t.label})},b=()=>{const{cases:s,loading:n,error:t,loadCases:i}=x(),{userInfo:r,logout:d}=m();h.useEffect(()=>{i()},[i]);const o=async()=>{await d()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 bg-medical-primary rounded-full flex items-center justify-center mr-3",children:e.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Doctor Car App"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:r==null?void 0:r.name}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["(",r==null?void 0:r.team,")"]})]}),e.jsx(j,{variant:"outline",size:"sm",onClick:o,children:"ログアウト"})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"事案一覧"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"現在の出動事案と過去の記録を確認できます"})]}),e.jsxs(c,{to:"/cases/create",className:"bg-medical-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"新規事案作成"]})]}),t&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-sm text-red-600",children:t})}),n?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(g,{size:"lg"})}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:s.length===0?e.jsx("li",{className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"事案がありません"})}):s.map(a=>e.jsx("li",{children:e.jsx(c,{to:`/cases/${a.id}`,className:"block hover:bg-gray-50 px-6 py-4 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-lg font-medium text-gray-900 truncate",children:a.caseName}),p(a.status)]}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[e.jsxs("svg",{className:"flex-shrink-0 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsxs("span",{children:["チーム: ",a.teamId]}),a.patientInfo.age&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{children:["患者: ",a.patientInfo.age,"歳 ",a.patientInfo.gender==="male"?"男性":a.patientInfo.gender==="female"?"女性":""]})]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{children:u(a.createdAt)})]})]}),e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})})},a.id))})})]})})]})};export{b as CaseListPage};
//# sourceMappingURL=CaseListPage-4216e5c7.js.map
