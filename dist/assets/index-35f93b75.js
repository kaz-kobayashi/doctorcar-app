var _O=Object.defineProperty;var NO=(r,e,t)=>e in r?_O(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ra=(r,e,t)=>(NO(r,typeof e!="symbol"?e+"":e,t),t);function TO(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var EO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var GC={exports:{}},V_={},WC={exports:{}},_v={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */_v.exports;(function(r,e){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t="18.3.1",s=Symbol.for("react.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.iterator,Y="@@iterator";function J(V){if(V===null||typeof V!="object")return null;var W=M&&V[M]||V[Y];return typeof W=="function"?W:null}var ee={current:null},pe={transition:null},ye={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},te={current:null},F={},$=null;function q(V){$=V}F.setExtraStackFrame=function(V){$=V},F.getCurrentStack=null,F.getStackAddendum=function(){var V="";$&&(V+=$);var W=F.getCurrentStack;return W&&(V+=W()||""),V};var G=!1,K=!1,X=!1,j=!1,Ie=!1,ct={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:pe,ReactCurrentOwner:te};ct.ReactDebugCurrentFrame=F,ct.ReactCurrentActQueue=ye;function nt(V){{for(var W=arguments.length,ue=new Array(W>1?W-1:0),ge=1;ge<W;ge++)ue[ge-1]=arguments[ge];Te("warn",V,ue)}}function _e(V){{for(var W=arguments.length,ue=new Array(W>1?W-1:0),ge=1;ge<W;ge++)ue[ge-1]=arguments[ge];Te("error",V,ue)}}function Te(V,W,ue){{var ge=ct.ReactDebugCurrentFrame,Ve=ge.getStackAddendum();Ve!==""&&(W+="%s",ue=ue.concat([Ve]));var st=ue.map(function(Ze){return String(Ze)});st.unshift("Warning: "+W),Function.prototype.apply.call(console[V],console,st)}}var Zt={};function Oe(V,W){{var ue=V.constructor,ge=ue&&(ue.displayName||ue.name)||"ReactClass",Ve=ge+"."+W;if(Zt[Ve])return;_e("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",W,ge),Zt[Ve]=!0}}var Se={isMounted:function(V){return!1},enqueueForceUpdate:function(V,W,ue){Oe(V,"forceUpdate")},enqueueReplaceState:function(V,W,ue,ge){Oe(V,"replaceState")},enqueueSetState:function(V,W,ue,ge){Oe(V,"setState")}},Be=Object.assign,mt={};Object.freeze(mt);function Bt(V,W,ue){this.props=V,this.context=W,this.refs=mt,this.updater=ue||Se}Bt.prototype.isReactComponent={},Bt.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},Bt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};{var Tt={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},bt=function(V,W){Object.defineProperty(Bt.prototype,V,{get:function(){nt("%s(...) is deprecated in plain JavaScript React classes. %s",W[0],W[1])}})};for(var Rn in Tt)Tt.hasOwnProperty(Rn)&&bt(Rn,Tt[Rn])}function Wn(){}Wn.prototype=Bt.prototype;function Jn(V,W,ue){this.props=V,this.context=W,this.refs=mt,this.updater=ue||Se}var Kn=Jn.prototype=new Wn;Kn.constructor=Jn,Be(Kn,Bt.prototype),Kn.isPureReactComponent=!0;function Xn(){var V={current:null};return Object.seal(V),V}var Zn=Array.isArray;function Tn(V){return Zn(V)}function er(V){{var W=typeof Symbol=="function"&&Symbol.toStringTag,ue=W&&V[Symbol.toStringTag]||V.constructor.name||"Object";return ue}}function On(V){try{return jn(V),!1}catch{return!0}}function jn(V){return""+V}function In(V){if(On(V))return _e("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",er(V)),jn(V)}function dr(V,W,ue){var ge=V.displayName;if(ge)return ge;var Ve=W.displayName||W.name||"";return Ve!==""?ue+"("+Ve+")":ue}function Or(V){return V.displayName||"Context"}function mr(V){if(V==null)return null;if(typeof V.tag=="number"&&_e("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof V=="function")return V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case u:return"Fragment";case o:return"Portal";case p:return"Profiler";case c:return"StrictMode";case E:return"Suspense";case R:return"SuspenseList"}if(typeof V=="object")switch(V.$$typeof){case x:var W=V;return Or(W)+".Consumer";case v:var ue=V;return Or(ue._context)+".Provider";case N:return dr(V,V.render,"ForwardRef");case C:var ge=V.displayName||null;return ge!==null?ge:mr(V.type)||"Memo";case P:{var Ve=V,st=Ve._payload,Ze=Ve._init;try{return mr(Ze(st))}catch{return null}}}return null}var br=Object.prototype.hasOwnProperty,Dr={key:!0,ref:!0,__self:!0,__source:!0},hr,Rr,tr;tr={};function ir(V){if(br.call(V,"ref")){var W=Object.getOwnPropertyDescriptor(V,"ref").get;if(W&&W.isReactWarning)return!1}return V.ref!==void 0}function It(V){if(br.call(V,"key")){var W=Object.getOwnPropertyDescriptor(V,"key").get;if(W&&W.isReactWarning)return!1}return V.key!==void 0}function cn(V,W){var ue=function(){hr||(hr=!0,_e("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",W))};ue.isReactWarning=!0,Object.defineProperty(V,"key",{get:ue,configurable:!0})}function Gr(V,W){var ue=function(){Rr||(Rr=!0,_e("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",W))};ue.isReactWarning=!0,Object.defineProperty(V,"ref",{get:ue,configurable:!0})}function ii(V){if(typeof V.ref=="string"&&te.current&&V.__self&&te.current.stateNode!==V.__self){var W=mr(te.current.type);tr[W]||(_e('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W,V.ref),tr[W]=!0)}}var Ae=function(V,W,ue,ge,Ve,st,Ze){var ft={$$typeof:s,type:V,key:W,ref:ue,props:Ze,_owner:st};return ft._store={},Object.defineProperty(ft._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ft,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ge}),Object.defineProperty(ft,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ve}),Object.freeze&&(Object.freeze(ft.props),Object.freeze(ft)),ft};function Xe(V,W,ue){var ge,Ve={},st=null,Ze=null,ft=null,zt=null;if(W!=null){ir(W)&&(Ze=W.ref,ii(W)),It(W)&&(In(W.key),st=""+W.key),ft=W.__self===void 0?null:W.__self,zt=W.__source===void 0?null:W.__source;for(ge in W)br.call(W,ge)&&!Dr.hasOwnProperty(ge)&&(Ve[ge]=W[ge])}var Jt=arguments.length-2;if(Jt===1)Ve.children=ue;else if(Jt>1){for(var hn=Array(Jt),Gt=0;Gt<Jt;Gt++)hn[Gt]=arguments[Gt+2];Object.freeze&&Object.freeze(hn),Ve.children=hn}if(V&&V.defaultProps){var Cn=V.defaultProps;for(ge in Cn)Ve[ge]===void 0&&(Ve[ge]=Cn[ge])}if(st||Ze){var Dn=typeof V=="function"?V.displayName||V.name||"Unknown":V;st&&cn(Ve,Dn),Ze&&Gr(Ve,Dn)}return Ae(V,st,Ze,ft,zt,te.current,Ve)}function vt(V,W){var ue=Ae(V.type,W,V.ref,V._self,V._source,V._owner,V.props);return ue}function qt(V,W,ue){if(V==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ge,Ve=Be({},V.props),st=V.key,Ze=V.ref,ft=V._self,zt=V._source,Jt=V._owner;if(W!=null){ir(W)&&(Ze=W.ref,Jt=te.current),It(W)&&(In(W.key),st=""+W.key);var hn;V.type&&V.type.defaultProps&&(hn=V.type.defaultProps);for(ge in W)br.call(W,ge)&&!Dr.hasOwnProperty(ge)&&(W[ge]===void 0&&hn!==void 0?Ve[ge]=hn[ge]:Ve[ge]=W[ge])}var Gt=arguments.length-2;if(Gt===1)Ve.children=ue;else if(Gt>1){for(var Cn=Array(Gt),Dn=0;Dn<Gt;Dn++)Cn[Dn]=arguments[Dn+2];Ve.children=Cn}return Ae(V.type,st,Ze,ft,zt,Jt,Ve)}function Wt(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}var Ln=".",_n=":";function Cr(V){var W=/[=:]/g,ue={"=":"=0",":":"=2"},ge=V.replace(W,function(Ve){return ue[Ve]});return"$"+ge}var rn=!1,yr=/\/+/g;function dn(V){return V.replace(yr,"$&/")}function Qt(V,W){return typeof V=="object"&&V!==null&&V.key!=null?(In(V.key),Cr(""+V.key)):W.toString(36)}function Wr(V,W,ue,ge,Ve){var st=typeof V;(st==="undefined"||st==="boolean")&&(V=null);var Ze=!1;if(V===null)Ze=!0;else switch(st){case"string":case"number":Ze=!0;break;case"object":switch(V.$$typeof){case s:case o:Ze=!0}}if(Ze){var ft=V,zt=Ve(ft),Jt=ge===""?Ln+Qt(ft,0):ge;if(Tn(zt)){var hn="";Jt!=null&&(hn=dn(Jt)+"/"),Wr(zt,W,hn,"",function(Us){return Us})}else zt!=null&&(Wt(zt)&&(zt.key&&(!ft||ft.key!==zt.key)&&In(zt.key),zt=vt(zt,ue+(zt.key&&(!ft||ft.key!==zt.key)?dn(""+zt.key)+"/":"")+Jt)),W.push(zt));return 1}var Gt,Cn,Dn=0,St=ge===""?Ln:ge+_n;if(Tn(V))for(var Ns=0;Ns<V.length;Ns++)Gt=V[Ns],Cn=St+Qt(Gt,Ns),Dn+=Wr(Gt,W,ue,Cn,Ve);else{var zs=J(V);if(typeof zs=="function"){var Ps=V;zs===Ps.entries&&(rn||nt("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),rn=!0);for(var Wa=zs.call(Ps),Ti,go=0;!(Ti=Wa.next()).done;)Gt=Ti.value,Cn=St+Qt(Gt,go++),Dn+=Wr(Gt,W,ue,Cn,Ve)}else if(st==="object"){var Mo=String(V);throw new Error("Objects are not valid as a React child (found: "+(Mo==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Mo)+"). If you meant to render a collection of children, use an array instead.")}}return Dn}function jr(V,W,ue){if(V==null)return V;var ge=[],Ve=0;return Wr(V,ge,"","",function(st){return W.call(ue,st,Ve++)}),ge}function Lr(V){var W=0;return jr(V,function(){W++}),W}function ps(V,W,ue){jr(V,function(){W.apply(this,arguments)},ue)}function Qi(V){return jr(V,function(W){return W})||[]}function ze(V){if(!Wt(V))throw new Error("React.Children.only expected to receive a single React element child.");return V}function xe(V){var W={$$typeof:x,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};W.Provider={$$typeof:v,_context:W};var ue=!1,ge=!1,Ve=!1;{var st={$$typeof:x,_context:W};Object.defineProperties(st,{Provider:{get:function(){return ge||(ge=!0,_e("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),W.Provider},set:function(Ze){W.Provider=Ze}},_currentValue:{get:function(){return W._currentValue},set:function(Ze){W._currentValue=Ze}},_currentValue2:{get:function(){return W._currentValue2},set:function(Ze){W._currentValue2=Ze}},_threadCount:{get:function(){return W._threadCount},set:function(Ze){W._threadCount=Ze}},Consumer:{get:function(){return ue||(ue=!0,_e("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),W.Consumer}},displayName:{get:function(){return W.displayName},set:function(Ze){Ve||(nt("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",Ze),Ve=!0)}}}),W.Consumer=st}return W._currentRenderer=null,W._currentRenderer2=null,W}var Vt=-1,lt=0,gs=1,si=2;function Mn(V){if(V._status===Vt){var W=V._result,ue=W();if(ue.then(function(st){if(V._status===lt||V._status===Vt){var Ze=V;Ze._status=gs,Ze._result=st}},function(st){if(V._status===lt||V._status===Vt){var Ze=V;Ze._status=si,Ze._result=st}}),V._status===Vt){var ge=V;ge._status=lt,ge._result=ue}}if(V._status===gs){var Ve=V._result;return Ve===void 0&&_e(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Ve),"default"in Ve||_e(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Ve),Ve.default}else throw V._result}function H(V){var W={_status:Vt,_result:V},ue={$$typeof:P,_payload:W,_init:Mn};{var ge,Ve;Object.defineProperties(ue,{defaultProps:{configurable:!0,get:function(){return ge},set:function(st){_e("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),ge=st,Object.defineProperty(ue,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Ve},set:function(st){_e("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ve=st,Object.defineProperty(ue,"propTypes",{enumerable:!0})}}})}return ue}function De(V){V!=null&&V.$$typeof===C?_e("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof V!="function"?_e("forwardRef requires a render function but was given %s.",V===null?"null":typeof V):V.length!==0&&V.length!==2&&_e("forwardRef render functions accept exactly two parameters: props and ref. %s",V.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),V!=null&&(V.defaultProps!=null||V.propTypes!=null)&&_e("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var W={$$typeof:N,render:V};{var ue;Object.defineProperty(W,"displayName",{enumerable:!1,configurable:!0,get:function(){return ue},set:function(ge){ue=ge,!V.name&&!V.displayName&&(V.displayName=ge)}})}return W}var Pe;Pe=Symbol.for("react.module.reference");function at(V){return!!(typeof V=="string"||typeof V=="function"||V===u||V===p||Ie||V===c||V===E||V===R||j||V===A||G||K||X||typeof V=="object"&&V!==null&&(V.$$typeof===P||V.$$typeof===C||V.$$typeof===v||V.$$typeof===x||V.$$typeof===N||V.$$typeof===Pe||V.getModuleId!==void 0))}function Pt(V,W){at(V)||_e("memo: The first argument must be a component. Instead received: %s",V===null?"null":typeof V);var ue={$$typeof:C,type:V,compare:W===void 0?null:W};{var ge;Object.defineProperty(ue,"displayName",{enumerable:!1,configurable:!0,get:function(){return ge},set:function(Ve){ge=Ve,!V.name&&!V.displayName&&(V.displayName=Ve)}})}return ue}function it(){var V=ee.current;return V===null&&_e(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),V}function Rt(V){var W=it();if(V._context!==void 0){var ue=V._context;ue.Consumer===V?_e("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):ue.Provider===V&&_e("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return W.useContext(V)}function ht(V){var W=it();return W.useState(V)}function En(V,W,ue){var ge=it();return ge.useReducer(V,W,ue)}function xt(V){var W=it();return W.useRef(V)}function Vn(V,W){var ue=it();return ue.useEffect(V,W)}function wr(V,W){var ue=it();return ue.useInsertionEffect(V,W)}function xi(V,W){var ue=it();return ue.useLayoutEffect(V,W)}function oi(V,W){var ue=it();return ue.useCallback(V,W)}function fr(V,W){var ue=it();return ue.useMemo(V,W)}function Yi(V,W,ue){var ge=it();return ge.useImperativeHandle(V,W,ue)}function Uo(V,W){{var ue=it();return ue.useDebugValue(V,W)}}function Ws(){var V=it();return V.useTransition()}function vs(V){var W=it();return W.useDeferredValue(V)}function At(){var V=it();return V.useId()}function Ji(V,W,ue){var ge=it();return ge.useSyncExternalStore(V,W,ue)}var Mr=0,Xi,Oo,ho,bs,$t,vn,ys;function xs(){}xs.__reactDisabledLog=!0;function Vs(){{if(Mr===0){Xi=console.log,Oo=console.info,ho=console.warn,bs=console.error,$t=console.group,vn=console.groupCollapsed,ys=console.groupEnd;var V={configurable:!0,enumerable:!0,value:xs,writable:!0};Object.defineProperties(console,{info:V,log:V,warn:V,error:V,group:V,groupCollapsed:V,groupEnd:V})}Mr++}}function fo(){{if(Mr--,Mr===0){var V={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Be({},V,{value:Xi}),info:Be({},V,{value:Oo}),warn:Be({},V,{value:ho}),error:Be({},V,{value:bs}),group:Be({},V,{value:$t}),groupCollapsed:Be({},V,{value:vn}),groupEnd:Be({},V,{value:ys})})}Mr<0&&_e("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var _t=ct.ReactCurrentDispatcher,Yt;function es(V,W,ue){{if(Yt===void 0)try{throw Error()}catch(Ve){var ge=Ve.stack.trim().match(/\n( *(at )?)/);Yt=ge&&ge[1]||""}return`
`+Yt+V}}var ts=!1,Bn;{var _i=typeof WeakMap=="function"?WeakMap:Map;Bn=new _i}function _s(V,W){if(!V||ts)return"";{var ue=Bn.get(V);if(ue!==void 0)return ue}var ge;ts=!0;var Ve=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var st;st=_t.current,_t.current=null,Vs();try{if(W){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(St){ge=St}Reflect.construct(V,[],Ze)}else{try{Ze.call()}catch(St){ge=St}V.call(Ze.prototype)}}else{try{throw Error()}catch(St){ge=St}V()}}catch(St){if(St&&ge&&typeof St.stack=="string"){for(var ft=St.stack.split(`
`),zt=ge.stack.split(`
`),Jt=ft.length-1,hn=zt.length-1;Jt>=1&&hn>=0&&ft[Jt]!==zt[hn];)hn--;for(;Jt>=1&&hn>=0;Jt--,hn--)if(ft[Jt]!==zt[hn]){if(Jt!==1||hn!==1)do if(Jt--,hn--,hn<0||ft[Jt]!==zt[hn]){var Gt=`
`+ft[Jt].replace(" at new "," at ");return V.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",V.displayName)),typeof V=="function"&&Bn.set(V,Gt),Gt}while(Jt>=1&&hn>=0);break}}}finally{ts=!1,_t.current=st,fo(),Error.prepareStackTrace=Ve}var Cn=V?V.displayName||V.name:"",Dn=Cn?es(Cn):"";return typeof V=="function"&&Bn.set(V,Dn),Dn}function ai(V,W,ue){return _s(V,!1)}function $n(V){var W=V.prototype;return!!(W&&W.isReactComponent)}function Ut(V,W,ue){if(V==null)return"";if(typeof V=="function")return _s(V,$n(V));if(typeof V=="string")return es(V);switch(V){case E:return es("Suspense");case R:return es("SuspenseList")}if(typeof V=="object")switch(V.$$typeof){case N:return ai(V.render);case C:return Ut(V.type,W,ue);case P:{var ge=V,Ve=ge._payload,st=ge._init;try{return Ut(st(Ve),W,ue)}catch{}}}return""}var ns={},Ni=ct.ReactDebugCurrentFrame;function Oi(V){if(V){var W=V._owner,ue=Ut(V.type,V._source,W?W.type:null);Ni.setExtraStackFrame(ue)}else Ni.setExtraStackFrame(null)}function Ks(V,W,ue,ge,Ve){{var st=Function.call.bind(br);for(var Ze in V)if(st(V,Ze)){var ft=void 0;try{if(typeof V[Ze]!="function"){var zt=Error((ge||"React class")+": "+ue+" type `"+Ze+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof V[Ze]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw zt.name="Invariant Violation",zt}ft=V[Ze](W,Ze,ge,ue,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Jt){ft=Jt}ft&&!(ft instanceof Error)&&(Oi(Ve),_e("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ge||"React class",ue,Ze,typeof ft),Oi(null)),ft instanceof Error&&!(ft.message in ns)&&(ns[ft.message]=!0,Oi(Ve),_e("Failed %s type: %s",ue,ft.message),Oi(null))}}}function Ot(V){if(V){var W=V._owner,ue=Ut(V.type,V._source,W?W.type:null);q(ue)}else q(null)}var po;po=!1;function Zs(){if(te.current){var V=mr(te.current.type);if(V)return`

Check the render method of \``+V+"`."}return""}function Nt(V){if(V!==void 0){var W=V.fileName.replace(/^.*[\\\/]/,""),ue=V.lineNumber;return`

Check your code at `+W+":"+ue+"."}return""}function jo(V){return V!=null?Nt(V.__source):""}var Hn={};function Kr(V){var W=Zs();if(!W){var ue=typeof V=="string"?V:V.displayName||V.name;ue&&(W=`

Check the top-level render call using <`+ue+">.")}return W}function rs(V,W){if(!(!V._store||V._store.validated||V.key!=null)){V._store.validated=!0;var ue=Kr(W);if(!Hn[ue]){Hn[ue]=!0;var ge="";V&&V._owner&&V._owner!==te.current&&(ge=" It was passed a child from "+mr(V._owner.type)+"."),Ot(V),_e('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ue,ge),Ot(null)}}}function ca(V,W){if(typeof V=="object"){if(Tn(V))for(var ue=0;ue<V.length;ue++){var ge=V[ue];Wt(ge)&&rs(ge,W)}else if(Wt(V))V._store&&(V._store.validated=!0);else if(V){var Ve=J(V);if(typeof Ve=="function"&&Ve!==V.entries)for(var st=Ve.call(V),Ze;!(Ze=st.next()).done;)Wt(Ze.value)&&rs(Ze.value,W)}}}function et(V){{var W=V.type;if(W==null||typeof W=="string")return;var ue;if(typeof W=="function")ue=W.propTypes;else if(typeof W=="object"&&(W.$$typeof===N||W.$$typeof===C))ue=W.propTypes;else return;if(ue){var ge=mr(W);Ks(ue,V.props,"prop",ge,V)}else if(W.PropTypes!==void 0&&!po){po=!0;var Ve=mr(W);_e("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ve||"Unknown")}typeof W.getDefaultProps=="function"&&!W.getDefaultProps.isReactClassApproved&&_e("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ht(V){{for(var W=Object.keys(V.props),ue=0;ue<W.length;ue++){var ge=W[ue];if(ge!=="children"&&ge!=="key"){Ot(V),_e("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ge),Ot(null);break}}V.ref!==null&&(Ot(V),_e("Invalid attribute `ref` supplied to `React.Fragment`."),Ot(null))}}function bn(V,W,ue){var ge=at(V);if(!ge){var Ve="";(V===void 0||typeof V=="object"&&V!==null&&Object.keys(V).length===0)&&(Ve+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var st=jo(W);st?Ve+=st:Ve+=Zs();var Ze;V===null?Ze="null":Tn(V)?Ze="array":V!==void 0&&V.$$typeof===s?(Ze="<"+(mr(V.type)||"Unknown")+" />",Ve=" Did you accidentally export a JSX literal instead of a component?"):Ze=typeof V,_e("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ze,Ve)}var ft=Xe.apply(this,arguments);if(ft==null)return ft;if(ge)for(var zt=2;zt<arguments.length;zt++)ca(arguments[zt],V);return V===u?Ht(ft):et(ft),ft}var li=!1;function Fr(V){var W=bn.bind(null,V);return W.type=V,li||(li=!0,nt("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(W,"type",{enumerable:!1,get:function(){return nt("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:V}),V}}),W}function pr(V,W,ue){for(var ge=qt.apply(this,arguments),Ve=2;Ve<arguments.length;Ve++)ca(arguments[Ve],ge.type);return et(ge),ge}function da(V,W){var ue=pe.transition;pe.transition={};var ge=pe.transition;pe.transition._updatedFibers=new Set;try{V()}finally{if(pe.transition=ue,ue===null&&ge._updatedFibers){var Ve=ge._updatedFibers.size;Ve>10&&nt("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),ge._updatedFibers.clear()}}}var ji=!1,Li=null;function is(V){if(Li===null)try{var W=("require"+Math.random()).slice(0,7),ue=r&&r[W];Li=ue.call(r,"timers").setImmediate}catch{Li=function(Ve){ji===!1&&(ji=!0,typeof MessageChannel>"u"&&_e("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var st=new MessageChannel;st.port1.onmessage=Ve,st.port2.postMessage(void 0)}}return Li(V)}var An=0,ui=!1;function As(V){{var W=An;An++,ye.current===null&&(ye.current=[]);var ue=ye.isBatchingLegacy,ge;try{if(ye.isBatchingLegacy=!0,ge=V(),!ue&&ye.didScheduleLegacyUpdate){var Ve=ye.current;Ve!==null&&(ye.didScheduleLegacyUpdate=!1,Ys(Ve))}}catch(Cn){throw ss(W),Cn}finally{ye.isBatchingLegacy=ue}if(ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var st=ge,Ze=!1,ft={then:function(Cn,Dn){Ze=!0,st.then(function(St){ss(W),An===0?Qs(St,Cn,Dn):Cn(St)},function(St){ss(W),Dn(St)})}};return!ui&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){Ze||(ui=!0,_e("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),ft}else{var zt=ge;if(ss(W),An===0){var Jt=ye.current;Jt!==null&&(Ys(Jt),ye.current=null);var hn={then:function(Cn,Dn){ye.current===null?(ye.current=[],Qs(zt,Cn,Dn)):Cn(zt)}};return hn}else{var Gt={then:function(Cn,Dn){Cn(zt)}};return Gt}}}}function ss(V){V!==An-1&&_e("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),An=V}function Qs(V,W,ue){{var ge=ye.current;if(ge!==null)try{Ys(ge),is(function(){ge.length===0?(ye.current=null,W(V)):Qs(V,W,ue)})}catch(Ve){ue(Ve)}else W(V)}}var mn=!1;function Ys(V){if(!mn){mn=!0;var W=0;try{for(;W<V.length;W++){var ue=V[W];do ue=ue(!0);while(ue!==null)}V.length=0}catch(ge){throw V=V.slice(W+1),ge}finally{mn=!1}}}var Ga=bn,Lo=pr,jt=Fr,ma={map:jr,forEach:ps,count:Lr,toArray:Qi,only:ze};e.Children=ma,e.Component=Bt,e.Fragment=u,e.Profiler=p,e.PureComponent=Jn,e.StrictMode=c,e.Suspense=E,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ct,e.act=As,e.cloneElement=Lo,e.createContext=xe,e.createElement=Ga,e.createFactory=jt,e.createRef=Xn,e.forwardRef=De,e.isValidElement=Wt,e.lazy=H,e.memo=Pt,e.startTransition=da,e.unstable_act=As,e.useCallback=oi,e.useContext=Rt,e.useDebugValue=Uo,e.useDeferredValue=vs,e.useEffect=Vn,e.useId=At,e.useImperativeHandle=Yi,e.useInsertionEffect=wr,e.useLayoutEffect=xi,e.useMemo=fr,e.useReducer=En,e.useRef=xt,e.useState=ht,e.useSyncExternalStore=Ji,e.useTransition=Ws,e.version=t,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(_v,_v.exports);var DO=_v.exports;WC.exports=DO;var Q=WC.exports;const Ol=qC(Q),RO=TO({__proto__:null,default:Ol},[Q]);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=Q,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),P=Symbol.iterator,A="@@iterator";function M(H){if(H===null||typeof H!="object")return null;var De=P&&H[P]||H[A];return typeof De=="function"?De:null}var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(H){{for(var De=arguments.length,Pe=new Array(De>1?De-1:0),at=1;at<De;at++)Pe[at-1]=arguments[at];ee("error",H,Pe)}}function ee(H,De,Pe){{var at=Y.ReactDebugCurrentFrame,Pt=at.getStackAddendum();Pt!==""&&(De+="%s",Pe=Pe.concat([Pt]));var it=Pe.map(function(Rt){return String(Rt)});it.unshift("Warning: "+De),Function.prototype.apply.call(console[H],console,it)}}var pe=!1,ye=!1,te=!1,F=!1,$=!1,q;q=Symbol.for("react.module.reference");function G(H){return!!(typeof H=="string"||typeof H=="function"||H===s||H===u||$||H===o||H===x||H===N||F||H===C||pe||ye||te||typeof H=="object"&&H!==null&&(H.$$typeof===R||H.$$typeof===E||H.$$typeof===c||H.$$typeof===p||H.$$typeof===v||H.$$typeof===q||H.getModuleId!==void 0))}function K(H,De,Pe){var at=H.displayName;if(at)return at;var Pt=De.displayName||De.name||"";return Pt!==""?Pe+"("+Pt+")":Pe}function X(H){return H.displayName||"Context"}function j(H){if(H==null)return null;if(typeof H.tag=="number"&&J("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof H=="function")return H.displayName||H.name||null;if(typeof H=="string")return H;switch(H){case s:return"Fragment";case t:return"Portal";case u:return"Profiler";case o:return"StrictMode";case x:return"Suspense";case N:return"SuspenseList"}if(typeof H=="object")switch(H.$$typeof){case p:var De=H;return X(De)+".Consumer";case c:var Pe=H;return X(Pe._context)+".Provider";case v:return K(H,H.render,"ForwardRef");case E:var at=H.displayName||null;return at!==null?at:j(H.type)||"Memo";case R:{var Pt=H,it=Pt._payload,Rt=Pt._init;try{return j(Rt(it))}catch{return null}}}return null}var Ie=Object.assign,ct=0,nt,_e,Te,Zt,Oe,Se,Be;function mt(){}mt.__reactDisabledLog=!0;function Bt(){{if(ct===0){nt=console.log,_e=console.info,Te=console.warn,Zt=console.error,Oe=console.group,Se=console.groupCollapsed,Be=console.groupEnd;var H={configurable:!0,enumerable:!0,value:mt,writable:!0};Object.defineProperties(console,{info:H,log:H,warn:H,error:H,group:H,groupCollapsed:H,groupEnd:H})}ct++}}function Tt(){{if(ct--,ct===0){var H={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Ie({},H,{value:nt}),info:Ie({},H,{value:_e}),warn:Ie({},H,{value:Te}),error:Ie({},H,{value:Zt}),group:Ie({},H,{value:Oe}),groupCollapsed:Ie({},H,{value:Se}),groupEnd:Ie({},H,{value:Be})})}ct<0&&J("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var bt=Y.ReactCurrentDispatcher,Rn;function Wn(H,De,Pe){{if(Rn===void 0)try{throw Error()}catch(Pt){var at=Pt.stack.trim().match(/\n( *(at )?)/);Rn=at&&at[1]||""}return`
`+Rn+H}}var Jn=!1,Kn;{var Xn=typeof WeakMap=="function"?WeakMap:Map;Kn=new Xn}function Zn(H,De){if(!H||Jn)return"";{var Pe=Kn.get(H);if(Pe!==void 0)return Pe}var at;Jn=!0;var Pt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var it;it=bt.current,bt.current=null,Bt();try{if(De){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(fr){at=fr}Reflect.construct(H,[],Rt)}else{try{Rt.call()}catch(fr){at=fr}H.call(Rt.prototype)}}else{try{throw Error()}catch(fr){at=fr}H()}}catch(fr){if(fr&&at&&typeof fr.stack=="string"){for(var ht=fr.stack.split(`
`),En=at.stack.split(`
`),xt=ht.length-1,Vn=En.length-1;xt>=1&&Vn>=0&&ht[xt]!==En[Vn];)Vn--;for(;xt>=1&&Vn>=0;xt--,Vn--)if(ht[xt]!==En[Vn]){if(xt!==1||Vn!==1)do if(xt--,Vn--,Vn<0||ht[xt]!==En[Vn]){var wr=`
`+ht[xt].replace(" at new "," at ");return H.displayName&&wr.includes("<anonymous>")&&(wr=wr.replace("<anonymous>",H.displayName)),typeof H=="function"&&Kn.set(H,wr),wr}while(xt>=1&&Vn>=0);break}}}finally{Jn=!1,bt.current=it,Tt(),Error.prepareStackTrace=Pt}var xi=H?H.displayName||H.name:"",oi=xi?Wn(xi):"";return typeof H=="function"&&Kn.set(H,oi),oi}function Tn(H,De,Pe){return Zn(H,!1)}function er(H){var De=H.prototype;return!!(De&&De.isReactComponent)}function On(H,De,Pe){if(H==null)return"";if(typeof H=="function")return Zn(H,er(H));if(typeof H=="string")return Wn(H);switch(H){case x:return Wn("Suspense");case N:return Wn("SuspenseList")}if(typeof H=="object")switch(H.$$typeof){case v:return Tn(H.render);case E:return On(H.type,De,Pe);case R:{var at=H,Pt=at._payload,it=at._init;try{return On(it(Pt),De,Pe)}catch{}}}return""}var jn=Object.prototype.hasOwnProperty,In={},dr=Y.ReactDebugCurrentFrame;function Or(H){if(H){var De=H._owner,Pe=On(H.type,H._source,De?De.type:null);dr.setExtraStackFrame(Pe)}else dr.setExtraStackFrame(null)}function mr(H,De,Pe,at,Pt){{var it=Function.call.bind(jn);for(var Rt in H)if(it(H,Rt)){var ht=void 0;try{if(typeof H[Rt]!="function"){var En=Error((at||"React class")+": "+Pe+" type `"+Rt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof H[Rt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw En.name="Invariant Violation",En}ht=H[Rt](De,Rt,at,Pe,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(xt){ht=xt}ht&&!(ht instanceof Error)&&(Or(Pt),J("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",at||"React class",Pe,Rt,typeof ht),Or(null)),ht instanceof Error&&!(ht.message in In)&&(In[ht.message]=!0,Or(Pt),J("Failed %s type: %s",Pe,ht.message),Or(null))}}}var br=Array.isArray;function Dr(H){return br(H)}function hr(H){{var De=typeof Symbol=="function"&&Symbol.toStringTag,Pe=De&&H[Symbol.toStringTag]||H.constructor.name||"Object";return Pe}}function Rr(H){try{return tr(H),!1}catch{return!0}}function tr(H){return""+H}function ir(H){if(Rr(H))return J("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",hr(H)),tr(H)}var It=Y.ReactCurrentOwner,cn={key:!0,ref:!0,__self:!0,__source:!0},Gr,ii,Ae;Ae={};function Xe(H){if(jn.call(H,"ref")){var De=Object.getOwnPropertyDescriptor(H,"ref").get;if(De&&De.isReactWarning)return!1}return H.ref!==void 0}function vt(H){if(jn.call(H,"key")){var De=Object.getOwnPropertyDescriptor(H,"key").get;if(De&&De.isReactWarning)return!1}return H.key!==void 0}function qt(H,De){if(typeof H.ref=="string"&&It.current&&De&&It.current.stateNode!==De){var Pe=j(It.current.type);Ae[Pe]||(J('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',j(It.current.type),H.ref),Ae[Pe]=!0)}}function Wt(H,De){{var Pe=function(){Gr||(Gr=!0,J("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",De))};Pe.isReactWarning=!0,Object.defineProperty(H,"key",{get:Pe,configurable:!0})}}function Ln(H,De){{var Pe=function(){ii||(ii=!0,J("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",De))};Pe.isReactWarning=!0,Object.defineProperty(H,"ref",{get:Pe,configurable:!0})}}var _n=function(H,De,Pe,at,Pt,it,Rt){var ht={$$typeof:e,type:H,key:De,ref:Pe,props:Rt,_owner:it};return ht._store={},Object.defineProperty(ht._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ht,"_self",{configurable:!1,enumerable:!1,writable:!1,value:at}),Object.defineProperty(ht,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Pt}),Object.freeze&&(Object.freeze(ht.props),Object.freeze(ht)),ht};function Cr(H,De,Pe,at,Pt){{var it,Rt={},ht=null,En=null;Pe!==void 0&&(ir(Pe),ht=""+Pe),vt(De)&&(ir(De.key),ht=""+De.key),Xe(De)&&(En=De.ref,qt(De,Pt));for(it in De)jn.call(De,it)&&!cn.hasOwnProperty(it)&&(Rt[it]=De[it]);if(H&&H.defaultProps){var xt=H.defaultProps;for(it in xt)Rt[it]===void 0&&(Rt[it]=xt[it])}if(ht||En){var Vn=typeof H=="function"?H.displayName||H.name||"Unknown":H;ht&&Wt(Rt,Vn),En&&Ln(Rt,Vn)}return _n(H,ht,En,Pt,at,It.current,Rt)}}var rn=Y.ReactCurrentOwner,yr=Y.ReactDebugCurrentFrame;function dn(H){if(H){var De=H._owner,Pe=On(H.type,H._source,De?De.type:null);yr.setExtraStackFrame(Pe)}else yr.setExtraStackFrame(null)}var Qt;Qt=!1;function Wr(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function jr(){{if(rn.current){var H=j(rn.current.type);if(H)return`

Check the render method of \``+H+"`."}return""}}function Lr(H){{if(H!==void 0){var De=H.fileName.replace(/^.*[\\\/]/,""),Pe=H.lineNumber;return`

Check your code at `+De+":"+Pe+"."}return""}}var ps={};function Qi(H){{var De=jr();if(!De){var Pe=typeof H=="string"?H:H.displayName||H.name;Pe&&(De=`

Check the top-level render call using <`+Pe+">.")}return De}}function ze(H,De){{if(!H._store||H._store.validated||H.key!=null)return;H._store.validated=!0;var Pe=Qi(De);if(ps[Pe])return;ps[Pe]=!0;var at="";H&&H._owner&&H._owner!==rn.current&&(at=" It was passed a child from "+j(H._owner.type)+"."),dn(H),J('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Pe,at),dn(null)}}function xe(H,De){{if(typeof H!="object")return;if(Dr(H))for(var Pe=0;Pe<H.length;Pe++){var at=H[Pe];Wr(at)&&ze(at,De)}else if(Wr(H))H._store&&(H._store.validated=!0);else if(H){var Pt=M(H);if(typeof Pt=="function"&&Pt!==H.entries)for(var it=Pt.call(H),Rt;!(Rt=it.next()).done;)Wr(Rt.value)&&ze(Rt.value,De)}}}function Vt(H){{var De=H.type;if(De==null||typeof De=="string")return;var Pe;if(typeof De=="function")Pe=De.propTypes;else if(typeof De=="object"&&(De.$$typeof===v||De.$$typeof===E))Pe=De.propTypes;else return;if(Pe){var at=j(De);mr(Pe,H.props,"prop",at,H)}else if(De.PropTypes!==void 0&&!Qt){Qt=!0;var Pt=j(De);J("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Pt||"Unknown")}typeof De.getDefaultProps=="function"&&!De.getDefaultProps.isReactClassApproved&&J("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function lt(H){{for(var De=Object.keys(H.props),Pe=0;Pe<De.length;Pe++){var at=De[Pe];if(at!=="children"&&at!=="key"){dn(H),J("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",at),dn(null);break}}H.ref!==null&&(dn(H),J("Invalid attribute `ref` supplied to `React.Fragment`."),dn(null))}}var gs={};function si(H,De,Pe,at,Pt,it){{var Rt=G(H);if(!Rt){var ht="";(H===void 0||typeof H=="object"&&H!==null&&Object.keys(H).length===0)&&(ht+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var En=Lr(Pt);En?ht+=En:ht+=jr();var xt;H===null?xt="null":Dr(H)?xt="array":H!==void 0&&H.$$typeof===e?(xt="<"+(j(H.type)||"Unknown")+" />",ht=" Did you accidentally export a JSX literal instead of a component?"):xt=typeof H,J("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",xt,ht)}var Vn=Cr(H,De,Pe,Pt,it);if(Vn==null)return Vn;if(Rt){var wr=De.children;if(wr!==void 0)if(at)if(Dr(wr)){for(var xi=0;xi<wr.length;xi++)xe(wr[xi],H);Object.freeze&&Object.freeze(wr)}else J("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else xe(wr,H)}if(jn.call(De,"key")){var oi=j(H),fr=Object.keys(De).filter(function(Ws){return Ws!=="key"}),Yi=fr.length>0?"{key: someKey, "+fr.join(": ..., ")+": ...}":"{key: someKey}";if(!gs[oi+Yi]){var Uo=fr.length>0?"{"+fr.join(": ..., ")+": ...}":"{}";J(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Yi,oi,Uo,oi),gs[oi+Yi]=!0}}return H===s?lt(Vn):Vt(Vn),Vn}}var Mn=si;V_.Fragment=s,V_.jsxDEV=Mn})();GC.exports=V_;var h=GC.exports,A_={},KC={exports:{}},qs={},ZC={exports:{}},QC={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,t=!1,s=5;function o(Ae,Xe){var vt=Ae.length;Ae.push(Xe),p(Ae,Xe,vt)}function u(Ae){return Ae.length===0?null:Ae[0]}function c(Ae){if(Ae.length===0)return null;var Xe=Ae[0],vt=Ae.pop();return vt!==Xe&&(Ae[0]=vt,v(Ae,vt,0)),Xe}function p(Ae,Xe,vt){for(var qt=vt;qt>0;){var Wt=qt-1>>>1,Ln=Ae[Wt];if(x(Ln,Xe)>0)Ae[Wt]=Xe,Ae[qt]=Ln,qt=Wt;else return}}function v(Ae,Xe,vt){for(var qt=vt,Wt=Ae.length,Ln=Wt>>>1;qt<Ln;){var _n=(qt+1)*2-1,Cr=Ae[_n],rn=_n+1,yr=Ae[rn];if(x(Cr,Xe)<0)rn<Wt&&x(yr,Cr)<0?(Ae[qt]=yr,Ae[rn]=Xe,qt=rn):(Ae[qt]=Cr,Ae[_n]=Xe,qt=_n);else if(rn<Wt&&x(yr,Xe)<0)Ae[qt]=yr,Ae[rn]=Xe,qt=rn;else return}}function x(Ae,Xe){var vt=Ae.sortIndex-Xe.sortIndex;return vt!==0?vt:Ae.id-Xe.id}var N=1,E=2,R=3,C=4,P=5;function A(Ae,Xe){}var M=typeof performance=="object"&&typeof performance.now=="function";if(M){var Y=performance;r.unstable_now=function(){return Y.now()}}else{var J=Date,ee=J.now();r.unstable_now=function(){return J.now()-ee}}var pe=1073741823,ye=-1,te=250,F=5e3,$=1e4,q=pe,G=[],K=[],X=1,j=null,Ie=R,ct=!1,nt=!1,_e=!1,Te=typeof setTimeout=="function"?setTimeout:null,Zt=typeof clearTimeout=="function"?clearTimeout:null,Oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Se(Ae){for(var Xe=u(K);Xe!==null;){if(Xe.callback===null)c(K);else if(Xe.startTime<=Ae)c(K),Xe.sortIndex=Xe.expirationTime,o(G,Xe);else return;Xe=u(K)}}function Be(Ae){if(_e=!1,Se(Ae),!nt)if(u(G)!==null)nt=!0,ir(mt);else{var Xe=u(K);Xe!==null&&It(Be,Xe.startTime-Ae)}}function mt(Ae,Xe){nt=!1,_e&&(_e=!1,cn()),ct=!0;var vt=Ie;try{var qt;if(!t)return Bt(Ae,Xe)}finally{j=null,Ie=vt,ct=!1}}function Bt(Ae,Xe){var vt=Xe;for(Se(vt),j=u(G);j!==null&&!e&&!(j.expirationTime>vt&&(!Ae||Or()));){var qt=j.callback;if(typeof qt=="function"){j.callback=null,Ie=j.priorityLevel;var Wt=j.expirationTime<=vt,Ln=qt(Wt);vt=r.unstable_now(),typeof Ln=="function"?j.callback=Ln:j===u(G)&&c(G),Se(vt)}else c(G);j=u(G)}if(j!==null)return!0;var _n=u(K);return _n!==null&&It(Be,_n.startTime-vt),!1}function Tt(Ae,Xe){switch(Ae){case N:case E:case R:case C:case P:break;default:Ae=R}var vt=Ie;Ie=Ae;try{return Xe()}finally{Ie=vt}}function bt(Ae){var Xe;switch(Ie){case N:case E:case R:Xe=R;break;default:Xe=Ie;break}var vt=Ie;Ie=Xe;try{return Ae()}finally{Ie=vt}}function Rn(Ae){var Xe=Ie;return function(){var vt=Ie;Ie=Xe;try{return Ae.apply(this,arguments)}finally{Ie=vt}}}function Wn(Ae,Xe,vt){var qt=r.unstable_now(),Wt;if(typeof vt=="object"&&vt!==null){var Ln=vt.delay;typeof Ln=="number"&&Ln>0?Wt=qt+Ln:Wt=qt}else Wt=qt;var _n;switch(Ae){case N:_n=ye;break;case E:_n=te;break;case P:_n=q;break;case C:_n=$;break;case R:default:_n=F;break}var Cr=Wt+_n,rn={id:X++,callback:Xe,priorityLevel:Ae,startTime:Wt,expirationTime:Cr,sortIndex:-1};return Wt>qt?(rn.sortIndex=Wt,o(K,rn),u(G)===null&&rn===u(K)&&(_e?cn():_e=!0,It(Be,Wt-qt))):(rn.sortIndex=Cr,o(G,rn),!nt&&!ct&&(nt=!0,ir(mt))),rn}function Jn(){}function Kn(){!nt&&!ct&&(nt=!0,ir(mt))}function Xn(){return u(G)}function Zn(Ae){Ae.callback=null}function Tn(){return Ie}var er=!1,On=null,jn=-1,In=s,dr=-1;function Or(){var Ae=r.unstable_now()-dr;return!(Ae<In)}function mr(){}function br(Ae){if(Ae<0||Ae>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Ae>0?In=Math.floor(1e3/Ae):In=s}var Dr=function(){if(On!==null){var Ae=r.unstable_now();dr=Ae;var Xe=!0,vt=!0;try{vt=On(Xe,Ae)}finally{vt?hr():(er=!1,On=null)}}else er=!1},hr;if(typeof Oe=="function")hr=function(){Oe(Dr)};else if(typeof MessageChannel<"u"){var Rr=new MessageChannel,tr=Rr.port2;Rr.port1.onmessage=Dr,hr=function(){tr.postMessage(null)}}else hr=function(){Te(Dr,0)};function ir(Ae){On=Ae,er||(er=!0,hr())}function It(Ae,Xe){jn=Te(function(){Ae(r.unstable_now())},Xe)}function cn(){Zt(jn),jn=-1}var Gr=mr,ii=null;r.unstable_IdlePriority=P,r.unstable_ImmediatePriority=N,r.unstable_LowPriority=C,r.unstable_NormalPriority=R,r.unstable_Profiling=ii,r.unstable_UserBlockingPriority=E,r.unstable_cancelCallback=Zn,r.unstable_continueExecution=Kn,r.unstable_forceFrameRate=br,r.unstable_getCurrentPriorityLevel=Tn,r.unstable_getFirstCallbackNode=Xn,r.unstable_next=bt,r.unstable_pauseExecution=Jn,r.unstable_requestPaint=Gr,r.unstable_runWithPriority=Tt,r.unstable_scheduleCallback=Wn,r.unstable_shouldYield=Or,r.unstable_wrapCallback=Rn,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(QC);ZC.exports=QC;var CO=ZC.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r=Q,e=CO,t=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=!1;function o(n){s=n}function u(n){if(!s){for(var i=arguments.length,l=new Array(i>1?i-1:0),d=1;d<i;d++)l[d-1]=arguments[d];p("warn",n,l)}}function c(n){if(!s){for(var i=arguments.length,l=new Array(i>1?i-1:0),d=1;d<i;d++)l[d-1]=arguments[d];p("error",n,l)}}function p(n,i,l){{var d=t.ReactDebugCurrentFrame,f=d.getStackAddendum();f!==""&&(i+="%s",l=l.concat([f]));var y=l.map(function(T){return String(T)});y.unshift("Warning: "+i),Function.prototype.apply.call(console[n],console,y)}}var v=0,x=1,N=2,E=3,R=4,C=5,P=6,A=7,M=8,Y=9,J=10,ee=11,pe=12,ye=13,te=14,F=15,$=16,q=17,G=18,K=19,X=21,j=22,Ie=23,ct=24,nt=25,_e=!0,Te=!1,Zt=!1,Oe=!1,Se=!1,Be=!0,mt=!1,Bt=!0,Tt=!0,bt=!0,Rn=!0,Wn=new Set,Jn={},Kn={};function Xn(n,i){Zn(n,i),Zn(n+"Capture",i)}function Zn(n,i){Jn[n]&&c("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",n),Jn[n]=i;{var l=n.toLowerCase();Kn[l]=n,n==="onDoubleClick"&&(Kn.ondblclick=n)}for(var d=0;d<i.length;d++)Wn.add(i[d])}var Tn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",er=Object.prototype.hasOwnProperty;function On(n){{var i=typeof Symbol=="function"&&Symbol.toStringTag,l=i&&n[Symbol.toStringTag]||n.constructor.name||"Object";return l}}function jn(n){try{return In(n),!1}catch{return!0}}function In(n){return""+n}function dr(n,i){if(jn(n))return c("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",i,On(n)),In(n)}function Or(n){if(jn(n))return c("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",On(n)),In(n)}function mr(n,i){if(jn(n))return c("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",i,On(n)),In(n)}function br(n,i){if(jn(n))return c("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",i,On(n)),In(n)}function Dr(n){if(jn(n))return c("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",On(n)),In(n)}function hr(n){if(jn(n))return c("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",On(n)),In(n)}var Rr=0,tr=1,ir=2,It=3,cn=4,Gr=5,ii=6,Ae=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Xe=Ae+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",vt=new RegExp("^["+Ae+"]["+Xe+"]*$"),qt={},Wt={};function Ln(n){return er.call(Wt,n)?!0:er.call(qt,n)?!1:vt.test(n)?(Wt[n]=!0,!0):(qt[n]=!0,c("Invalid attribute name: `%s`",n),!1)}function _n(n,i,l){return i!==null?i.type===Rr:l?!1:n.length>2&&(n[0]==="o"||n[0]==="O")&&(n[1]==="n"||n[1]==="N")}function Cr(n,i,l,d){if(l!==null&&l.type===Rr)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":{if(d)return!1;if(l!==null)return!l.acceptsBooleans;var f=n.toLowerCase().slice(0,5);return f!=="data-"&&f!=="aria-"}default:return!1}}function rn(n,i,l,d){if(i===null||typeof i>"u"||Cr(n,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case It:return!i;case cn:return i===!1;case Gr:return isNaN(i);case ii:return isNaN(i)||i<1}return!1}function yr(n){return Qt.hasOwnProperty(n)?Qt[n]:null}function dn(n,i,l,d,f,y,T){this.acceptsBooleans=i===ir||i===It||i===cn,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=y,this.removeEmptyString=T}var Qt={},Wr=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Wr.forEach(function(n){Qt[n]=new dn(n,Rr,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0],l=n[1];Qt[i]=new dn(i,tr,!1,l,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){Qt[n]=new dn(n,ir,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Qt[n]=new dn(n,ir,!1,n,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(n){Qt[n]=new dn(n,It,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){Qt[n]=new dn(n,It,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){Qt[n]=new dn(n,cn,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){Qt[n]=new dn(n,ii,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){Qt[n]=new dn(n,Gr,!1,n.toLowerCase(),null,!1,!1)});var jr=/[\-\:]([a-z])/g,Lr=function(n){return n[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(n){var i=n.replace(jr,Lr);Qt[i]=new dn(i,tr,!1,n,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(n){var i=n.replace(jr,Lr);Qt[i]=new dn(i,tr,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(jr,Lr);Qt[i]=new dn(i,tr,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){Qt[n]=new dn(n,tr,!1,n.toLowerCase(),null,!1,!1)});var ps="xlinkHref";Qt[ps]=new dn("xlinkHref",tr,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){Qt[n]=new dn(n,tr,!1,n.toLowerCase(),null,!0,!0)});var Qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ze=!1;function xe(n){!ze&&Qi.test(n)&&(ze=!0,c("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(n)))}function Vt(n,i,l,d){if(d.mustUseProperty){var f=d.propertyName;return n[f]}else{dr(l,i),d.sanitizeURL&&xe(""+l);var y=d.attributeName,T=null;if(d.type===cn){if(n.hasAttribute(y)){var w=n.getAttribute(y);return w===""?!0:rn(i,l,d,!1)?w:w===""+l?l:w}}else if(n.hasAttribute(y)){if(rn(i,l,d,!1))return n.getAttribute(y);if(d.type===It)return l;T=n.getAttribute(y)}return rn(i,l,d,!1)?T===null?l:T:T===""+l?l:T}}function lt(n,i,l,d){{if(!Ln(i))return;if(!n.hasAttribute(i))return l===void 0?void 0:null;var f=n.getAttribute(i);return dr(l,i),f===""+l?l:f}}function gs(n,i,l,d){var f=yr(i);if(!_n(i,f,d)){if(rn(i,l,f,d)&&(l=null),d||f===null){if(Ln(i)){var y=i;l===null?n.removeAttribute(y):(dr(l,i),n.setAttribute(y,""+l))}return}var T=f.mustUseProperty;if(T){var w=f.propertyName;if(l===null){var I=f.type;n[w]=I===It?!1:""}else n[w]=l;return}var U=f.attributeName,B=f.attributeNamespace;if(l===null)n.removeAttribute(U);else{var re=f.type,ne;re===It||re===cn&&l===!0?ne="":(dr(l,U),ne=""+l,f.sanitizeURL&&xe(ne.toString())),B?n.setAttributeNS(B,U,ne):n.setAttribute(U,ne)}}}var si=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),De=Symbol.for("react.strict_mode"),Pe=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),Pt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),En=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Vn=Symbol.for("react.scope"),wr=Symbol.for("react.debug_trace_mode"),xi=Symbol.for("react.offscreen"),oi=Symbol.for("react.legacy_hidden"),fr=Symbol.for("react.cache"),Yi=Symbol.for("react.tracing_marker"),Uo=Symbol.iterator,Ws="@@iterator";function vs(n){if(n===null||typeof n!="object")return null;var i=Uo&&n[Uo]||n[Ws];return typeof i=="function"?i:null}var At=Object.assign,Ji=0,Mr,Xi,Oo,ho,bs,$t,vn;function ys(){}ys.__reactDisabledLog=!0;function xs(){{if(Ji===0){Mr=console.log,Xi=console.info,Oo=console.warn,ho=console.error,bs=console.group,$t=console.groupCollapsed,vn=console.groupEnd;var n={configurable:!0,enumerable:!0,value:ys,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}Ji++}}function Vs(){{if(Ji--,Ji===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:At({},n,{value:Mr}),info:At({},n,{value:Xi}),warn:At({},n,{value:Oo}),error:At({},n,{value:ho}),group:At({},n,{value:bs}),groupCollapsed:At({},n,{value:$t}),groupEnd:At({},n,{value:vn})})}Ji<0&&c("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var fo=t.ReactCurrentDispatcher,_t;function Yt(n,i,l){{if(_t===void 0)try{throw Error()}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);_t=d&&d[1]||""}return`
`+_t+n}}var es=!1,ts;{var Bn=typeof WeakMap=="function"?WeakMap:Map;ts=new Bn}function _i(n,i){if(!n||es)return"";{var l=ts.get(n);if(l!==void 0)return l}var d;es=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var y;y=fo.current,fo.current=null,xs();try{if(i){var T=function(){throw Error()};if(Object.defineProperty(T.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(T,[])}catch(de){d=de}Reflect.construct(n,[],T)}else{try{T.call()}catch(de){d=de}n.call(T.prototype)}}else{try{throw Error()}catch(de){d=de}n()}}catch(de){if(de&&d&&typeof de.stack=="string"){for(var w=de.stack.split(`
`),I=d.stack.split(`
`),U=w.length-1,B=I.length-1;U>=1&&B>=0&&w[U]!==I[B];)B--;for(;U>=1&&B>=0;U--,B--)if(w[U]!==I[B]){if(U!==1||B!==1)do if(U--,B--,B<0||w[U]!==I[B]){var re=`
`+w[U].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),typeof n=="function"&&ts.set(n,re),re}while(U>=1&&B>=0);break}}}finally{es=!1,fo.current=y,Vs(),Error.prepareStackTrace=f}var ne=n?n.displayName||n.name:"",ce=ne?Yt(ne):"";return typeof n=="function"&&ts.set(n,ce),ce}function _s(n,i,l){return _i(n,!0)}function ai(n,i,l){return _i(n,!1)}function $n(n){var i=n.prototype;return!!(i&&i.isReactComponent)}function Ut(n,i,l){if(n==null)return"";if(typeof n=="function")return _i(n,$n(n));if(typeof n=="string")return Yt(n);switch(n){case Rt:return Yt("Suspense");case ht:return Yt("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case it:return ai(n.render);case En:return Ut(n.type,i,l);case xt:{var d=n,f=d._payload,y=d._init;try{return Ut(y(f),i,l)}catch{}}}return""}function ns(n){switch(n._debugOwner&&n._debugOwner.type,n._debugSource,n.tag){case C:return Yt(n.type);case $:return Yt("Lazy");case ye:return Yt("Suspense");case K:return Yt("SuspenseList");case v:case N:case F:return ai(n.type);case ee:return ai(n.type.render);case x:return _s(n.type);default:return""}}function Ni(n){try{var i="",l=n;do i+=ns(l),l=l.return;while(l);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Oi(n,i,l){var d=n.displayName;if(d)return d;var f=i.displayName||i.name||"";return f!==""?l+"("+f+")":l}function Ks(n){return n.displayName||"Context"}function Ot(n){if(n==null)return null;if(typeof n.tag=="number"&&c("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case Mn:return"Portal";case Pe:return"Profiler";case De:return"StrictMode";case Rt:return"Suspense";case ht:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pt:var i=n;return Ks(i)+".Consumer";case at:var l=n;return Ks(l._context)+".Provider";case it:return Oi(n,n.render,"ForwardRef");case En:var d=n.displayName||null;return d!==null?d:Ot(n.type)||"Memo";case xt:{var f=n,y=f._payload,T=f._init;try{return Ot(T(y))}catch{return null}}}return null}function po(n,i,l){var d=i.displayName||i.name||"";return n.displayName||(d!==""?l+"("+d+")":l)}function Zs(n){return n.displayName||"Context"}function Nt(n){var i=n.tag,l=n.type;switch(i){case ct:return"Cache";case Y:var d=l;return Zs(d)+".Consumer";case J:var f=l;return Zs(f._context)+".Provider";case G:return"DehydratedFragment";case ee:return po(l,l.render,"ForwardRef");case A:return"Fragment";case C:return l;case R:return"Portal";case E:return"Root";case P:return"Text";case $:return Ot(l);case M:return l===De?"StrictMode":"Mode";case j:return"Offscreen";case pe:return"Profiler";case X:return"Scope";case ye:return"Suspense";case K:return"SuspenseList";case nt:return"TracingMarker";case x:case v:case q:case N:case te:case F:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;break}return null}var jo=t.ReactDebugCurrentFrame,Hn=null,Kr=!1;function rs(){{if(Hn===null)return null;var n=Hn._debugOwner;if(n!==null&&typeof n<"u")return Nt(n)}return null}function ca(){return Hn===null?"":Ni(Hn)}function et(){jo.getCurrentStack=null,Hn=null,Kr=!1}function Ht(n){jo.getCurrentStack=n===null?null:ca,Hn=n,Kr=!1}function bn(){return Hn}function li(n){Kr=n}function Fr(n){return""+n}function pr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return hr(n),n;default:return""}}var da={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function ji(n,i){da[i.type]||i.onChange||i.onInput||i.readOnly||i.disabled||i.value==null||c("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),i.onChange||i.readOnly||i.disabled||i.checked==null||c("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Li(n){var i=n.type,l=n.nodeName;return l&&l.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function is(n){return n._valueTracker}function An(n){n._valueTracker=null}function ui(n){var i="";return n&&(Li(n)?i=n.checked?"true":"false":i=n.value),i}function As(n){var i=Li(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);hr(n[i]);var d=""+n[i];if(!(n.hasOwnProperty(i)||typeof l>"u"||typeof l.get!="function"||typeof l.set!="function")){var f=l.get,y=l.set;Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){hr(w),d=""+w,y.call(this,w)}}),Object.defineProperty(n,i,{enumerable:l.enumerable});var T={getValue:function(){return d},setValue:function(w){hr(w),d=""+w},stopTracking:function(){An(n),delete n[i]}};return T}}function ss(n){is(n)||(n._valueTracker=As(n))}function Qs(n){if(!n)return!1;var i=is(n);if(!i)return!0;var l=i.getValue(),d=ui(n);return d!==l?(i.setValue(d),!0):!1}function mn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ys=!1,Ga=!1,Lo=!1,jt=!1;function ma(n){var i=n.type==="checkbox"||n.type==="radio";return i?n.checked!=null:n.value!=null}function V(n,i){var l=n,d=i.checked,f=At({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??l._wrapperState.initialChecked});return f}function W(n,i){ji("input",i),i.checked!==void 0&&i.defaultChecked!==void 0&&!Ga&&(c("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",rs()||"A component",i.type),Ga=!0),i.value!==void 0&&i.defaultValue!==void 0&&!Ys&&(c("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",rs()||"A component",i.type),Ys=!0);var l=n,d=i.defaultValue==null?"":i.defaultValue;l._wrapperState={initialChecked:i.checked!=null?i.checked:i.defaultChecked,initialValue:pr(i.value!=null?i.value:d),controlled:ma(i)}}function ue(n,i){var l=n,d=i.checked;d!=null&&gs(l,"checked",d,!1)}function ge(n,i){var l=n;{var d=ma(i);!l._wrapperState.controlled&&d&&!jt&&(c("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),jt=!0),l._wrapperState.controlled&&!d&&!Lo&&(c("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Lo=!0)}ue(n,i);var f=pr(i.value),y=i.type;if(f!=null)y==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=Fr(f)):l.value!==Fr(f)&&(l.value=Fr(f));else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}i.hasOwnProperty("value")?ft(l,i.type,f):i.hasOwnProperty("defaultValue")&&ft(l,i.type,pr(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(l.defaultChecked=!!i.defaultChecked)}function Ve(n,i,l){var d=n;if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type,y=f==="submit"||f==="reset";if(y&&(i.value===void 0||i.value===null))return;var T=Fr(d._wrapperState.initialValue);l||T!==d.value&&(d.value=T),d.defaultValue=T}var w=d.name;w!==""&&(d.name=""),d.defaultChecked=!d.defaultChecked,d.defaultChecked=!!d._wrapperState.initialChecked,w!==""&&(d.name=w)}function st(n,i){var l=n;ge(l,i),Ze(l,i)}function Ze(n,i){var l=i.name;if(i.type==="radio"&&l!=null){for(var d=n;d.parentNode;)d=d.parentNode;dr(l,"name");for(var f=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),y=0;y<f.length;y++){var T=f[y];if(!(T===n||T.form!==n.form)){var w=Mp(T);if(!w)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Qs(T),ge(T,w)}}}}function ft(n,i,l){(i!=="number"||mn(n.ownerDocument)!==n)&&(l==null?n.defaultValue=Fr(n._wrapperState.initialValue):n.defaultValue!==Fr(l)&&(n.defaultValue=Fr(l)))}var zt=!1,Jt=!1,hn=!1;function Gt(n,i){i.value==null&&(typeof i.children=="object"&&i.children!==null?r.Children.forEach(i.children,function(l){l!=null&&(typeof l=="string"||typeof l=="number"||Jt||(Jt=!0,c("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):i.dangerouslySetInnerHTML!=null&&(hn||(hn=!0,c("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),i.selected!=null&&!zt&&(c("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),zt=!0)}function Cn(n,i){i.value!=null&&n.setAttribute("value",Fr(pr(i.value)))}var Dn=Array.isArray;function St(n){return Dn(n)}var Ns;Ns=!1;function zs(){var n=rs();return n?`

Check the render method of \``+n+"`.":""}var Ps=["value","defaultValue"];function Wa(n){{ji("select",n);for(var i=0;i<Ps.length;i++){var l=Ps[i];if(n[l]!=null){var d=St(n[l]);n.multiple&&!d?c("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",l,zs()):!n.multiple&&d&&c("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",l,zs())}}}}function Ti(n,i,l,d){var f=n.options;if(i){for(var y=l,T={},w=0;w<y.length;w++)T["$"+y[w]]=!0;for(var I=0;I<f.length;I++){var U=T.hasOwnProperty("$"+f[I].value);f[I].selected!==U&&(f[I].selected=U),U&&d&&(f[I].defaultSelected=!0)}}else{for(var B=Fr(pr(l)),re=null,ne=0;ne<f.length;ne++){if(f[ne].value===B){f[ne].selected=!0,d&&(f[ne].defaultSelected=!0);return}re===null&&!f[ne].disabled&&(re=f[ne])}re!==null&&(re.selected=!0)}}function go(n,i){return At({},i,{value:void 0})}function Mo(n,i){var l=n;Wa(i),l._wrapperState={wasMultiple:!!i.multiple},i.value!==void 0&&i.defaultValue!==void 0&&!Ns&&(c("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Ns=!0)}function Us(n,i){var l=n;l.multiple=!!i.multiple;var d=i.value;d!=null?Ti(l,!!i.multiple,d,!1):i.defaultValue!=null&&Ti(l,!!i.multiple,i.defaultValue,!0)}function Ka(n,i){var l=n,d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ti(l,!!i.multiple,f,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ti(l,!!i.multiple,i.defaultValue,!0):Ti(l,!!i.multiple,i.multiple?[]:"",!1))}function uc(n,i){var l=n,d=i.value;d!=null&&Ti(l,!!i.multiple,d,!1)}var Za=!1;function ha(n,i){var l=n;if(i.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var d=At({},i,{value:void 0,defaultValue:void 0,children:Fr(l._wrapperState.initialValue)});return d}function Js(n,i){var l=n;ji("textarea",i),i.value!==void 0&&i.defaultValue!==void 0&&!Za&&(c("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",rs()||"A component"),Za=!0);var d=i.value;if(d==null){var f=i.children,y=i.defaultValue;if(f!=null){c("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(y!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(St(f)){if(f.length>1)throw new Error("<textarea> can only have at most one child.");f=f[0]}y=f}}y==null&&(y=""),d=y}l._wrapperState={initialValue:pr(d)}}function sr(n,i){var l=n,d=pr(i.value),f=pr(i.defaultValue);if(d!=null){var y=Fr(d);y!==l.value&&(l.value=y),i.defaultValue==null&&l.defaultValue!==y&&(l.defaultValue=y)}f!=null&&(l.defaultValue=Fr(f))}function eu(n,i){var l=n,d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Fo(n,i){sr(n,i)}var zn="http://www.w3.org/1999/xhtml",g="http://www.w3.org/1998/Math/MathML",D="http://www.w3.org/2000/svg";function k(n){switch(n){case"svg":return D;case"math":return g;default:return zn}}function O(n,i){return n==null||n===zn?k(i):n===D&&i==="foreignObject"?zn:n}var ie=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,f){MSApp.execUnsafeLocalFunction(function(){return n(i,l,d,f)})}:n},me,Ue=ie(function(n,i){if(n.namespaceURI===D&&!("innerHTML"in n)){me=me||document.createElement("div"),me.innerHTML="<svg>"+i.valueOf().toString()+"</svg>";for(var l=me.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;l.firstChild;)n.appendChild(l.firstChild);return}n.innerHTML=i}),kt=1,Pn=3,Je=8,yn=9,xr=11,Sr=function(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===Pn){l.nodeValue=i;return}}n.textContent=i},os={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function tu(n,i){return n+i.charAt(0).toUpperCase()+i.substring(1)}var nu=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(n){nu.forEach(function(i){Ei[tu(i,n)]=Ei[n]})});function cc(n,i,l){var d=i==null||typeof i=="boolean"||i==="";return d?"":!l&&typeof i=="number"&&i!==0&&!(Ei.hasOwnProperty(n)&&Ei[n])?i+"px":(br(i,n),(""+i).trim())}var dc=/([A-Z])/g,xb=/^ms-/;function Bo(n){return n.replace(dc,"-$1").toLowerCase().replace(xb,"-ms-")}var ru=function(){};{var _b=/^(?:webkit|moz|o)[A-Z]/,um=/^-ms-/,Nb=/-(.)/g,Xs=/;\s*$/,Qa={},$o={},qf=!1,eo=!1,mc=function(n){return n.replace(Nb,function(i,l){return l.toUpperCase()})},Gf=function(n){Qa.hasOwnProperty(n)&&Qa[n]||(Qa[n]=!0,c("Unsupported style property %s. Did you mean %s?",n,mc(n.replace(um,"ms-"))))},cm=function(n){Qa.hasOwnProperty(n)&&Qa[n]||(Qa[n]=!0,c("Unsupported vendor-prefixed style property %s. Did you mean %s?",n,n.charAt(0).toUpperCase()+n.slice(1)))},hc=function(n,i){$o.hasOwnProperty(i)&&$o[i]||($o[i]=!0,c(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,n,i.replace(Xs,"")))},dm=function(n,i){qf||(qf=!0,c("`NaN` is an invalid value for the `%s` css style property.",n))},fc=function(n,i){eo||(eo=!0,c("`Infinity` is an invalid value for the `%s` css style property.",n))};ru=function(n,i){n.indexOf("-")>-1?Gf(n):_b.test(n)?cm(n):Xs.test(i)&&hc(n,i),typeof i=="number"&&(isNaN(i)?dm(n,i):isFinite(i)||fc(n,i))}}var Ya=ru;function pc(n){{var i="",l="";for(var d in n)if(n.hasOwnProperty(d)){var f=n[d];if(f!=null){var y=d.indexOf("--")===0;i+=l+(y?d:Bo(d))+":",i+=cc(d,f,y),l=";"}}return i||null}}function gc(n,i){var l=n.style;for(var d in i)if(i.hasOwnProperty(d)){var f=d.indexOf("--")===0;f||Ya(d,i[d]);var y=cc(d,i[d],f);d==="float"&&(d="cssFloat"),f?l.setProperty(d,y):l[d]=y}}function Wf(n){return n==null||typeof n=="boolean"||n===""}function Kf(n){var i={};for(var l in n)for(var d=os[l]||[l],f=0;f<d.length;f++)i[d[f]]=l;return i}function vc(n,i){{if(!i)return;var l=Kf(n),d=Kf(i),f={};for(var y in l){var T=l[y],w=d[y];if(w&&T!==w){var I=T+","+w;if(f[I])continue;f[I]=!0,c("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",Wf(n[T])?"Removing":"Updating",T,w)}}}}var Tb={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Zf=At({menuitem:!0},Tb),Eb="__html";function bc(n,i){if(i){if(Zf[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw new Error(n+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof i.dangerouslySetInnerHTML!="object"||!(Eb in i.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!i.suppressContentEditableWarning&&i.contentEditable&&i.children!=null&&c("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),i.style!=null&&typeof i.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function fa(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},iu={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Ja={},yc=new RegExp("^(aria)-["+Xe+"]*$"),Db=new RegExp("^(aria)[A-Z]["+Xe+"]*$");function Qf(n,i){{if(er.call(Ja,i)&&Ja[i])return!0;if(Db.test(i)){var l="aria-"+i.slice(4).toLowerCase(),d=iu.hasOwnProperty(l)?l:null;if(d==null)return c("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",i),Ja[i]=!0,!0;if(i!==d)return c("Invalid ARIA attribute `%s`. Did you mean `%s`?",i,d),Ja[i]=!0,!0}if(yc.test(i)){var f=i.toLowerCase(),y=iu.hasOwnProperty(f)?f:null;if(y==null)return Ja[i]=!0,!1;if(i!==y)return c("Unknown ARIA attribute `%s`. Did you mean `%s`?",i,y),Ja[i]=!0,!0}}return!0}function Rb(n,i){{var l=[];for(var d in i){var f=Qf(n,d);f||l.push(d)}var y=l.map(function(T){return"`"+T+"`"}).join(", ");l.length===1?c("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",y,n):l.length>1&&c("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",y,n)}}function su(n,i){fa(n,i)||Rb(n,i)}var Yf=!1;function Xa(n,i){{if(n!=="input"&&n!=="textarea"&&n!=="select")return;i!=null&&i.value===null&&!Yf&&(Yf=!0,n==="select"&&i.multiple?c("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",n):c("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",n))}}var mm=function(){};{var ci={},Jf=/^on./,vo=/^on[^A-Z]/,Xf=new RegExp("^(aria)-["+Xe+"]*$"),ep=new RegExp("^(aria)[A-Z]["+Xe+"]*$");mm=function(n,i,l,d){if(er.call(ci,i)&&ci[i])return!0;var f=i.toLowerCase();if(f==="onfocusin"||f==="onfocusout")return c("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),ci[i]=!0,!0;if(d!=null){var y=d.registrationNameDependencies,T=d.possibleRegistrationNames;if(y.hasOwnProperty(i))return!0;var w=T.hasOwnProperty(f)?T[f]:null;if(w!=null)return c("Invalid event handler property `%s`. Did you mean `%s`?",i,w),ci[i]=!0,!0;if(Jf.test(i))return c("Unknown event handler property `%s`. It will be ignored.",i),ci[i]=!0,!0}else if(Jf.test(i))return vo.test(i)&&c("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",i),ci[i]=!0,!0;if(Xf.test(i)||ep.test(i))return!0;if(f==="innerhtml")return c("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),ci[i]=!0,!0;if(f==="aria")return c("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),ci[i]=!0,!0;if(f==="is"&&l!==null&&l!==void 0&&typeof l!="string")return c("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof l),ci[i]=!0,!0;if(typeof l=="number"&&isNaN(l))return c("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",i),ci[i]=!0,!0;var I=yr(i),U=I!==null&&I.type===Rr;if(as.hasOwnProperty(f)){var B=as[f];if(B!==i)return c("Invalid DOM property `%s`. Did you mean `%s`?",i,B),ci[i]=!0,!0}else if(!U&&i!==f)return c("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",i,f),ci[i]=!0,!0;return typeof l=="boolean"&&Cr(i,l,I,!1)?(l?c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',l,i,i,l,i):c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',l,i,i,l,i,i,i),ci[i]=!0,!0):U?!0:Cr(i,l,I,!1)?(ci[i]=!0,!1):((l==="false"||l==="true")&&I!==null&&I.type===It&&(c("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",l,i,l==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',i,l),ci[i]=!0),!0)}}var ou=function(n,i,l){{var d=[];for(var f in i){var y=mm(n,f,i[f],l);y||d.push(f)}var T=d.map(function(w){return"`"+w+"`"}).join(", ");d.length===1?c("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",T,n):d.length>1&&c("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",T,n)}};function Cb(n,i,l){fa(n,i)||ou(n,i,l)}var au=1,pa=2,el=4,tp=au|pa|el,lu=null;function np(n){lu!==null&&c("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),lu=n}function rp(){lu===null&&c("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),lu=null}function ip(n){return n===lu}function xc(n){var i=n.target||n.srcElement||window;return i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===Pn?i.parentNode:i}var _c=null,tl=null,ga=null;function hm(n){var i=ml(n);if(i){if(typeof _c!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var l=i.stateNode;if(l){var d=Mp(l);_c(i.stateNode,i.type,d)}}}function wb(n){_c=n}function a(n){tl?ga?ga.push(n):ga=[n]:tl=n}function m(){return tl!==null||ga!==null}function b(){if(tl){var n=tl,i=ga;if(tl=null,ga=null,hm(n),i)for(var l=0;l<i.length;l++)hm(i[l])}}var _=function(n,i){return n(i)},S=function(){},z=!1;function Z(){var n=m();n&&(S(),b())}function oe(n,i,l){if(z)return n(i,l);z=!0;try{return _(n,i,l)}finally{z=!1,Z()}}function he(n,i,l){_=n,S=l}function Ee(n){return n==="button"||n==="input"||n==="select"||n==="textarea"}function qe(n,i,l){switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(l.disabled&&Ee(i));default:return!1}}function dt(n,i){var l=n.stateNode;if(l===null)return null;var d=Mp(l);if(d===null)return null;var f=d[i];if(qe(i,n.type,d))return null;if(f&&typeof f!="function")throw new Error("Expected `"+i+"` listener to be a function, instead got a value of `"+typeof f+"` type.");return f}var Lt=!1;if(Tn)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Lt=!1}function Ir(n,i,l,d,f,y,T,w,I){var U=Array.prototype.slice.call(arguments,3);try{i.apply(l,U)}catch(B){this.onError(B)}}var ls=Ir;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var di=document.createElement("react");ls=function(i,l,d,f,y,T,w,I,U){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var B=document.createEvent("Event"),re=!1,ne=!0,ce=window.event,de=Object.getOwnPropertyDescriptor(window,"event");function ve(){di.removeEventListener(be,ut,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=ce)}var Fe=Array.prototype.slice.call(arguments,3);function ut(){re=!0,ve(),l.apply(d,Fe),ne=!1}var rt,tn=!1,Kt=!1;function ae(le){if(rt=le.error,tn=!0,rt===null&&le.colno===0&&le.lineno===0&&(Kt=!0),le.defaultPrevented&&rt!=null&&typeof rt=="object")try{rt._suppressLogging=!0}catch{}}var be="react-"+(i||"invokeguardedcallback");if(window.addEventListener("error",ae),di.addEventListener(be,ut,!1),B.initEvent(be,!1,!1),di.dispatchEvent(B),de&&Object.defineProperty(window,"event",de),re&&ne&&(tn?Kt&&(rt=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):rt=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(rt)),window.removeEventListener("error",ae),!re)return ve(),Ir.apply(this,arguments)}}var nl=ls,rl=!1,Nc=null,Tc=!1,Ec=null,Sb={onError:function(n){rl=!0,Nc=n}};function Dc(n,i,l,d,f,y,T,w,I){rl=!1,Nc=null,nl.apply(Sb,arguments)}function _r(n,i,l,d,f,y,T,w,I){if(Dc.apply(this,arguments),rl){var U=fm();Tc||(Tc=!0,Ec=U)}}function Rc(){if(Tc){var n=Ec;throw Tc=!1,Ec=null,n}}function kb(){return rl}function fm(){if(rl){var n=Nc;return rl=!1,Nc=null,n}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function il(n){return n._reactInternals}function pm(n){return n._reactInternals!==void 0}function sp(n,i){n._reactInternals=i}var pt=0,Cc=1,Br=2,sn=4,uu=16,gm=32,Ib=64,xn=128,va=256,sl=512,cu=1024,bo=2048,ba=4096,du=8192,op=16384,oI=bo|sn|Ib|sl|cu|op,aI=32767,vm=32768,us=65536,Vb=131072,_T=1048576,Ab=2097152,mu=4194304,zb=8388608,ya=16777216,ap=33554432,Pb=sn|cu|0,Ub=Br|sn|uu|gm|sl|ba|du,bm=sn|Ib|sl|du,wc=bo|uu,xa=mu|zb|Ab,lI=t.ReactCurrentOwner;function hu(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{var d=i;do i=d,(i.flags&(Br|ba))!==pt&&(l=i.return),d=i.return;while(d)}return i.tag===E?l:null}function NT(n){if(n.tag===ye){var i=n.memoizedState;if(i===null){var l=n.alternate;l!==null&&(i=l.memoizedState)}if(i!==null)return i.dehydrated}return null}function TT(n){return n.tag===E?n.stateNode.containerInfo:null}function uI(n){return hu(n)===n}function cI(n){{var i=lI.current;if(i!==null&&i.tag===x){var l=i,d=l.stateNode;d._warnedAboutRefsInRender||c("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Nt(l)||"A component"),d._warnedAboutRefsInRender=!0}}var f=il(n);return f?hu(f)===f:!1}function ET(n){if(hu(n)!==n)throw new Error("Unable to find node on an unmounted component.")}function DT(n){var i=n.alternate;if(!i){var l=hu(n);if(l===null)throw new Error("Unable to find node on an unmounted component.");return l!==n?null:n}for(var d=n,f=i;;){var y=d.return;if(y===null)break;var T=y.alternate;if(T===null){var w=y.return;if(w!==null){d=f=w;continue}break}if(y.child===T.child){for(var I=y.child;I;){if(I===d)return ET(y),n;if(I===f)return ET(y),i;I=I.sibling}throw new Error("Unable to find node on an unmounted component.")}if(d.return!==f.return)d=y,f=T;else{for(var U=!1,B=y.child;B;){if(B===d){U=!0,d=y,f=T;break}if(B===f){U=!0,f=y,d=T;break}B=B.sibling}if(!U){for(B=T.child;B;){if(B===d){U=!0,d=T,f=y;break}if(B===f){U=!0,f=T,d=y;break}B=B.sibling}if(!U)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(d.alternate!==f)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(d.tag!==E)throw new Error("Unable to find node on an unmounted component.");return d.stateNode.current===d?n:i}function RT(n){var i=DT(n);return i!==null?CT(i):null}function CT(n){if(n.tag===C||n.tag===P)return n;for(var i=n.child;i!==null;){var l=CT(i);if(l!==null)return l;i=i.sibling}return null}function dI(n){var i=DT(n);return i!==null?wT(i):null}function wT(n){if(n.tag===C||n.tag===P)return n;for(var i=n.child;i!==null;){if(i.tag!==R){var l=wT(i);if(l!==null)return l}i=i.sibling}return null}var ST=e.unstable_scheduleCallback,mI=e.unstable_cancelCallback,hI=e.unstable_shouldYield,fI=e.unstable_requestPaint,mi=e.unstable_now,pI=e.unstable_getCurrentPriorityLevel,lp=e.unstable_ImmediatePriority,Ob=e.unstable_UserBlockingPriority,fu=e.unstable_NormalPriority,gI=e.unstable_LowPriority,jb=e.unstable_IdlePriority,vI=e.unstable_yieldValue,bI=e.unstable_setDisableYieldValue,Sc=null,Mi=null,He=null,Ho=!1,yo=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function yI(n){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled)return!0;if(!i.supportsFiber)return c("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{Tt&&(n=At({},n,{getLaneLabelMap:DI,injectProfilingHooks:EI})),Sc=i.inject(n),Mi=i}catch(l){c("React instrumentation encountered an error: %s.",l)}return!!i.checkDCE}function xI(n,i){if(Mi&&typeof Mi.onScheduleFiberRoot=="function")try{Mi.onScheduleFiberRoot(Sc,n,i)}catch(l){Ho||(Ho=!0,c("React instrumentation encountered an error: %s",l))}}function _I(n,i){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{var l=(n.current.flags&xn)===xn;if(bt){var d;switch(i){case Ls:d=lp;break;case Na:d=Ob;break;case Ta:d=fu;break;case pp:d=jb;break;default:d=fu;break}Mi.onCommitFiberRoot(Sc,n,d,l)}}catch(f){Ho||(Ho=!0,c("React instrumentation encountered an error: %s",f))}}function NI(n){if(Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(Sc,n)}catch(i){Ho||(Ho=!0,c("React instrumentation encountered an error: %s",i))}}function TI(n){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(Sc,n)}catch(i){Ho||(Ho=!0,c("React instrumentation encountered an error: %s",i))}}function hi(n){if(typeof vI=="function"&&(bI(n),o(n)),Mi&&typeof Mi.setStrictMode=="function")try{Mi.setStrictMode(Sc,n)}catch(i){Ho||(Ho=!0,c("React instrumentation encountered an error: %s",i))}}function EI(n){He=n}function DI(){{for(var n=new Map,i=1,l=0;l<Mb;l++){var d=qI(i);n.set(i,d),i*=2}return n}}function RI(n){He!==null&&typeof He.markCommitStarted=="function"&&He.markCommitStarted(n)}function kT(){He!==null&&typeof He.markCommitStopped=="function"&&He.markCommitStopped()}function ym(n){He!==null&&typeof He.markComponentRenderStarted=="function"&&He.markComponentRenderStarted(n)}function kc(){He!==null&&typeof He.markComponentRenderStopped=="function"&&He.markComponentRenderStopped()}function CI(n){He!==null&&typeof He.markComponentPassiveEffectMountStarted=="function"&&He.markComponentPassiveEffectMountStarted(n)}function wI(){He!==null&&typeof He.markComponentPassiveEffectMountStopped=="function"&&He.markComponentPassiveEffectMountStopped()}function SI(n){He!==null&&typeof He.markComponentPassiveEffectUnmountStarted=="function"&&He.markComponentPassiveEffectUnmountStarted(n)}function kI(){He!==null&&typeof He.markComponentPassiveEffectUnmountStopped=="function"&&He.markComponentPassiveEffectUnmountStopped()}function II(n){He!==null&&typeof He.markComponentLayoutEffectMountStarted=="function"&&He.markComponentLayoutEffectMountStarted(n)}function VI(){He!==null&&typeof He.markComponentLayoutEffectMountStopped=="function"&&He.markComponentLayoutEffectMountStopped()}function IT(n){He!==null&&typeof He.markComponentLayoutEffectUnmountStarted=="function"&&He.markComponentLayoutEffectUnmountStarted(n)}function VT(){He!==null&&typeof He.markComponentLayoutEffectUnmountStopped=="function"&&He.markComponentLayoutEffectUnmountStopped()}function AI(n,i,l){He!==null&&typeof He.markComponentErrored=="function"&&He.markComponentErrored(n,i,l)}function zI(n,i,l){He!==null&&typeof He.markComponentSuspended=="function"&&He.markComponentSuspended(n,i,l)}function PI(n){He!==null&&typeof He.markLayoutEffectsStarted=="function"&&He.markLayoutEffectsStarted(n)}function UI(){He!==null&&typeof He.markLayoutEffectsStopped=="function"&&He.markLayoutEffectsStopped()}function OI(n){He!==null&&typeof He.markPassiveEffectsStarted=="function"&&He.markPassiveEffectsStarted(n)}function jI(){He!==null&&typeof He.markPassiveEffectsStopped=="function"&&He.markPassiveEffectsStopped()}function AT(n){He!==null&&typeof He.markRenderStarted=="function"&&He.markRenderStarted(n)}function LI(){He!==null&&typeof He.markRenderYielded=="function"&&He.markRenderYielded()}function zT(){He!==null&&typeof He.markRenderStopped=="function"&&He.markRenderStopped()}function MI(n){He!==null&&typeof He.markRenderScheduled=="function"&&He.markRenderScheduled(n)}function FI(n,i){He!==null&&typeof He.markForceUpdateScheduled=="function"&&He.markForceUpdateScheduled(n,i)}function Lb(n,i){He!==null&&typeof He.markStateUpdateScheduled=="function"&&He.markStateUpdateScheduled(n,i)}var gt=0,Xt=1,wn=2,Nr=8,qo=16,PT=Math.clz32?Math.clz32:HI,BI=Math.log,$I=Math.LN2;function HI(n){var i=n>>>0;return i===0?32:31-(BI(i)/$I|0)|0}var Mb=31,we=0,fi=0,Et=1,Ic=2,_a=4,pu=8,Go=16,xm=32,Vc=4194240,_m=64,Fb=128,Bb=256,$b=512,Hb=1024,qb=2048,Gb=4096,Wb=8192,Kb=16384,Zb=32768,Qb=65536,Yb=131072,Jb=262144,Xb=524288,ey=1048576,ty=2097152,up=130023424,Ac=4194304,ny=8388608,ry=16777216,iy=33554432,sy=67108864,UT=Ac,Nm=134217728,OT=268435455,Tm=268435456,gu=536870912,Os=1073741824;function qI(n){{if(n&Et)return"Sync";if(n&Ic)return"InputContinuousHydration";if(n&_a)return"InputContinuous";if(n&pu)return"DefaultHydration";if(n&Go)return"Default";if(n&xm)return"TransitionHydration";if(n&Vc)return"Transition";if(n&up)return"Retry";if(n&Nm)return"SelectiveHydration";if(n&Tm)return"IdleHydration";if(n&gu)return"Idle";if(n&Os)return"Offscreen"}}var Qn=-1,cp=_m,dp=Ac;function Em(n){switch(vu(n)){case Et:return Et;case Ic:return Ic;case _a:return _a;case pu:return pu;case Go:return Go;case xm:return xm;case _m:case Fb:case Bb:case $b:case Hb:case qb:case Gb:case Wb:case Kb:case Zb:case Qb:case Yb:case Jb:case Xb:case ey:case ty:return n&Vc;case Ac:case ny:case ry:case iy:case sy:return n&up;case Nm:return Nm;case Tm:return Tm;case gu:return gu;case Os:return Os;default:return c("Should have found matching lanes. This is a bug in React."),n}}function mp(n,i){var l=n.pendingLanes;if(l===we)return we;var d=we,f=n.suspendedLanes,y=n.pingedLanes,T=l&OT;if(T!==we){var w=T&~f;if(w!==we)d=Em(w);else{var I=T&y;I!==we&&(d=Em(I))}}else{var U=l&~f;U!==we?d=Em(U):y!==we&&(d=Em(y))}if(d===we)return we;if(i!==we&&i!==d&&(i&f)===we){var B=vu(d),re=vu(i);if(B>=re||B===Go&&(re&Vc)!==we)return i}(d&_a)!==we&&(d|=l&Go);var ne=n.entangledLanes;if(ne!==we)for(var ce=n.entanglements,de=d&ne;de>0;){var ve=bu(de),Fe=1<<ve;d|=ce[ve],de&=~Fe}return d}function GI(n,i){for(var l=n.eventTimes,d=Qn;i>0;){var f=bu(i),y=1<<f,T=l[f];T>d&&(d=T),i&=~y}return d}function WI(n,i){switch(n){case Et:case Ic:case _a:return i+250;case pu:case Go:case xm:case _m:case Fb:case Bb:case $b:case Hb:case qb:case Gb:case Wb:case Kb:case Zb:case Qb:case Yb:case Jb:case Xb:case ey:case ty:return i+5e3;case Ac:case ny:case ry:case iy:case sy:return Qn;case Nm:case Tm:case gu:case Os:return Qn;default:return c("Should have found matching lanes. This is a bug in React."),Qn}}function KI(n,i){for(var l=n.pendingLanes,d=n.suspendedLanes,f=n.pingedLanes,y=n.expirationTimes,T=l;T>0;){var w=bu(T),I=1<<w,U=y[w];U===Qn?((I&d)===we||(I&f)!==we)&&(y[w]=WI(I,i)):U<=i&&(n.expiredLanes|=I),T&=~I}}function ZI(n){return Em(n.pendingLanes)}function oy(n){var i=n.pendingLanes&~Os;return i!==we?i:i&Os?Os:we}function QI(n){return(n&Et)!==we}function ay(n){return(n&OT)!==we}function jT(n){return(n&up)===n}function YI(n){var i=Et|_a|Go;return(n&i)===we}function JI(n){return(n&Vc)===n}function hp(n,i){var l=Ic|_a|pu|Go;return(i&l)!==we}function XI(n,i){return(i&n.expiredLanes)!==we}function LT(n){return(n&Vc)!==we}function MT(){var n=cp;return cp<<=1,(cp&Vc)===we&&(cp=_m),n}function eV(){var n=dp;return dp<<=1,(dp&up)===we&&(dp=Ac),n}function vu(n){return n&-n}function Dm(n){return vu(n)}function bu(n){return 31-PT(n)}function ly(n){return bu(n)}function js(n,i){return(n&i)!==we}function zc(n,i){return(n&i)===i}function Mt(n,i){return n|i}function fp(n,i){return n&~i}function FT(n,i){return n&i}function KB(n){return n}function tV(n,i){return n!==fi&&n<i?n:i}function uy(n){for(var i=[],l=0;l<Mb;l++)i.push(n);return i}function Rm(n,i,l){n.pendingLanes|=i,i!==gu&&(n.suspendedLanes=we,n.pingedLanes=we);var d=n.eventTimes,f=ly(i);d[f]=l}function nV(n,i){n.suspendedLanes|=i,n.pingedLanes&=~i;for(var l=n.expirationTimes,d=i;d>0;){var f=bu(d),y=1<<f;l[f]=Qn,d&=~y}}function BT(n,i,l){n.pingedLanes|=n.suspendedLanes&i}function rV(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=we,n.pingedLanes=we,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i;for(var d=n.entanglements,f=n.eventTimes,y=n.expirationTimes,T=l;T>0;){var w=bu(T),I=1<<w;d[w]=we,f[w]=Qn,y[w]=Qn,T&=~I}}function cy(n,i){for(var l=n.entangledLanes|=i,d=n.entanglements,f=l;f;){var y=bu(f),T=1<<y;T&i|d[y]&i&&(d[y]|=i),f&=~T}}function iV(n,i){var l=vu(i),d;switch(l){case _a:d=Ic;break;case Go:d=pu;break;case _m:case Fb:case Bb:case $b:case Hb:case qb:case Gb:case Wb:case Kb:case Zb:case Qb:case Yb:case Jb:case Xb:case ey:case ty:case Ac:case ny:case ry:case iy:case sy:d=xm;break;case gu:d=Tm;break;default:d=fi;break}return(d&(n.suspendedLanes|i))!==fi?fi:d}function $T(n,i,l){if(yo)for(var d=n.pendingUpdatersLaneMap;l>0;){var f=ly(l),y=1<<f,T=d[f];T.add(i),l&=~y}}function HT(n,i){if(yo)for(var l=n.pendingUpdatersLaneMap,d=n.memoizedUpdaters;i>0;){var f=ly(i),y=1<<f,T=l[f];T.size>0&&(T.forEach(function(w){var I=w.alternate;(I===null||!d.has(I))&&d.add(w)}),T.clear()),i&=~y}}function qT(n,i){return null}var Ls=Et,Na=_a,Ta=Go,pp=gu,Cm=fi;function xo(){return Cm}function pi(n){Cm=n}function sV(n,i){var l=Cm;try{return Cm=n,i()}finally{Cm=l}}function oV(n,i){return n!==0&&n<i?n:i}function aV(n,i){return n===0||n>i?n:i}function dy(n,i){return n!==0&&n<i}function GT(n){var i=vu(n);return dy(Ls,i)?dy(Na,i)?ay(i)?Ta:pp:Na:Ls}function gp(n){var i=n.current.memoizedState;return i.isDehydrated}var WT;function lV(n){WT=n}function uV(n){WT(n)}var my;function cV(n){my=n}var KT;function dV(n){KT=n}var ZT;function mV(n){ZT=n}var QT;function hV(n){QT=n}var hy=!1,vp=[],ol=null,al=null,ll=null,wm=new Map,Sm=new Map,ul=[],fV=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function pV(n){return fV.indexOf(n)>-1}function gV(n,i,l,d,f){return{blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]}}function YT(n,i){switch(n){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":{var l=i.pointerId;wm.delete(l);break}case"gotpointercapture":case"lostpointercapture":{var d=i.pointerId;Sm.delete(d);break}}}function km(n,i,l,d,f,y){if(n===null||n.nativeEvent!==y){var T=gV(i,l,d,f,y);if(i!==null){var w=ml(i);w!==null&&my(w)}return T}n.eventSystemFlags|=d;var I=n.targetContainers;return f!==null&&I.indexOf(f)===-1&&I.push(f),n}function vV(n,i,l,d,f){switch(i){case"focusin":{var y=f;return ol=km(ol,n,i,l,d,y),!0}case"dragenter":{var T=f;return al=km(al,n,i,l,d,T),!0}case"mouseover":{var w=f;return ll=km(ll,n,i,l,d,w),!0}case"pointerover":{var I=f,U=I.pointerId;return wm.set(U,km(wm.get(U)||null,n,i,l,d,I)),!0}case"gotpointercapture":{var B=f,re=B.pointerId;return Sm.set(re,km(Sm.get(re)||null,n,i,l,d,B)),!0}}return!1}function JT(n){var i=_u(n.target);if(i!==null){var l=hu(i);if(l!==null){var d=l.tag;if(d===ye){var f=NT(l);if(f!==null){n.blockedOn=f,QT(n.priority,function(){KT(l)});return}}else if(d===E){var y=l.stateNode;if(gp(y)){n.blockedOn=TT(l);return}}}}n.blockedOn=null}function bV(n){for(var i=ZT(),l={blockedOn:null,target:n,priority:i},d=0;d<ul.length&&dy(i,ul[d].priority);d++);ul.splice(d,0,l),d===0&&JT(l)}function bp(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;i.length>0;){var l=i[0],d=gy(n.domEventName,n.eventSystemFlags,l,n.nativeEvent);if(d===null){var f=n.nativeEvent,y=new f.constructor(f.type,f);np(y),f.target.dispatchEvent(y),rp()}else{var T=ml(d);return T!==null&&my(T),n.blockedOn=d,!1}i.shift()}return!0}function XT(n,i,l){bp(n)&&l.delete(i)}function yV(){hy=!1,ol!==null&&bp(ol)&&(ol=null),al!==null&&bp(al)&&(al=null),ll!==null&&bp(ll)&&(ll=null),wm.forEach(XT),Sm.forEach(XT)}function Im(n,i){n.blockedOn===i&&(n.blockedOn=null,hy||(hy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yV)))}function Vm(n){if(vp.length>0){Im(vp[0],n);for(var i=1;i<vp.length;i++){var l=vp[i];l.blockedOn===n&&(l.blockedOn=null)}}ol!==null&&Im(ol,n),al!==null&&Im(al,n),ll!==null&&Im(ll,n);var d=function(w){return Im(w,n)};wm.forEach(d),Sm.forEach(d);for(var f=0;f<ul.length;f++){var y=ul[f];y.blockedOn===n&&(y.blockedOn=null)}for(;ul.length>0;){var T=ul[0];if(T.blockedOn!==null)break;JT(T),T.blockedOn===null&&ul.shift()}}var Pc=t.ReactCurrentBatchConfig,fy=!0;function eE(n){fy=!!n}function xV(){return fy}function _V(n,i,l){var d=tE(i),f;switch(d){case Ls:f=NV;break;case Na:f=TV;break;case Ta:default:f=py;break}return f.bind(null,i,l,n)}function NV(n,i,l,d){var f=xo(),y=Pc.transition;Pc.transition=null;try{pi(Ls),py(n,i,l,d)}finally{pi(f),Pc.transition=y}}function TV(n,i,l,d){var f=xo(),y=Pc.transition;Pc.transition=null;try{pi(Na),py(n,i,l,d)}finally{pi(f),Pc.transition=y}}function py(n,i,l,d){fy&&EV(n,i,l,d)}function EV(n,i,l,d){var f=gy(n,i,l,d);if(f===null){ky(n,i,d,yp,l),YT(n,d);return}if(vV(f,n,i,l,d)){d.stopPropagation();return}if(YT(n,d),i&el&&pV(n)){for(;f!==null;){var y=ml(f);y!==null&&uV(y);var T=gy(n,i,l,d);if(T===null&&ky(n,i,d,yp,l),T===f)break;f=T}f!==null&&d.stopPropagation();return}ky(n,i,d,null,l)}var yp=null;function gy(n,i,l,d){yp=null;var f=xc(d),y=_u(f);if(y!==null){var T=hu(y);if(T===null)y=null;else{var w=T.tag;if(w===ye){var I=NT(T);if(I!==null)return I;y=null}else if(w===E){var U=T.stateNode;if(gp(U))return TT(T);y=null}else T!==y&&(y=null)}}return yp=y,null}function tE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Ls;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Na;case"message":{var i=pI();switch(i){case lp:return Ls;case Ob:return Na;case fu:case gI:return Ta;case jb:return pp;default:return Ta}}default:return Ta}}function DV(n,i,l){return n.addEventListener(i,l,!1),l}function RV(n,i,l){return n.addEventListener(i,l,!0),l}function CV(n,i,l,d){return n.addEventListener(i,l,{capture:!0,passive:d}),l}function wV(n,i,l,d){return n.addEventListener(i,l,{passive:d}),l}var Am=null,vy=null,zm=null;function SV(n){return Am=n,vy=rE(),!0}function kV(){Am=null,vy=null,zm=null}function nE(){if(zm)return zm;var n,i=vy,l=i.length,d,f=rE(),y=f.length;for(n=0;n<l&&i[n]===f[n];n++);var T=l-n;for(d=1;d<=T&&i[l-d]===f[y-d];d++);var w=d>1?1-d:void 0;return zm=f.slice(n,w),zm}function rE(){return"value"in Am?Am.value:Am.textContent}function xp(n){var i,l=n.keyCode;return"charCode"in n?(i=n.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),i>=32||i===13?i:0}function _p(){return!0}function iE(){return!1}function Ms(n){function i(l,d,f,y,T){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var w in n)if(n.hasOwnProperty(w)){var I=n[w];I?this[w]=I(y):this[w]=y[w]}var U=y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1;return U?this.isDefaultPrevented=_p:this.isDefaultPrevented=iE,this.isPropagationStopped=iE,this}return At(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_p)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_p)},persist:function(){},isPersistent:_p}),i}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},by=Ms(Uc),Pm=At({},Uc,{view:0,detail:0}),IV=Ms(Pm),yy,xy,Um;function VV(n){n!==Um&&(Um&&n.type==="mousemove"?(yy=n.screenX-Um.screenX,xy=n.screenY-Um.screenY):(yy=0,xy=0),Um=n)}var Np=At({},Pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ny,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(VV(n),yy)},movementY:function(n){return"movementY"in n?n.movementY:xy}}),sE=Ms(Np),AV=At({},Np,{dataTransfer:0}),zV=Ms(AV),PV=At({},Pm,{relatedTarget:0}),_y=Ms(PV),UV=At({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),OV=Ms(UV),jV=At({},Uc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LV=Ms(jV),MV=At({},Uc,{data:0}),oE=Ms(MV),FV=oE,BV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$V={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function HV(n){if(n.key){var i=BV[n.key]||n.key;if(i!=="Unidentified")return i}if(n.type==="keypress"){var l=xp(n);return l===13?"Enter":String.fromCharCode(l)}return n.type==="keydown"||n.type==="keyup"?$V[n.keyCode]||"Unidentified":""}var qV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GV(n){var i=this,l=i.nativeEvent;if(l.getModifierState)return l.getModifierState(n);var d=qV[n];return d?!!l[d]:!1}function Ny(n){return GV}var WV=At({},Pm,{key:HV,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ny,charCode:function(n){return n.type==="keypress"?xp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),KV=Ms(WV),ZV=At({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aE=Ms(ZV),QV=At({},Pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ny}),YV=Ms(QV),JV=At({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),XV=Ms(JV),eA=At({},Np,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),tA=Ms(eA),nA=[9,13,27,32],lE=229,Ty=Tn&&"CompositionEvent"in window,Om=null;Tn&&"documentMode"in document&&(Om=document.documentMode);var rA=Tn&&"TextEvent"in window&&!Om,uE=Tn&&(!Ty||Om&&Om>8&&Om<=11),cE=32,dE=String.fromCharCode(cE);function iA(){Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),Xn("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),Xn("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var mE=!1;function sA(n){return(n.ctrlKey||n.altKey||n.metaKey)&&!(n.ctrlKey&&n.altKey)}function oA(n){switch(n){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function aA(n,i){return n==="keydown"&&i.keyCode===lE}function hE(n,i){switch(n){case"keyup":return nA.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==lE;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fE(n){var i=n.detail;return typeof i=="object"&&"data"in i?i.data:null}function pE(n){return n.locale==="ko"}var Oc=!1;function lA(n,i,l,d,f){var y,T;if(Ty?y=oA(i):Oc?hE(i,d)&&(y="onCompositionEnd"):aA(i,d)&&(y="onCompositionStart"),!y)return null;uE&&!pE(d)&&(!Oc&&y==="onCompositionStart"?Oc=SV(f):y==="onCompositionEnd"&&Oc&&(T=nE()));var w=Cp(l,y);if(w.length>0){var I=new oE(y,i,null,d,f);if(n.push({event:I,listeners:w}),T)I.data=T;else{var U=fE(d);U!==null&&(I.data=U)}}}function uA(n,i){switch(n){case"compositionend":return fE(i);case"keypress":var l=i.which;return l!==cE?null:(mE=!0,dE);case"textInput":var d=i.data;return d===dE&&mE?null:d;default:return null}}function cA(n,i){if(Oc){if(n==="compositionend"||!Ty&&hE(n,i)){var l=nE();return kV(),Oc=!1,l}return null}switch(n){case"paste":return null;case"keypress":if(!sA(i)){if(i.char&&i.char.length>1)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return uE&&!pE(i)?null:i.data;default:return null}}function dA(n,i,l,d,f){var y;if(rA?y=uA(i,d):y=cA(i,d),!y)return null;var T=Cp(l,"onBeforeInput");if(T.length>0){var w=new FV("onBeforeInput","beforeinput",null,d,f);n.push({event:w,listeners:T}),w.data=y}}function mA(n,i,l,d,f,y,T){lA(n,i,l,d,f),dA(n,i,l,d,f)}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gE(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!hA[n.type]:i==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function fA(n){if(!Tn)return!1;var i="on"+n,l=i in document;if(!l){var d=document.createElement("div");d.setAttribute(i,"return;"),l=typeof d[i]=="function"}return l}function pA(){Xn("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function vE(n,i,l,d){a(d);var f=Cp(i,"onChange");if(f.length>0){var y=new by("onChange","change",null,l,d);n.push({event:y,listeners:f})}}var jm=null,Lm=null;function gA(n){var i=n.nodeName&&n.nodeName.toLowerCase();return i==="select"||i==="input"&&n.type==="file"}function vA(n){var i=[];vE(i,Lm,n,xc(n)),oe(bA,i)}function bA(n){PE(n,0)}function Tp(n){var i=$c(n);if(Qs(i))return n}function yA(n,i){if(n==="change")return i}var bE=!1;Tn&&(bE=fA("input")&&(!document.documentMode||document.documentMode>9));function xA(n,i){jm=n,Lm=i,jm.attachEvent("onpropertychange",xE)}function yE(){jm&&(jm.detachEvent("onpropertychange",xE),jm=null,Lm=null)}function xE(n){n.propertyName==="value"&&Tp(Lm)&&vA(n)}function _A(n,i,l){n==="focusin"?(yE(),xA(i,l)):n==="focusout"&&yE()}function NA(n,i){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Tp(Lm)}function TA(n){var i=n.nodeName;return i&&i.toLowerCase()==="input"&&(n.type==="checkbox"||n.type==="radio")}function EA(n,i){if(n==="click")return Tp(i)}function DA(n,i){if(n==="input"||n==="change")return Tp(i)}function RA(n){var i=n._wrapperState;!i||!i.controlled||n.type!=="number"||ft(n,"number",n.value)}function CA(n,i,l,d,f,y,T){var w=l?$c(l):window,I,U;if(gA(w)?I=yA:gE(w)?bE?I=DA:(I=NA,U=_A):TA(w)&&(I=EA),I){var B=I(i,l);if(B){vE(n,B,d,f);return}}U&&U(i,w,l),i==="focusout"&&RA(w)}function wA(){Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"])}function SA(n,i,l,d,f,y,T){var w=i==="mouseover"||i==="pointerover",I=i==="mouseout"||i==="pointerout";if(w&&!ip(d)){var U=d.relatedTarget||d.fromElement;if(U&&(_u(U)||eh(U)))return}if(!(!I&&!w)){var B;if(f.window===f)B=f;else{var re=f.ownerDocument;re?B=re.defaultView||re.parentWindow:B=window}var ne,ce;if(I){var de=d.relatedTarget||d.toElement;if(ne=l,ce=de?_u(de):null,ce!==null){var ve=hu(ce);(ce!==ve||ce.tag!==C&&ce.tag!==P)&&(ce=null)}}else ne=null,ce=l;if(ne!==ce){var Fe=sE,ut="onMouseLeave",rt="onMouseEnter",tn="mouse";(i==="pointerout"||i==="pointerover")&&(Fe=aE,ut="onPointerLeave",rt="onPointerEnter",tn="pointer");var Kt=ne==null?B:$c(ne),ae=ce==null?B:$c(ce),be=new Fe(ut,tn+"leave",ne,d,f);be.target=Kt,be.relatedTarget=ae;var le=null,ke=_u(f);if(ke===l){var Ke=new Fe(rt,tn+"enter",ce,d,f);Ke.target=ae,Ke.relatedTarget=Kt,le=Ke}XA(n,be,le,ne,ce)}}}function kA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Fs=typeof Object.is=="function"?Object.is:kA;function Mm(n,i){if(Fs(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),d=Object.keys(i);if(l.length!==d.length)return!1;for(var f=0;f<l.length;f++){var y=l[f];if(!er.call(i,y)||!Fs(n[y],i[y]))return!1}return!0}function _E(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function IA(n){for(;n;){if(n.nextSibling)return n.nextSibling;n=n.parentNode}}function NE(n,i){for(var l=_E(n),d=0,f=0;l;){if(l.nodeType===Pn){if(f=d+l.textContent.length,d<=i&&f>=i)return{node:l,offset:i-d};d=f}l=_E(IA(l))}}function VA(n){var i=n.ownerDocument,l=i&&i.defaultView||window,d=l.getSelection&&l.getSelection();if(!d||d.rangeCount===0)return null;var f=d.anchorNode,y=d.anchorOffset,T=d.focusNode,w=d.focusOffset;try{f.nodeType,T.nodeType}catch{return null}return AA(n,f,y,T,w)}function AA(n,i,l,d,f){var y=0,T=-1,w=-1,I=0,U=0,B=n,re=null;e:for(;;){for(var ne=null;B===i&&(l===0||B.nodeType===Pn)&&(T=y+l),B===d&&(f===0||B.nodeType===Pn)&&(w=y+f),B.nodeType===Pn&&(y+=B.nodeValue.length),(ne=B.firstChild)!==null;)re=B,B=ne;for(;;){if(B===n)break e;if(re===i&&++I===l&&(T=y),re===d&&++U===f&&(w=y),(ne=B.nextSibling)!==null)break;B=re,re=B.parentNode}B=ne}return T===-1||w===-1?null:{start:T,end:w}}function zA(n,i){var l=n.ownerDocument||document,d=l&&l.defaultView||window;if(d.getSelection){var f=d.getSelection(),y=n.textContent.length,T=Math.min(i.start,y),w=i.end===void 0?T:Math.min(i.end,y);if(!f.extend&&T>w){var I=w;w=T,T=I}var U=NE(n,T),B=NE(n,w);if(U&&B){if(f.rangeCount===1&&f.anchorNode===U.node&&f.anchorOffset===U.offset&&f.focusNode===B.node&&f.focusOffset===B.offset)return;var re=l.createRange();re.setStart(U.node,U.offset),f.removeAllRanges(),T>w?(f.addRange(re),f.extend(B.node,B.offset)):(re.setEnd(B.node,B.offset),f.addRange(re))}}}function TE(n){return n&&n.nodeType===Pn}function EE(n,i){return!n||!i?!1:n===i?!0:TE(n)?!1:TE(i)?EE(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1}function PA(n){return n&&n.ownerDocument&&EE(n.ownerDocument.documentElement,n)}function UA(n){try{return typeof n.contentWindow.location.href=="string"}catch{return!1}}function DE(){for(var n=window,i=mn();i instanceof n.HTMLIFrameElement;){if(UA(i))n=i.contentWindow;else return i;i=mn(n.document)}return i}function Ey(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function OA(){var n=DE();return{focusedElem:n,selectionRange:Ey(n)?LA(n):null}}function jA(n){var i=DE(),l=n.focusedElem,d=n.selectionRange;if(i!==l&&PA(l)){d!==null&&Ey(l)&&MA(l,d);for(var f=[],y=l;y=y.parentNode;)y.nodeType===kt&&f.push({element:y,left:y.scrollLeft,top:y.scrollTop});typeof l.focus=="function"&&l.focus();for(var T=0;T<f.length;T++){var w=f[T];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}}function LA(n){var i;return"selectionStart"in n?i={start:n.selectionStart,end:n.selectionEnd}:i=VA(n),i||{start:0,end:0}}function MA(n,i){var l=i.start,d=i.end;d===void 0&&(d=l),"selectionStart"in n?(n.selectionStart=l,n.selectionEnd=Math.min(d,n.value.length)):zA(n,i)}var FA=Tn&&"documentMode"in document&&document.documentMode<=11;function BA(){Xn("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var jc=null,Dy=null,Fm=null,Ry=!1;function $A(n){if("selectionStart"in n&&Ey(n))return{start:n.selectionStart,end:n.selectionEnd};var i=n.ownerDocument&&n.ownerDocument.defaultView||window,l=i.getSelection();return{anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}}function HA(n){return n.window===n?n.document:n.nodeType===yn?n:n.ownerDocument}function RE(n,i,l){var d=HA(l);if(!(Ry||jc==null||jc!==mn(d))){var f=$A(jc);if(!Fm||!Mm(Fm,f)){Fm=f;var y=Cp(Dy,"onSelect");if(y.length>0){var T=new by("onSelect","select",null,i,l);n.push({event:T,listeners:y}),T.target=jc}}}}function qA(n,i,l,d,f,y,T){var w=l?$c(l):window;switch(i){case"focusin":(gE(w)||w.contentEditable==="true")&&(jc=w,Dy=l,Fm=null);break;case"focusout":jc=null,Dy=null,Fm=null;break;case"mousedown":Ry=!0;break;case"contextmenu":case"mouseup":case"dragend":Ry=!1,RE(n,d,f);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":RE(n,d,f)}}function Ep(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Lc={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},Cy={},CE={};Tn&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function Dp(n){if(Cy[n])return Cy[n];if(!Lc[n])return n;var i=Lc[n];for(var l in i)if(i.hasOwnProperty(l)&&l in CE)return Cy[n]=i[l];return n}var wE=Dp("animationend"),SE=Dp("animationiteration"),kE=Dp("animationstart"),IE=Dp("transitionend"),VE=new Map,AE=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function cl(n,i){VE.set(n,i),Xn(i,[n])}function GA(){for(var n=0;n<AE.length;n++){var i=AE[n],l=i.toLowerCase(),d=i[0].toUpperCase()+i.slice(1);cl(l,"on"+d)}cl(wE,"onAnimationEnd"),cl(SE,"onAnimationIteration"),cl(kE,"onAnimationStart"),cl("dblclick","onDoubleClick"),cl("focusin","onFocus"),cl("focusout","onBlur"),cl(IE,"onTransitionEnd")}function WA(n,i,l,d,f,y,T){var w=VE.get(i);if(w!==void 0){var I=by,U=i;switch(i){case"keypress":if(xp(d)===0)return;case"keydown":case"keyup":I=KV;break;case"focusin":U="focus",I=_y;break;case"focusout":U="blur",I=_y;break;case"beforeblur":case"afterblur":I=_y;break;case"click":if(d.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=sE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=zV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=YV;break;case wE:case SE:case kE:I=OV;break;case IE:I=XV;break;case"scroll":I=IV;break;case"wheel":I=tA;break;case"copy":case"cut":case"paste":I=LV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=aE;break}var B=(y&el)!==0;{var re=!B&&i==="scroll",ne=YA(l,w,d.type,B,re);if(ne.length>0){var ce=new I(w,U,null,d,f);n.push({event:ce,listeners:ne})}}}}GA(),wA(),pA(),BA(),iA();function KA(n,i,l,d,f,y,T){WA(n,i,l,d,f,y);var w=(y&tp)===0;w&&(SA(n,i,l,d,f),CA(n,i,l,d,f),qA(n,i,l,d,f),mA(n,i,l,d,f))}var Bm=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],wy=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Bm));function zE(n,i,l){var d=n.type||"unknown-event";n.currentTarget=l,_r(d,i,void 0,n),n.currentTarget=null}function ZA(n,i,l){var d;if(l)for(var f=i.length-1;f>=0;f--){var y=i[f],T=y.instance,w=y.currentTarget,I=y.listener;if(T!==d&&n.isPropagationStopped())return;zE(n,I,w),d=T}else for(var U=0;U<i.length;U++){var B=i[U],re=B.instance,ne=B.currentTarget,ce=B.listener;if(re!==d&&n.isPropagationStopped())return;zE(n,ce,ne),d=re}}function PE(n,i){for(var l=(i&el)!==0,d=0;d<n.length;d++){var f=n[d],y=f.event,T=f.listeners;ZA(y,T,l)}Rc()}function QA(n,i,l,d,f){var y=xc(l),T=[];KA(T,n,d,l,y,i),PE(T,i)}function nr(n,i){wy.has(n)||c('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',n);var l=!1,d=Rz(i),f=e5(n,l);d.has(f)||(UE(i,n,pa,l),d.add(f))}function Sy(n,i,l){wy.has(n)&&!i&&c('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',n);var d=0;i&&(d|=el),UE(l,n,d,i)}var Rp="_reactListening"+Math.random().toString(36).slice(2);function $m(n){if(!n[Rp]){n[Rp]=!0,Wn.forEach(function(l){l!=="selectionchange"&&(wy.has(l)||Sy(l,!1,n),Sy(l,!0,n))});var i=n.nodeType===yn?n:n.ownerDocument;i!==null&&(i[Rp]||(i[Rp]=!0,Sy("selectionchange",!1,i)))}}function UE(n,i,l,d,f){var y=_V(n,i,l),T=void 0;Lt&&(i==="touchstart"||i==="touchmove"||i==="wheel")&&(T=!0),n=n,d?T!==void 0?CV(n,i,y,T):RV(n,i,y):T!==void 0?wV(n,i,y,T):DV(n,i,y)}function OE(n,i){return n===i||n.nodeType===Je&&n.parentNode===i}function ky(n,i,l,d,f){var y=d;if(!(i&au)&&!(i&pa)){var T=f;if(d!==null){var w=d;e:for(;;){if(w===null)return;var I=w.tag;if(I===E||I===R){var U=w.stateNode.containerInfo;if(OE(U,T))break;if(I===R)for(var B=w.return;B!==null;){var re=B.tag;if(re===E||re===R){var ne=B.stateNode.containerInfo;if(OE(ne,T))return}B=B.return}for(;U!==null;){var ce=_u(U);if(ce===null)return;var de=ce.tag;if(de===C||de===P){w=y=ce;continue e}U=U.parentNode}}w=w.return}}}oe(function(){return QA(n,i,l,y)})}function Hm(n,i,l){return{instance:n,listener:i,currentTarget:l}}function YA(n,i,l,d,f,y){for(var T=i!==null?i+"Capture":null,w=d?T:i,I=[],U=n,B=null;U!==null;){var re=U,ne=re.stateNode,ce=re.tag;if(ce===C&&ne!==null&&(B=ne,w!==null)){var de=dt(U,w);de!=null&&I.push(Hm(U,de,B))}if(f)break;U=U.return}return I}function Cp(n,i){for(var l=i+"Capture",d=[],f=n;f!==null;){var y=f,T=y.stateNode,w=y.tag;if(w===C&&T!==null){var I=T,U=dt(f,l);U!=null&&d.unshift(Hm(f,U,I));var B=dt(f,i);B!=null&&d.push(Hm(f,B,I))}f=f.return}return d}function Mc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==C);return n||null}function JA(n,i){for(var l=n,d=i,f=0,y=l;y;y=Mc(y))f++;for(var T=0,w=d;w;w=Mc(w))T++;for(;f-T>0;)l=Mc(l),f--;for(;T-f>0;)d=Mc(d),T--;for(var I=f;I--;){if(l===d||d!==null&&l===d.alternate)return l;l=Mc(l),d=Mc(d)}return null}function jE(n,i,l,d,f){for(var y=i._reactName,T=[],w=l;w!==null&&w!==d;){var I=w,U=I.alternate,B=I.stateNode,re=I.tag;if(U!==null&&U===d)break;if(re===C&&B!==null){var ne=B;if(f){var ce=dt(w,y);ce!=null&&T.unshift(Hm(w,ce,ne))}else if(!f){var de=dt(w,y);de!=null&&T.push(Hm(w,de,ne))}}w=w.return}T.length!==0&&n.push({event:i,listeners:T})}function XA(n,i,l,d,f){var y=d&&f?JA(d,f):null;d!==null&&jE(n,i,d,y,!1),f!==null&&l!==null&&jE(n,l,f,y,!0)}function e5(n,i){return n+"__"+(i?"capture":"bubble")}var Ts=!1,qm="dangerouslySetInnerHTML",wp="suppressContentEditableWarning",dl="suppressHydrationWarning",LE="autoFocus",yu="children",xu="style",Sp="__html",Iy,kp,Gm,ME,Ip,FE,BE;Iy={dialog:!0,webview:!0},kp=function(n,i){su(n,i),Xa(n,i),Cb(n,i,{registrationNameDependencies:Jn,possibleRegistrationNames:Kn})},FE=Tn&&!document.documentMode,Gm=function(n,i,l){if(!Ts){var d=Vp(l),f=Vp(i);f!==d&&(Ts=!0,c("Prop `%s` did not match. Server: %s Client: %s",n,JSON.stringify(f),JSON.stringify(d)))}},ME=function(n){if(!Ts){Ts=!0;var i=[];n.forEach(function(l){i.push(l)}),c("Extra attributes from the server: %s",i)}},Ip=function(n,i){i===!1?c("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",n,n,n):c("Expected `%s` listener to be a function, instead got a value of `%s` type.",n,typeof i)},BE=function(n,i){var l=n.namespaceURI===zn?n.ownerDocument.createElement(n.tagName):n.ownerDocument.createElementNS(n.namespaceURI,n.tagName);return l.innerHTML=i,l.innerHTML};var t5=/\r\n?/g,n5=/\u0000|\uFFFD/g;function Vp(n){Dr(n);var i=typeof n=="string"?n:""+n;return i.replace(t5,`
`).replace(n5,"")}function Ap(n,i,l,d){var f=Vp(i),y=Vp(n);if(y!==f&&(d&&(Ts||(Ts=!0,c('Text content did not match. Server: "%s" Client: "%s"',y,f))),l&&_e))throw new Error("Text content does not match server-rendered HTML.")}function $E(n){return n.nodeType===yn?n:n.ownerDocument}function r5(){}function zp(n){n.onclick=r5}function i5(n,i,l,d,f){for(var y in d)if(d.hasOwnProperty(y)){var T=d[y];if(y===xu)T&&Object.freeze(T),gc(i,T);else if(y===qm){var w=T?T[Sp]:void 0;w!=null&&Ue(i,w)}else if(y===yu)if(typeof T=="string"){var I=n!=="textarea"||T!=="";I&&Sr(i,T)}else typeof T=="number"&&Sr(i,""+T);else y===wp||y===dl||y===LE||(Jn.hasOwnProperty(y)?T!=null&&(typeof T!="function"&&Ip(y,T),y==="onScroll"&&nr("scroll",i)):T!=null&&gs(i,y,T,f))}}function s5(n,i,l,d){for(var f=0;f<i.length;f+=2){var y=i[f],T=i[f+1];y===xu?gc(n,T):y===qm?Ue(n,T):y===yu?Sr(n,T):gs(n,y,T,d)}}function o5(n,i,l,d){var f,y=$E(l),T,w=d;if(w===zn&&(w=k(n)),w===zn){if(f=fa(n,i),!f&&n!==n.toLowerCase()&&c("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",n),n==="script"){var I=y.createElement("div");I.innerHTML="<script><\/script>";var U=I.firstChild;T=I.removeChild(U)}else if(typeof i.is=="string")T=y.createElement(n,{is:i.is});else if(T=y.createElement(n),n==="select"){var B=T;i.multiple?B.multiple=!0:i.size&&(B.size=i.size)}}else T=y.createElementNS(w,n);return w===zn&&!f&&Object.prototype.toString.call(T)==="[object HTMLUnknownElement]"&&!er.call(Iy,n)&&(Iy[n]=!0,c("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",n)),T}function a5(n,i){return $E(i).createTextNode(n)}function l5(n,i,l,d){var f=fa(i,l);kp(i,l);var y;switch(i){case"dialog":nr("cancel",n),nr("close",n),y=l;break;case"iframe":case"object":case"embed":nr("load",n),y=l;break;case"video":case"audio":for(var T=0;T<Bm.length;T++)nr(Bm[T],n);y=l;break;case"source":nr("error",n),y=l;break;case"img":case"image":case"link":nr("error",n),nr("load",n),y=l;break;case"details":nr("toggle",n),y=l;break;case"input":W(n,l),y=V(n,l),nr("invalid",n);break;case"option":Gt(n,l),y=l;break;case"select":Mo(n,l),y=go(n,l),nr("invalid",n);break;case"textarea":Js(n,l),y=ha(n,l),nr("invalid",n);break;default:y=l}switch(bc(i,y),i5(i,n,d,y,f),i){case"input":ss(n),Ve(n,l,!1);break;case"textarea":ss(n),eu(n);break;case"option":Cn(n,l);break;case"select":Us(n,l);break;default:typeof y.onClick=="function"&&zp(n);break}}function u5(n,i,l,d,f){kp(i,d);var y=null,T,w;switch(i){case"input":T=V(n,l),w=V(n,d),y=[];break;case"select":T=go(n,l),w=go(n,d),y=[];break;case"textarea":T=ha(n,l),w=ha(n,d),y=[];break;default:T=l,w=d,typeof T.onClick!="function"&&typeof w.onClick=="function"&&zp(n);break}bc(i,w);var I,U,B=null;for(I in T)if(!(w.hasOwnProperty(I)||!T.hasOwnProperty(I)||T[I]==null))if(I===xu){var re=T[I];for(U in re)re.hasOwnProperty(U)&&(B||(B={}),B[U]="")}else I===qm||I===yu||I===wp||I===dl||I===LE||(Jn.hasOwnProperty(I)?y||(y=[]):(y=y||[]).push(I,null));for(I in w){var ne=w[I],ce=T!=null?T[I]:void 0;if(!(!w.hasOwnProperty(I)||ne===ce||ne==null&&ce==null))if(I===xu)if(ne&&Object.freeze(ne),ce){for(U in ce)ce.hasOwnProperty(U)&&(!ne||!ne.hasOwnProperty(U))&&(B||(B={}),B[U]="");for(U in ne)ne.hasOwnProperty(U)&&ce[U]!==ne[U]&&(B||(B={}),B[U]=ne[U])}else B||(y||(y=[]),y.push(I,B)),B=ne;else if(I===qm){var de=ne?ne[Sp]:void 0,ve=ce?ce[Sp]:void 0;de!=null&&ve!==de&&(y=y||[]).push(I,de)}else I===yu?(typeof ne=="string"||typeof ne=="number")&&(y=y||[]).push(I,""+ne):I===wp||I===dl||(Jn.hasOwnProperty(I)?(ne!=null&&(typeof ne!="function"&&Ip(I,ne),I==="onScroll"&&nr("scroll",n)),!y&&ce!==ne&&(y=[])):(y=y||[]).push(I,ne))}return B&&(vc(B,w[xu]),(y=y||[]).push(xu,B)),y}function c5(n,i,l,d,f){l==="input"&&f.type==="radio"&&f.name!=null&&ue(n,f);var y=fa(l,d),T=fa(l,f);switch(s5(n,i,y,T),l){case"input":ge(n,f);break;case"textarea":sr(n,f);break;case"select":Ka(n,f);break}}function d5(n){{var i=n.toLowerCase();return as.hasOwnProperty(i)&&as[i]||null}}function m5(n,i,l,d,f,y,T){var w,I;switch(w=fa(i,l),kp(i,l),i){case"dialog":nr("cancel",n),nr("close",n);break;case"iframe":case"object":case"embed":nr("load",n);break;case"video":case"audio":for(var U=0;U<Bm.length;U++)nr(Bm[U],n);break;case"source":nr("error",n);break;case"img":case"image":case"link":nr("error",n),nr("load",n);break;case"details":nr("toggle",n);break;case"input":W(n,l),nr("invalid",n);break;case"option":Gt(n,l);break;case"select":Mo(n,l),nr("invalid",n);break;case"textarea":Js(n,l),nr("invalid",n);break}bc(i,l);{I=new Set;for(var B=n.attributes,re=0;re<B.length;re++){var ne=B[re].name.toLowerCase();switch(ne){case"value":break;case"checked":break;case"selected":break;default:I.add(B[re].name)}}}var ce=null;for(var de in l)if(l.hasOwnProperty(de)){var ve=l[de];if(de===yu)typeof ve=="string"?n.textContent!==ve&&(l[dl]!==!0&&Ap(n.textContent,ve,y,T),ce=[yu,ve]):typeof ve=="number"&&n.textContent!==""+ve&&(l[dl]!==!0&&Ap(n.textContent,ve,y,T),ce=[yu,""+ve]);else if(Jn.hasOwnProperty(de))ve!=null&&(typeof ve!="function"&&Ip(de,ve),de==="onScroll"&&nr("scroll",n));else if(T&&typeof w=="boolean"){var Fe=void 0,ut=w&&mt?null:yr(de);if(l[dl]!==!0){if(!(de===wp||de===dl||de==="value"||de==="checked"||de==="selected")){if(de===qm){var rt=n.innerHTML,tn=ve?ve[Sp]:void 0;if(tn!=null){var Kt=BE(n,tn);Kt!==rt&&Gm(de,rt,Kt)}}else if(de===xu){if(I.delete(de),FE){var ae=pc(ve);Fe=n.getAttribute("style"),ae!==Fe&&Gm(de,Fe,ae)}}else if(w&&!mt)I.delete(de.toLowerCase()),Fe=lt(n,de,ve),ve!==Fe&&Gm(de,Fe,ve);else if(!_n(de,ut,w)&&!rn(de,ve,ut,w)){var be=!1;if(ut!==null)I.delete(ut.attributeName),Fe=Vt(n,de,ve,ut);else{var le=d;if(le===zn&&(le=k(i)),le===zn)I.delete(de.toLowerCase());else{var ke=d5(de);ke!==null&&ke!==de&&(be=!0,I.delete(ke)),I.delete(de)}Fe=lt(n,de,ve)}var Ke=mt;!Ke&&ve!==Fe&&!be&&Gm(de,Fe,ve)}}}}}switch(T&&I.size>0&&l[dl]!==!0&&ME(I),i){case"input":ss(n),Ve(n,l,!0);break;case"textarea":ss(n),eu(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&zp(n);break}return ce}function h5(n,i,l){var d=n.nodeValue!==i;return d}function Vy(n,i){{if(Ts)return;Ts=!0,c("Did not expect server HTML to contain a <%s> in <%s>.",i.nodeName.toLowerCase(),n.nodeName.toLowerCase())}}function Ay(n,i){{if(Ts)return;Ts=!0,c('Did not expect server HTML to contain the text node "%s" in <%s>.',i.nodeValue,n.nodeName.toLowerCase())}}function zy(n,i,l){{if(Ts)return;Ts=!0,c("Expected server HTML to contain a matching <%s> in <%s>.",i,n.nodeName.toLowerCase())}}function Py(n,i){{if(i===""||Ts)return;Ts=!0,c('Expected server HTML to contain a matching text node for "%s" in <%s>.',i,n.nodeName.toLowerCase())}}function f5(n,i,l){switch(i){case"input":st(n,l);return;case"textarea":Fo(n,l);return;case"select":uc(n,l);return}}var Wm=function(){},Km=function(){};{var p5=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],HE=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],g5=HE.concat(["button"]),v5=["dd","dt","li","option","optgroup","p","rp","rt"],qE={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Km=function(n,i){var l=At({},n||qE),d={tag:i};return HE.indexOf(i)!==-1&&(l.aTagInScope=null,l.buttonTagInScope=null,l.nobrTagInScope=null),g5.indexOf(i)!==-1&&(l.pTagInButtonScope=null),p5.indexOf(i)!==-1&&i!=="address"&&i!=="div"&&i!=="p"&&(l.listItemTagAutoclosing=null,l.dlItemTagAutoclosing=null),l.current=d,i==="form"&&(l.formTag=d),i==="a"&&(l.aTagInScope=d),i==="button"&&(l.buttonTagInScope=d),i==="nobr"&&(l.nobrTagInScope=d),i==="p"&&(l.pTagInButtonScope=d),i==="li"&&(l.listItemTagAutoclosing=d),(i==="dd"||i==="dt")&&(l.dlItemTagAutoclosing=d),l};var b5=function(n,i){switch(i){case"select":return n==="option"||n==="optgroup"||n==="#text";case"optgroup":return n==="option"||n==="#text";case"option":return n==="#text";case"tr":return n==="th"||n==="td"||n==="style"||n==="script"||n==="template";case"tbody":case"thead":case"tfoot":return n==="tr"||n==="style"||n==="script"||n==="template";case"colgroup":return n==="col"||n==="template";case"table":return n==="caption"||n==="colgroup"||n==="tbody"||n==="tfoot"||n==="thead"||n==="style"||n==="script"||n==="template";case"head":return n==="base"||n==="basefont"||n==="bgsound"||n==="link"||n==="meta"||n==="title"||n==="noscript"||n==="noframes"||n==="style"||n==="script"||n==="template";case"html":return n==="head"||n==="body"||n==="frameset";case"frameset":return n==="frame";case"#document":return n==="html"}switch(n){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return i!=="h1"&&i!=="h2"&&i!=="h3"&&i!=="h4"&&i!=="h5"&&i!=="h6";case"rp":case"rt":return v5.indexOf(i)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return i==null}return!0},y5=function(n,i){switch(n){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return i.pTagInButtonScope;case"form":return i.formTag||i.pTagInButtonScope;case"li":return i.listItemTagAutoclosing;case"dd":case"dt":return i.dlItemTagAutoclosing;case"button":return i.buttonTagInScope;case"a":return i.aTagInScope;case"nobr":return i.nobrTagInScope}return null},GE={};Wm=function(n,i,l){l=l||qE;var d=l.current,f=d&&d.tag;i!=null&&(n!=null&&c("validateDOMNesting: when childText is passed, childTag should be null"),n="#text");var y=b5(n,f)?null:d,T=y?null:y5(n,l),w=y||T;if(w){var I=w.tag,U=!!y+"|"+n+"|"+I;if(!GE[U]){GE[U]=!0;var B=n,re="";if(n==="#text"?/\S/.test(i)?B="Text nodes":(B="Whitespace text nodes",re=" Make sure you don't have any extra whitespace between tags on each line of your source code."):B="<"+n+">",y){var ne="";I==="table"&&n==="tr"&&(ne+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),c("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",B,I,re,ne)}else c("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",B,I)}}}}var Pp="suppressHydrationWarning",Up="$",Op="/$",Zm="$?",Qm="$!",x5="style",Uy=null,Oy=null;function _5(n){var i,l,d=n.nodeType;switch(d){case yn:case xr:{i=d===yn?"#document":"#fragment";var f=n.documentElement;l=f?f.namespaceURI:O(null,"");break}default:{var y=d===Je?n.parentNode:n,T=y.namespaceURI||null;i=y.tagName,l=O(T,i);break}}{var w=i.toLowerCase(),I=Km(null,w);return{namespace:l,ancestorInfo:I}}}function N5(n,i,l){{var d=n,f=O(d.namespace,i),y=Km(d.ancestorInfo,i);return{namespace:f,ancestorInfo:y}}}function ZB(n){return n}function T5(n){Uy=xV(),Oy=OA();var i=null;return eE(!1),i}function E5(n){jA(Oy),eE(Uy),Uy=null,Oy=null}function D5(n,i,l,d,f){var y;{var T=d;if(Wm(n,null,T.ancestorInfo),typeof i.children=="string"||typeof i.children=="number"){var w=""+i.children,I=Km(T.ancestorInfo,n);Wm(null,w,I)}y=T.namespace}var U=o5(n,i,l,y);return Xm(f,U),qy(U,i),U}function R5(n,i){n.appendChild(i)}function C5(n,i,l,d,f){switch(l5(n,i,l,d),i){case"button":case"input":case"select":case"textarea":return!!l.autoFocus;case"img":return!0;default:return!1}}function w5(n,i,l,d,f,y){{var T=y;if(typeof d.children!=typeof l.children&&(typeof d.children=="string"||typeof d.children=="number")){var w=""+d.children,I=Km(T.ancestorInfo,i);Wm(null,w,I)}}return u5(n,i,l,d)}function jy(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}function S5(n,i,l,d){{var f=l;Wm(null,n,f.ancestorInfo)}var y=a5(n,i);return Xm(d,y),y}function k5(){var n=window.event;return n===void 0?Ta:tE(n.type)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,I5=typeof clearTimeout=="function"?clearTimeout:void 0,My=-1,WE=typeof Promise=="function"?Promise:void 0,V5=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(n){return WE.resolve(null).then(n).catch(A5)}:Ly;function A5(n){setTimeout(function(){throw n})}function z5(n,i,l,d){switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();return;case"img":{l.src&&(n.src=l.src);return}}}function P5(n,i,l,d,f,y){c5(n,i,l,d,f),qy(n,f)}function KE(n){Sr(n,"")}function U5(n,i,l){n.nodeValue=l}function O5(n,i){n.appendChild(i)}function j5(n,i){var l;n.nodeType===Je?(l=n.parentNode,l.insertBefore(i,n)):(l=n,l.appendChild(i));var d=n._reactRootContainer;d==null&&l.onclick===null&&zp(l)}function L5(n,i,l){n.insertBefore(i,l)}function M5(n,i,l){n.nodeType===Je?n.parentNode.insertBefore(i,l):n.insertBefore(i,l)}function F5(n,i){n.removeChild(i)}function B5(n,i){n.nodeType===Je?n.parentNode.removeChild(i):n.removeChild(i)}function Fy(n,i){var l=i,d=0;do{var f=l.nextSibling;if(n.removeChild(l),f&&f.nodeType===Je){var y=f.data;if(y===Op)if(d===0){n.removeChild(f),Vm(i);return}else d--;else(y===Up||y===Zm||y===Qm)&&d++}l=f}while(l);Vm(i)}function $5(n,i){n.nodeType===Je?Fy(n.parentNode,i):n.nodeType===kt&&Fy(n,i),Vm(n)}function H5(n){n=n;var i=n.style;typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"}function q5(n){n.nodeValue=""}function G5(n,i){n=n;var l=i[x5],d=l!=null&&l.hasOwnProperty("display")?l.display:null;n.style.display=cc("display",d)}function W5(n,i){n.nodeValue=i}function K5(n){n.nodeType===kt?n.textContent="":n.nodeType===yn&&n.documentElement&&n.removeChild(n.documentElement)}function Z5(n,i,l){return n.nodeType!==kt||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n}function Q5(n,i){return i===""||n.nodeType!==Pn?null:n}function Y5(n){return n.nodeType!==Je?null:n}function ZE(n){return n.data===Zm}function By(n){return n.data===Qm}function J5(n){var i=n.nextSibling&&n.nextSibling.dataset,l,d,f;return i&&(l=i.dgst,d=i.msg,f=i.stck),{message:d,digest:l,stack:f}}function X5(n,i){n._reactRetry=i}function jp(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===kt||i===Pn)break;if(i===Je){var l=n.data;if(l===Up||l===Qm||l===Zm)break;if(l===Op)return null}}return n}function Ym(n){return jp(n.nextSibling)}function ez(n){return jp(n.firstChild)}function tz(n){return jp(n.firstChild)}function nz(n){return jp(n.nextSibling)}function rz(n,i,l,d,f,y,T){Xm(y,n),qy(n,l);var w;{var I=f;w=I.namespace}var U=(y.mode&Xt)!==gt;return m5(n,i,l,w,d,U,T)}function iz(n,i,l,d){return Xm(l,n),l.mode&Xt,h5(n,i)}function sz(n,i){Xm(i,n)}function oz(n){for(var i=n.nextSibling,l=0;i;){if(i.nodeType===Je){var d=i.data;if(d===Op){if(l===0)return Ym(i);l--}else(d===Up||d===Qm||d===Zm)&&l++}i=i.nextSibling}return null}function QE(n){for(var i=n.previousSibling,l=0;i;){if(i.nodeType===Je){var d=i.data;if(d===Up||d===Qm||d===Zm){if(l===0)return i;l--}else d===Op&&l++}i=i.previousSibling}return null}function az(n){Vm(n)}function lz(n){Vm(n)}function uz(n){return n!=="head"&&n!=="body"}function cz(n,i,l,d){var f=!0;Ap(i.nodeValue,l,d,f)}function dz(n,i,l,d,f,y){if(i[Pp]!==!0){var T=!0;Ap(d.nodeValue,f,y,T)}}function mz(n,i){i.nodeType===kt?Vy(n,i):i.nodeType===Je||Ay(n,i)}function hz(n,i){{var l=n.parentNode;l!==null&&(i.nodeType===kt?Vy(l,i):i.nodeType===Je||Ay(l,i))}}function fz(n,i,l,d,f){(f||i[Pp]!==!0)&&(d.nodeType===kt?Vy(l,d):d.nodeType===Je||Ay(l,d))}function pz(n,i,l){zy(n,i)}function gz(n,i){Py(n,i)}function vz(n,i,l){{var d=n.parentNode;d!==null&&zy(d,i)}}function bz(n,i){{var l=n.parentNode;l!==null&&Py(l,i)}}function yz(n,i,l,d,f,y){(y||i[Pp]!==!0)&&zy(l,d)}function xz(n,i,l,d,f){(f||i[Pp]!==!0)&&Py(l,d)}function _z(n){c("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",n.nodeName.toLowerCase())}function Nz(n){$m(n)}var Fc=Math.random().toString(36).slice(2),Bc="__reactFiber$"+Fc,$y="__reactProps$"+Fc,Jm="__reactContainer$"+Fc,Hy="__reactEvents$"+Fc,Tz="__reactListeners$"+Fc,Ez="__reactHandles$"+Fc;function Dz(n){delete n[Bc],delete n[$y],delete n[Hy],delete n[Tz],delete n[Ez]}function Xm(n,i){i[Bc]=n}function Lp(n,i){i[Jm]=n}function YE(n){n[Jm]=null}function eh(n){return!!n[Jm]}function _u(n){var i=n[Bc];if(i)return i;for(var l=n.parentNode;l;){if(i=l[Jm]||l[Bc],i){var d=i.alternate;if(i.child!==null||d!==null&&d.child!==null)for(var f=QE(n);f!==null;){var y=f[Bc];if(y)return y;f=QE(f)}return i}n=l,l=n.parentNode}return null}function ml(n){var i=n[Bc]||n[Jm];return i&&(i.tag===C||i.tag===P||i.tag===ye||i.tag===E)?i:null}function $c(n){if(n.tag===C||n.tag===P)return n.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function Mp(n){return n[$y]||null}function qy(n,i){n[$y]=i}function Rz(n){var i=n[Hy];return i===void 0&&(i=n[Hy]=new Set),i}var JE={},XE=t.ReactDebugCurrentFrame;function Fp(n){if(n){var i=n._owner,l=Ut(n.type,n._source,i?i.type:null);XE.setExtraStackFrame(l)}else XE.setExtraStackFrame(null)}function _o(n,i,l,d,f){{var y=Function.call.bind(er);for(var T in n)if(y(n,T)){var w=void 0;try{if(typeof n[T]!="function"){var I=Error((d||"React class")+": "+l+" type `"+T+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[T]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw I.name="Invariant Violation",I}w=n[T](i,T,d,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(U){w=U}w&&!(w instanceof Error)&&(Fp(f),c("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",d||"React class",l,T,typeof w),Fp(null)),w instanceof Error&&!(w.message in JE)&&(JE[w.message]=!0,Fp(f),c("Failed %s type: %s",l,w.message),Fp(null))}}}var Gy=[],Bp;Bp=[];var Ea=-1;function hl(n){return{current:n}}function Fi(n,i){if(Ea<0){c("Unexpected pop.");return}i!==Bp[Ea]&&c("Unexpected Fiber popped."),n.current=Gy[Ea],Gy[Ea]=null,Bp[Ea]=null,Ea--}function Bi(n,i,l){Ea++,Gy[Ea]=n.current,Bp[Ea]=l,n.current=i}var Wy;Wy={};var Bs={};Object.freeze(Bs);var Da=hl(Bs),Wo=hl(!1),Ky=Bs;function Hc(n,i,l){return l&&Ko(i)?Ky:Da.current}function eD(n,i,l){{var d=n.stateNode;d.__reactInternalMemoizedUnmaskedChildContext=i,d.__reactInternalMemoizedMaskedChildContext=l}}function qc(n,i){{var l=n.type,d=l.contextTypes;if(!d)return Bs;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var y={};for(var T in d)y[T]=i[T];{var w=Nt(n)||"Unknown";_o(d,y,"context",w)}return f&&eD(n,i,y),y}}function $p(){return Wo.current}function Ko(n){{var i=n.childContextTypes;return i!=null}}function Hp(n){Fi(Wo,n),Fi(Da,n)}function Zy(n){Fi(Wo,n),Fi(Da,n)}function tD(n,i,l){{if(Da.current!==Bs)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Bi(Da,i,n),Bi(Wo,l,n)}}function nD(n,i,l){{var d=n.stateNode,f=i.childContextTypes;if(typeof d.getChildContext!="function"){{var y=Nt(n)||"Unknown";Wy[y]||(Wy[y]=!0,c("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",y,y))}return l}var T=d.getChildContext();for(var w in T)if(!(w in f))throw new Error((Nt(n)||"Unknown")+'.getChildContext(): key "'+w+'" is not defined in childContextTypes.');{var I=Nt(n)||"Unknown";_o(f,T,"child context",I)}return At({},l,T)}}function qp(n){{var i=n.stateNode,l=i&&i.__reactInternalMemoizedMergedChildContext||Bs;return Ky=Da.current,Bi(Da,l,n),Bi(Wo,Wo.current,n),!0}}function rD(n,i,l){{var d=n.stateNode;if(!d)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(l){var f=nD(n,i,Ky);d.__reactInternalMemoizedMergedChildContext=f,Fi(Wo,n),Fi(Da,n),Bi(Da,f,n),Bi(Wo,l,n)}else Fi(Wo,n),Bi(Wo,l,n)}}function Cz(n){{if(!uI(n)||n.tag!==x)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var i=n;do{switch(i.tag){case E:return i.stateNode.context;case x:{var l=i.type;if(Ko(l))return i.stateNode.__reactInternalMemoizedMergedChildContext;break}}i=i.return}while(i!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var fl=0,Gp=1,Ra=null,Qy=!1,Yy=!1;function iD(n){Ra===null?Ra=[n]:Ra.push(n)}function wz(n){Qy=!0,iD(n)}function sD(){Qy&&pl()}function pl(){if(!Yy&&Ra!==null){Yy=!0;var n=0,i=xo();try{var l=!0,d=Ra;for(pi(Ls);n<d.length;n++){var f=d[n];do f=f(l);while(f!==null)}Ra=null,Qy=!1}catch(y){throw Ra!==null&&(Ra=Ra.slice(n+1)),ST(lp,pl),y}finally{pi(i),Yy=!1}}return null}var Gc=[],Wc=0,Wp=null,Kp=0,to=[],no=0,Nu=null,Ca=1,wa="";function Sz(n){return Eu(),(n.flags&_T)!==pt}function kz(n){return Eu(),Kp}function Iz(){var n=wa,i=Ca,l=i&~Vz(i);return l.toString(32)+n}function Tu(n,i){Eu(),Gc[Wc++]=Kp,Gc[Wc++]=Wp,Wp=n,Kp=i}function oD(n,i,l){Eu(),to[no++]=Ca,to[no++]=wa,to[no++]=Nu,Nu=n;var d=Ca,f=wa,y=Zp(d)-1,T=d&~(1<<y),w=l+1,I=Zp(i)+y;if(I>30){var U=y-y%5,B=(1<<U)-1,re=(T&B).toString(32),ne=T>>U,ce=y-U,de=Zp(i)+ce,ve=w<<ce,Fe=ve|ne,ut=re+f;Ca=1<<de|Fe,wa=ut}else{var rt=w<<y,tn=rt|T,Kt=f;Ca=1<<I|tn,wa=Kt}}function Jy(n){Eu();var i=n.return;if(i!==null){var l=1,d=0;Tu(n,l),oD(n,l,d)}}function Zp(n){return 32-PT(n)}function Vz(n){return 1<<Zp(n)-1}function Xy(n){for(;n===Wp;)Wp=Gc[--Wc],Gc[Wc]=null,Kp=Gc[--Wc],Gc[Wc]=null;for(;n===Nu;)Nu=to[--no],to[no]=null,wa=to[--no],to[no]=null,Ca=to[--no],to[no]=null}function Az(){return Eu(),Nu!==null?{id:Ca,overflow:wa}:null}function zz(n,i){Eu(),to[no++]=Ca,to[no++]=wa,to[no++]=Nu,Ca=i.id,wa=i.overflow,Nu=n}function Eu(){Ri()||c("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Di=null,ro=null,No=!1,Du=!1,gl=null;function Pz(){No&&c("We should not be hydrating here. This is a bug in React. Please file a bug.")}function aD(){Du=!0}function Uz(){return Du}function Oz(n){var i=n.stateNode.containerInfo;return ro=tz(i),Di=n,No=!0,gl=null,Du=!1,!0}function jz(n,i,l){return ro=nz(i),Di=n,No=!0,gl=null,Du=!1,l!==null&&zz(n,l),!0}function lD(n,i){switch(n.tag){case E:{mz(n.stateNode.containerInfo,i);break}case C:{var l=(n.mode&Xt)!==gt;fz(n.type,n.memoizedProps,n.stateNode,i,l);break}case ye:{var d=n.memoizedState;d.dehydrated!==null&&hz(d.dehydrated,i);break}}}function uD(n,i){lD(n,i);var l=BU();l.stateNode=i,l.return=n;var d=n.deletions;d===null?(n.deletions=[l],n.flags|=uu):d.push(l)}function e0(n,i){{if(Du)return;switch(n.tag){case E:{var l=n.stateNode.containerInfo;switch(i.tag){case C:var d=i.type;i.pendingProps,pz(l,d);break;case P:var f=i.pendingProps;gz(l,f);break}break}case C:{var y=n.type,T=n.memoizedProps,w=n.stateNode;switch(i.tag){case C:{var I=i.type,U=i.pendingProps,B=(n.mode&Xt)!==gt;yz(y,T,w,I,U,B);break}case P:{var re=i.pendingProps,ne=(n.mode&Xt)!==gt;xz(y,T,w,re,ne);break}}break}case ye:{var ce=n.memoizedState,de=ce.dehydrated;if(de!==null)switch(i.tag){case C:var ve=i.type;i.pendingProps,vz(de,ve);break;case P:var Fe=i.pendingProps;bz(de,Fe);break}break}default:return}}}function cD(n,i){i.flags=i.flags&~ba|Br,e0(n,i)}function dD(n,i){switch(n.tag){case C:{var l=n.type;n.pendingProps;var d=Z5(i,l);return d!==null?(n.stateNode=d,Di=n,ro=ez(d),!0):!1}case P:{var f=n.pendingProps,y=Q5(i,f);return y!==null?(n.stateNode=y,Di=n,ro=null,!0):!1}case ye:{var T=Y5(i);if(T!==null){var w={dehydrated:T,treeContext:Az(),retryLane:Os};n.memoizedState=w;var I=$U(T);return I.return=n,n.child=I,Di=n,ro=null,!0}return!1}default:return!1}}function t0(n){return(n.mode&Xt)!==gt&&(n.flags&xn)===pt}function n0(n){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function r0(n){if(No){var i=ro;if(!i){t0(n)&&(e0(Di,n),n0()),cD(Di,n),No=!1,Di=n;return}var l=i;if(!dD(n,i)){t0(n)&&(e0(Di,n),n0()),i=Ym(l);var d=Di;if(!i||!dD(n,i)){cD(Di,n),No=!1,Di=n;return}uD(d,l)}}}function Lz(n,i,l){var d=n.stateNode,f=!Du,y=rz(d,n.type,n.memoizedProps,i,l,n,f);return n.updateQueue=y,y!==null}function Mz(n){var i=n.stateNode,l=n.memoizedProps,d=iz(i,l,n);if(d){var f=Di;if(f!==null)switch(f.tag){case E:{var y=f.stateNode.containerInfo,T=(f.mode&Xt)!==gt;cz(y,i,l,T);break}case C:{var w=f.type,I=f.memoizedProps,U=f.stateNode,B=(f.mode&Xt)!==gt;dz(w,I,U,i,l,B);break}}}return d}function Fz(n){var i=n.memoizedState,l=i!==null?i.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");sz(l,n)}function Bz(n){var i=n.memoizedState,l=i!==null?i.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return oz(l)}function mD(n){for(var i=n.return;i!==null&&i.tag!==C&&i.tag!==E&&i.tag!==ye;)i=i.return;Di=i}function Qp(n){if(n!==Di)return!1;if(!No)return mD(n),No=!0,!1;if(n.tag!==E&&(n.tag!==C||uz(n.type)&&!jy(n.type,n.memoizedProps))){var i=ro;if(i)if(t0(n))hD(n),n0();else for(;i;)uD(n,i),i=Ym(i)}return mD(n),n.tag===ye?ro=Bz(n):ro=Di?Ym(n.stateNode):null,!0}function $z(){return No&&ro!==null}function hD(n){for(var i=ro;i;)lD(n,i),i=Ym(i)}function Kc(){Di=null,ro=null,No=!1,Du=!1}function fD(){gl!==null&&(aR(gl),gl=null)}function Ri(){return No}function i0(n){gl===null?gl=[n]:gl.push(n)}var Hz=t.ReactCurrentBatchConfig,qz=null;function Gz(){return Hz.transition}var To={recordUnsafeLifecycleWarnings:function(n,i){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(n,i){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var Wz=function(n){for(var i=null,l=n;l!==null;)l.mode&Nr&&(i=l),l=l.return;return i},Ru=function(n){var i=[];return n.forEach(function(l){i.push(l)}),i.sort().join(", ")},th=[],nh=[],rh=[],ih=[],sh=[],oh=[],Cu=new Set;To.recordUnsafeLifecycleWarnings=function(n,i){Cu.has(n.type)||(typeof i.componentWillMount=="function"&&i.componentWillMount.__suppressDeprecationWarning!==!0&&th.push(n),n.mode&Nr&&typeof i.UNSAFE_componentWillMount=="function"&&nh.push(n),typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&rh.push(n),n.mode&Nr&&typeof i.UNSAFE_componentWillReceiveProps=="function"&&ih.push(n),typeof i.componentWillUpdate=="function"&&i.componentWillUpdate.__suppressDeprecationWarning!==!0&&sh.push(n),n.mode&Nr&&typeof i.UNSAFE_componentWillUpdate=="function"&&oh.push(n))},To.flushPendingUnsafeLifecycleWarnings=function(){var n=new Set;th.length>0&&(th.forEach(function(ne){n.add(Nt(ne)||"Component"),Cu.add(ne.type)}),th=[]);var i=new Set;nh.length>0&&(nh.forEach(function(ne){i.add(Nt(ne)||"Component"),Cu.add(ne.type)}),nh=[]);var l=new Set;rh.length>0&&(rh.forEach(function(ne){l.add(Nt(ne)||"Component"),Cu.add(ne.type)}),rh=[]);var d=new Set;ih.length>0&&(ih.forEach(function(ne){d.add(Nt(ne)||"Component"),Cu.add(ne.type)}),ih=[]);var f=new Set;sh.length>0&&(sh.forEach(function(ne){f.add(Nt(ne)||"Component"),Cu.add(ne.type)}),sh=[]);var y=new Set;if(oh.length>0&&(oh.forEach(function(ne){y.add(Nt(ne)||"Component"),Cu.add(ne.type)}),oh=[]),i.size>0){var T=Ru(i);c(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,T)}if(d.size>0){var w=Ru(d);c(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,w)}if(y.size>0){var I=Ru(y);c(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,I)}if(n.size>0){var U=Ru(n);u(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,U)}if(l.size>0){var B=Ru(l);u(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,B)}if(f.size>0){var re=Ru(f);u(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,re)}};var Yp=new Map,pD=new Set;To.recordLegacyContextWarning=function(n,i){var l=Wz(n);if(l===null){c("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!pD.has(n.type)){var d=Yp.get(l);(n.type.contextTypes!=null||n.type.childContextTypes!=null||i!==null&&typeof i.getChildContext=="function")&&(d===void 0&&(d=[],Yp.set(l,d)),d.push(n))}},To.flushLegacyContextWarning=function(){Yp.forEach(function(n,i){if(n.length!==0){var l=n[0],d=new Set;n.forEach(function(y){d.add(Nt(y)||"Component"),pD.add(y.type)});var f=Ru(d);try{Ht(l),c(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,f)}finally{et()}}})},To.discardPendingWarnings=function(){th=[],nh=[],rh=[],ih=[],sh=[],oh=[],Yp=new Map}}var s0,o0,a0,l0,u0,gD=function(n,i){};s0=!1,o0=!1,a0={},l0={},u0={},gD=function(n,i){if(!(n===null||typeof n!="object")&&!(!n._store||n._store.validated||n.key!=null)){if(typeof n._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");n._store.validated=!0;var l=Nt(i)||"Component";l0[l]||(l0[l]=!0,c('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function Kz(n){return n.prototype&&n.prototype.isReactComponent}function ah(n,i,l){var d=l.ref;if(d!==null&&typeof d!="function"&&typeof d!="object"){if((n.mode&Nr||Bt)&&!(l._owner&&l._self&&l._owner.stateNode!==l._self)&&!(l._owner&&l._owner.tag!==x)&&!(typeof l.type=="function"&&!Kz(l.type))&&l._owner){var f=Nt(n)||"Component";a0[f]||(c('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',f,d),a0[f]=!0)}if(l._owner){var y=l._owner,T;if(y){var w=y;if(w.tag!==x)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");T=w.stateNode}if(!T)throw new Error("Missing owner for string ref "+d+". This error is likely caused by a bug in React. Please file an issue.");var I=T;mr(d,"ref");var U=""+d;if(i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===U)return i.ref;var B=function(re){var ne=I.refs;re===null?delete ne[U]:ne[U]=re};return B._stringRef=U,B}else{if(typeof d!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!l._owner)throw new Error("Element ref was specified as a string ("+d+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return d}function Jp(n,i){var l=Object.prototype.toString.call(i);throw new Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.")}function Xp(n){{var i=Nt(n)||"Component";if(u0[i])return;u0[i]=!0,c("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function vD(n){var i=n._payload,l=n._init;return l(i)}function bD(n){function i(ae,be){if(n){var le=ae.deletions;le===null?(ae.deletions=[be],ae.flags|=uu):le.push(be)}}function l(ae,be){if(!n)return null;for(var le=be;le!==null;)i(ae,le),le=le.sibling;return null}function d(ae,be){for(var le=new Map,ke=be;ke!==null;)ke.key!==null?le.set(ke.key,ke):le.set(ke.index,ke),ke=ke.sibling;return le}function f(ae,be){var le=Uu(ae,be);return le.index=0,le.sibling=null,le}function y(ae,be,le){if(ae.index=le,!n)return ae.flags|=_T,be;var ke=ae.alternate;if(ke!==null){var Ke=ke.index;return Ke<be?(ae.flags|=Br,be):Ke}else return ae.flags|=Br,be}function T(ae){return n&&ae.alternate===null&&(ae.flags|=Br),ae}function w(ae,be,le,ke){if(be===null||be.tag!==P){var Ke=i_(le,ae.mode,ke);return Ke.return=ae,Ke}else{var $e=f(be,le);return $e.return=ae,$e}}function I(ae,be,le,ke){var Ke=le.type;if(Ke===H)return B(ae,be,le.props.children,ke,le.key);if(be!==null&&(be.elementType===Ke||TR(be,le)||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===xt&&vD(Ke)===be.type)){var $e=f(be,le.props);return $e.ref=ah(ae,be,le),$e.return=ae,$e._debugSource=le._source,$e._debugOwner=le._owner,$e}var yt=r_(le,ae.mode,ke);return yt.ref=ah(ae,be,le),yt.return=ae,yt}function U(ae,be,le,ke){if(be===null||be.tag!==R||be.stateNode.containerInfo!==le.containerInfo||be.stateNode.implementation!==le.implementation){var Ke=s_(le,ae.mode,ke);return Ke.return=ae,Ke}else{var $e=f(be,le.children||[]);return $e.return=ae,$e}}function B(ae,be,le,ke,Ke){if(be===null||be.tag!==A){var $e=Cl(le,ae.mode,ke,Ke);return $e.return=ae,$e}else{var yt=f(be,le);return yt.return=ae,yt}}function re(ae,be,le){if(typeof be=="string"&&be!==""||typeof be=="number"){var ke=i_(""+be,ae.mode,le);return ke.return=ae,ke}if(typeof be=="object"&&be!==null){switch(be.$$typeof){case si:{var Ke=r_(be,ae.mode,le);return Ke.ref=ah(ae,null,be),Ke.return=ae,Ke}case Mn:{var $e=s_(be,ae.mode,le);return $e.return=ae,$e}case xt:{var yt=be._payload,Ct=be._init;return re(ae,Ct(yt),le)}}if(St(be)||vs(be)){var kn=Cl(be,ae.mode,le,null);return kn.return=ae,kn}Jp(ae,be)}return typeof be=="function"&&Xp(ae),null}function ne(ae,be,le,ke){var Ke=be!==null?be.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ke!==null?null:w(ae,be,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case si:return le.key===Ke?I(ae,be,le,ke):null;case Mn:return le.key===Ke?U(ae,be,le,ke):null;case xt:{var $e=le._payload,yt=le._init;return ne(ae,be,yt($e),ke)}}if(St(le)||vs(le))return Ke!==null?null:B(ae,be,le,ke,null);Jp(ae,le)}return typeof le=="function"&&Xp(ae),null}function ce(ae,be,le,ke,Ke){if(typeof ke=="string"&&ke!==""||typeof ke=="number"){var $e=ae.get(le)||null;return w(be,$e,""+ke,Ke)}if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case si:{var yt=ae.get(ke.key===null?le:ke.key)||null;return I(be,yt,ke,Ke)}case Mn:{var Ct=ae.get(ke.key===null?le:ke.key)||null;return U(be,Ct,ke,Ke)}case xt:var kn=ke._payload,fn=ke._init;return ce(ae,be,le,fn(kn),Ke)}if(St(ke)||vs(ke)){var Vr=ae.get(le)||null;return B(be,Vr,ke,Ke,null)}Jp(be,ke)}return typeof ke=="function"&&Xp(be),null}function de(ae,be,le){{if(typeof ae!="object"||ae===null)return be;switch(ae.$$typeof){case si:case Mn:gD(ae,le);var ke=ae.key;if(typeof ke!="string")break;if(be===null){be=new Set,be.add(ke);break}if(!be.has(ke)){be.add(ke);break}c("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",ke);break;case xt:var Ke=ae._payload,$e=ae._init;de($e(Ke),be,le);break}}return be}function ve(ae,be,le,ke){for(var Ke=null,$e=0;$e<le.length;$e++){var yt=le[$e];Ke=de(yt,Ke,ae)}for(var Ct=null,kn=null,fn=be,Vr=0,pn=0,Tr=null;fn!==null&&pn<le.length;pn++){fn.index>pn?(Tr=fn,fn=null):Tr=fn.sibling;var Hi=ne(ae,fn,le[pn],ke);if(Hi===null){fn===null&&(fn=Tr);break}n&&fn&&Hi.alternate===null&&i(ae,fn),Vr=y(Hi,Vr,pn),kn===null?Ct=Hi:kn.sibling=Hi,kn=Hi,fn=Tr}if(pn===le.length){if(l(ae,fn),Ri()){var Ai=pn;Tu(ae,Ai)}return Ct}if(fn===null){for(;pn<le.length;pn++){var Hs=re(ae,le[pn],ke);Hs!==null&&(Vr=y(Hs,Vr,pn),kn===null?Ct=Hs:kn.sibling=Hs,kn=Hs)}if(Ri()){var hs=pn;Tu(ae,hs)}return Ct}for(var fs=d(ae,fn);pn<le.length;pn++){var qi=ce(fs,ae,pn,le[pn],ke);qi!==null&&(n&&qi.alternate!==null&&fs.delete(qi.key===null?pn:qi.key),Vr=y(qi,Vr,pn),kn===null?Ct=qi:kn.sibling=qi,kn=qi)}if(n&&fs.forEach(function(hd){return i(ae,hd)}),Ri()){var Pa=pn;Tu(ae,Pa)}return Ct}function Fe(ae,be,le,ke){var Ke=vs(le);if(typeof Ke!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&le[Symbol.toStringTag]==="Generator"&&(o0||c("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),o0=!0),le.entries===Ke&&(s0||c("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),s0=!0);var $e=Ke.call(le);if($e)for(var yt=null,Ct=$e.next();!Ct.done;Ct=$e.next()){var kn=Ct.value;yt=de(kn,yt,ae)}}var fn=Ke.call(le);if(fn==null)throw new Error("An iterable object provided no iterator.");for(var Vr=null,pn=null,Tr=be,Hi=0,Ai=0,Hs=null,hs=fn.next();Tr!==null&&!hs.done;Ai++,hs=fn.next()){Tr.index>Ai?(Hs=Tr,Tr=null):Hs=Tr.sibling;var fs=ne(ae,Tr,hs.value,ke);if(fs===null){Tr===null&&(Tr=Hs);break}n&&Tr&&fs.alternate===null&&i(ae,Tr),Hi=y(fs,Hi,Ai),pn===null?Vr=fs:pn.sibling=fs,pn=fs,Tr=Hs}if(hs.done){if(l(ae,Tr),Ri()){var qi=Ai;Tu(ae,qi)}return Vr}if(Tr===null){for(;!hs.done;Ai++,hs=fn.next()){var Pa=re(ae,hs.value,ke);Pa!==null&&(Hi=y(Pa,Hi,Ai),pn===null?Vr=Pa:pn.sibling=Pa,pn=Pa)}if(Ri()){var hd=Ai;Tu(ae,hd)}return Vr}for(var Lh=d(ae,Tr);!hs.done;Ai++,hs=fn.next()){var na=ce(Lh,ae,Ai,hs.value,ke);na!==null&&(n&&na.alternate!==null&&Lh.delete(na.key===null?Ai:na.key),Hi=y(na,Hi,Ai),pn===null?Vr=na:pn.sibling=na,pn=na)}if(n&&Lh.forEach(function(xO){return i(ae,xO)}),Ri()){var yO=Ai;Tu(ae,yO)}return Vr}function ut(ae,be,le,ke){if(be!==null&&be.tag===P){l(ae,be.sibling);var Ke=f(be,le);return Ke.return=ae,Ke}l(ae,be);var $e=i_(le,ae.mode,ke);return $e.return=ae,$e}function rt(ae,be,le,ke){for(var Ke=le.key,$e=be;$e!==null;){if($e.key===Ke){var yt=le.type;if(yt===H){if($e.tag===A){l(ae,$e.sibling);var Ct=f($e,le.props.children);return Ct.return=ae,Ct._debugSource=le._source,Ct._debugOwner=le._owner,Ct}}else if($e.elementType===yt||TR($e,le)||typeof yt=="object"&&yt!==null&&yt.$$typeof===xt&&vD(yt)===$e.type){l(ae,$e.sibling);var kn=f($e,le.props);return kn.ref=ah(ae,$e,le),kn.return=ae,kn._debugSource=le._source,kn._debugOwner=le._owner,kn}l(ae,$e);break}else i(ae,$e);$e=$e.sibling}if(le.type===H){var fn=Cl(le.props.children,ae.mode,ke,le.key);return fn.return=ae,fn}else{var Vr=r_(le,ae.mode,ke);return Vr.ref=ah(ae,be,le),Vr.return=ae,Vr}}function tn(ae,be,le,ke){for(var Ke=le.key,$e=be;$e!==null;){if($e.key===Ke)if($e.tag===R&&$e.stateNode.containerInfo===le.containerInfo&&$e.stateNode.implementation===le.implementation){l(ae,$e.sibling);var yt=f($e,le.children||[]);return yt.return=ae,yt}else{l(ae,$e);break}else i(ae,$e);$e=$e.sibling}var Ct=s_(le,ae.mode,ke);return Ct.return=ae,Ct}function Kt(ae,be,le,ke){var Ke=typeof le=="object"&&le!==null&&le.type===H&&le.key===null;if(Ke&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case si:return T(rt(ae,be,le,ke));case Mn:return T(tn(ae,be,le,ke));case xt:var $e=le._payload,yt=le._init;return Kt(ae,be,yt($e),ke)}if(St(le))return ve(ae,be,le,ke);if(vs(le))return Fe(ae,be,le,ke);Jp(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?T(ut(ae,be,""+le,ke)):(typeof le=="function"&&Xp(ae),l(ae,be))}return Kt}var Zc=bD(!0),yD=bD(!1);function Zz(n,i){if(n!==null&&i.child!==n.child)throw new Error("Resuming work not yet implemented.");if(i.child!==null){var l=i.child,d=Uu(l,l.pendingProps);for(i.child=d,d.return=i;l.sibling!==null;)l=l.sibling,d=d.sibling=Uu(l,l.pendingProps),d.return=i;d.sibling=null}}function Qz(n,i){for(var l=n.child;l!==null;)OU(l,i),l=l.sibling}var c0=hl(null),d0;d0={};var eg=null,Qc=null,m0=null,tg=!1;function ng(){eg=null,Qc=null,m0=null,tg=!1}function xD(){tg=!0}function _D(){tg=!1}function ND(n,i,l){Bi(c0,i._currentValue,n),i._currentValue=l,i._currentRenderer!==void 0&&i._currentRenderer!==null&&i._currentRenderer!==d0&&c("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),i._currentRenderer=d0}function h0(n,i){var l=c0.current;Fi(c0,i),n._currentValue=l}function f0(n,i,l){for(var d=n;d!==null;){var f=d.alternate;if(zc(d.childLanes,i)?f!==null&&!zc(f.childLanes,i)&&(f.childLanes=Mt(f.childLanes,i)):(d.childLanes=Mt(d.childLanes,i),f!==null&&(f.childLanes=Mt(f.childLanes,i))),d===l)break;d=d.return}d!==l&&c("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Yz(n,i,l){Jz(n,i,l)}function Jz(n,i,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=void 0,y=d.dependencies;if(y!==null){f=d.child;for(var T=y.firstContext;T!==null;){if(T.context===i){if(d.tag===x){var w=Dm(l),I=Sa(Qn,w);I.tag=ig;var U=d.updateQueue;if(U!==null){var B=U.shared,re=B.pending;re===null?I.next=I:(I.next=re.next,re.next=I),B.pending=I}}d.lanes=Mt(d.lanes,l);var ne=d.alternate;ne!==null&&(ne.lanes=Mt(ne.lanes,l)),f0(d.return,l,n),y.lanes=Mt(y.lanes,l);break}T=T.next}}else if(d.tag===J)f=d.type===n.type?null:d.child;else if(d.tag===G){var ce=d.return;if(ce===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");ce.lanes=Mt(ce.lanes,l);var de=ce.alternate;de!==null&&(de.lanes=Mt(de.lanes,l)),f0(ce,l,n),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===n){f=null;break}var ve=f.sibling;if(ve!==null){ve.return=f.return,f=ve;break}f=f.return}d=f}}function Yc(n,i){eg=n,Qc=null,m0=null;var l=n.dependencies;if(l!==null){var d=l.firstContext;d!==null&&(js(l.lanes,i)&&Nh(),l.firstContext=null)}}function $r(n){tg&&c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var i=n._currentValue;if(m0!==n){var l={context:n,memoizedValue:i,next:null};if(Qc===null){if(eg===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Qc=l,eg.dependencies={lanes:we,firstContext:l}}else Qc=Qc.next=l}return i}var wu=null;function p0(n){wu===null?wu=[n]:wu.push(n)}function Xz(){if(wu!==null){for(var n=0;n<wu.length;n++){var i=wu[n],l=i.interleaved;if(l!==null){i.interleaved=null;var d=l.next,f=i.pending;if(f!==null){var y=f.next;f.next=d,l.next=y}i.pending=l}}wu=null}}function TD(n,i,l,d){var f=i.interleaved;return f===null?(l.next=l,p0(i)):(l.next=f.next,f.next=l),i.interleaved=l,rg(n,d)}function eP(n,i,l,d){var f=i.interleaved;f===null?(l.next=l,p0(i)):(l.next=f.next,f.next=l),i.interleaved=l}function tP(n,i,l,d){var f=i.interleaved;return f===null?(l.next=l,p0(i)):(l.next=f.next,f.next=l),i.interleaved=l,rg(n,d)}function Es(n,i){return rg(n,i)}var nP=rg;function rg(n,i){n.lanes=Mt(n.lanes,i);var l=n.alternate;l!==null&&(l.lanes=Mt(l.lanes,i)),l===null&&(n.flags&(Br|ba))!==pt&&yR(n);for(var d=n,f=n.return;f!==null;)f.childLanes=Mt(f.childLanes,i),l=f.alternate,l!==null?l.childLanes=Mt(l.childLanes,i):(f.flags&(Br|ba))!==pt&&yR(n),d=f,f=f.return;if(d.tag===E){var y=d.stateNode;return y}else return null}var ED=0,DD=1,ig=2,g0=3,sg=!1,v0,og;v0=!1,og=null;function b0(n){var i={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:we},effects:null};n.updateQueue=i}function RD(n,i){var l=i.updateQueue,d=n.updateQueue;if(l===d){var f={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects};i.updateQueue=f}}function Sa(n,i){var l={eventTime:n,lane:i,tag:ED,payload:null,callback:null,next:null};return l}function vl(n,i,l){var d=n.updateQueue;if(d===null)return null;var f=d.shared;if(og===f&&!v0&&(c("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),v0=!0),eU()){var y=f.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),f.pending=i,nP(n,l)}else return tP(n,f,i,l)}function ag(n,i,l){var d=i.updateQueue;if(d!==null){var f=d.shared;if(LT(l)){var y=f.lanes;y=FT(y,n.pendingLanes);var T=Mt(y,l);f.lanes=T,cy(n,T)}}}function y0(n,i){var l=n.updateQueue,d=n.alternate;if(d!==null){var f=d.updateQueue;if(l===f){var y=null,T=null,w=l.firstBaseUpdate;if(w!==null){var I=w;do{var U={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};T===null?y=T=U:(T.next=U,T=U),I=I.next}while(I!==null);T===null?y=T=i:(T.next=i,T=i)}else y=T=i;l={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:T,shared:f.shared,effects:f.effects},n.updateQueue=l;return}}var B=l.lastBaseUpdate;B===null?l.firstBaseUpdate=i:B.next=i,l.lastBaseUpdate=i}function rP(n,i,l,d,f,y){switch(l.tag){case DD:{var T=l.payload;if(typeof T=="function"){xD();var w=T.call(y,d,f);{if(n.mode&Nr){hi(!0);try{T.call(y,d,f)}finally{hi(!1)}}_D()}return w}return T}case g0:n.flags=n.flags&~us|xn;case ED:{var I=l.payload,U;if(typeof I=="function"){xD(),U=I.call(y,d,f);{if(n.mode&Nr){hi(!0);try{I.call(y,d,f)}finally{hi(!1)}}_D()}}else U=I;return U==null?d:At({},d,U)}case ig:return sg=!0,d}return d}function lg(n,i,l,d){var f=n.updateQueue;sg=!1,og=f.shared;var y=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,U=I.next;I.next=null,T===null?y=U:T.next=U,T=I;var B=n.alternate;if(B!==null){var re=B.updateQueue,ne=re.lastBaseUpdate;ne!==T&&(ne===null?re.firstBaseUpdate=U:ne.next=U,re.lastBaseUpdate=I)}}if(y!==null){var ce=f.baseState,de=we,ve=null,Fe=null,ut=null,rt=y;do{var tn=rt.lane,Kt=rt.eventTime;if(zc(d,tn)){if(ut!==null){var be={eventTime:Kt,lane:fi,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};ut=ut.next=be}ce=rP(n,f,rt,ce,i,l);var le=rt.callback;if(le!==null&&rt.lane!==fi){n.flags|=Ib;var ke=f.effects;ke===null?f.effects=[rt]:ke.push(rt)}}else{var ae={eventTime:Kt,lane:tn,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};ut===null?(Fe=ut=ae,ve=ce):ut=ut.next=ae,de=Mt(de,tn)}if(rt=rt.next,rt===null){if(w=f.shared.pending,w===null)break;var Ke=w,$e=Ke.next;Ke.next=null,rt=$e,f.lastBaseUpdate=Ke,f.shared.pending=null}}while(!0);ut===null&&(ve=ce),f.baseState=ve,f.firstBaseUpdate=Fe,f.lastBaseUpdate=ut;var yt=f.shared.interleaved;if(yt!==null){var Ct=yt;do de=Mt(de,Ct.lane),Ct=Ct.next;while(Ct!==yt)}else y===null&&(f.shared.lanes=we);zh(de),n.lanes=de,n.memoizedState=ce}og=null}function iP(n,i){if(typeof n!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+n));n.call(i)}function CD(){sg=!1}function ug(){return sg}function wD(n,i,l){var d=i.effects;if(i.effects=null,d!==null)for(var f=0;f<d.length;f++){var y=d[f],T=y.callback;T!==null&&(y.callback=null,iP(T,l))}}var lh={},bl=hl(lh),uh=hl(lh),cg=hl(lh);function dg(n){if(n===lh)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return n}function SD(){var n=dg(cg.current);return n}function x0(n,i){Bi(cg,i,n),Bi(uh,n,n),Bi(bl,lh,n);var l=_5(i);Fi(bl,n),Bi(bl,l,n)}function Jc(n){Fi(bl,n),Fi(uh,n),Fi(cg,n)}function _0(){var n=dg(bl.current);return n}function kD(n){dg(cg.current);var i=dg(bl.current),l=N5(i,n.type);i!==l&&(Bi(uh,n,n),Bi(bl,l,n))}function N0(n){uh.current===n&&(Fi(bl,n),Fi(uh,n))}var sP=0,ID=1,VD=1,ch=2,Eo=hl(sP);function T0(n,i){return(n&i)!==0}function Xc(n){return n&ID}function E0(n,i){return n&ID|i}function oP(n,i){return n|i}function yl(n,i){Bi(Eo,i,n)}function ed(n){Fi(Eo,n)}function aP(n,i){var l=n.memoizedState;return l!==null?l.dehydrated!==null:(n.memoizedProps,!0)}function mg(n){for(var i=n;i!==null;){if(i.tag===ye){var l=i.memoizedState;if(l!==null){var d=l.dehydrated;if(d===null||ZE(d)||By(d))return i}}else if(i.tag===K&&i.memoizedProps.revealOrder!==void 0){var f=(i.flags&xn)!==pt;if(f)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)return null;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ds=0,Zr=1,Zo=2,Qr=4,Ci=8,D0=[];function R0(){for(var n=0;n<D0.length;n++){var i=D0[n];i._workInProgressVersionPrimary=null}D0.length=0}function lP(n,i){var l=i._getVersion,d=l(i._source);n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d)}var Ge=t.ReactCurrentDispatcher,dh=t.ReactCurrentBatchConfig,C0,td;C0=new Set;var Su=we,Sn=null,Yr=null,Jr=null,hg=!1,mh=!1,hh=0,uP=0,cP=25,Ne=null,io=null,xl=-1,w0=!1;function Nn(){{var n=Ne;io===null?io=[n]:io.push(n)}}function Le(){{var n=Ne;io!==null&&(xl++,io[xl]!==n&&dP(n))}}function nd(n){n!=null&&!St(n)&&c("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ne,typeof n)}function dP(n){{var i=Nt(Sn);if(!C0.has(i)&&(C0.add(i),io!==null)){for(var l="",d=30,f=0;f<=xl;f++){for(var y=io[f],T=f===xl?n:y,w=f+1+". "+y;w.length<d;)w+=" ";w+=T+`
`,l+=w}c(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,i,l)}}}function $i(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function S0(n,i){if(w0)return!1;if(i===null)return c("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ne),!1;n.length!==i.length&&c(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Ne,"["+i.join(", ")+"]","["+n.join(", ")+"]");for(var l=0;l<i.length&&l<n.length;l++)if(!Fs(n[l],i[l]))return!1;return!0}function rd(n,i,l,d,f,y){Su=y,Sn=i,io=n!==null?n._debugHookTypes:null,xl=-1,w0=n!==null&&n.type!==i.type,i.memoizedState=null,i.updateQueue=null,i.lanes=we,n!==null&&n.memoizedState!==null?Ge.current=e1:io!==null?Ge.current=XD:Ge.current=JD;var T=l(d,f);if(mh){var w=0;do{if(mh=!1,hh=0,w>=cP)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");w+=1,w0=!1,Yr=null,Jr=null,i.updateQueue=null,xl=-1,Ge.current=t1,T=l(d,f)}while(mh)}Ge.current=Rg,i._debugHookTypes=io;var I=Yr!==null&&Yr.next!==null;if(Su=we,Sn=null,Yr=null,Jr=null,Ne=null,io=null,xl=-1,n!==null&&(n.flags&xa)!==(i.flags&xa)&&(n.mode&Xt)!==gt&&c("Internal React error: Expected static flag was missing. Please notify the React team."),hg=!1,I)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return T}function id(){var n=hh!==0;return hh=0,n}function AD(n,i,l){i.updateQueue=n.updateQueue,(i.mode&qo)!==gt?i.flags&=~(ap|ya|bo|sn):i.flags&=~(bo|sn),n.lanes=fp(n.lanes,l)}function zD(){if(Ge.current=Rg,hg){for(var n=Sn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hg=!1}Su=we,Sn=null,Yr=null,Jr=null,io=null,xl=-1,Ne=null,WD=!1,mh=!1,hh=0}function Qo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Sn.memoizedState=Jr=n:Jr=Jr.next=n,Jr}function so(){var n;if(Yr===null){var i=Sn.alternate;i!==null?n=i.memoizedState:n=null}else n=Yr.next;var l;if(Jr===null?l=Sn.memoizedState:l=Jr.next,l!==null)Jr=l,l=Jr.next,Yr=n;else{if(n===null)throw new Error("Rendered more hooks than during the previous render.");Yr=n;var d={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null};Jr===null?Sn.memoizedState=Jr=d:Jr=Jr.next=d}return Jr}function PD(){return{lastEffect:null,stores:null}}function k0(n,i){return typeof i=="function"?i(n):i}function I0(n,i,l){var d=Qo(),f;l!==void 0?f=l(i):f=i,d.memoizedState=d.baseState=f;var y={pending:null,interleaved:null,lanes:we,dispatch:null,lastRenderedReducer:n,lastRenderedState:f};d.queue=y;var T=y.dispatch=pP.bind(null,Sn,y);return[d.memoizedState,T]}function V0(n,i,l){var d=so(),f=d.queue;if(f===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");f.lastRenderedReducer=n;var y=Yr,T=y.baseQueue,w=f.pending;if(w!==null){if(T!==null){var I=T.next,U=w.next;T.next=U,w.next=I}y.baseQueue!==T&&c("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),y.baseQueue=T=w,f.pending=null}if(T!==null){var B=T.next,re=y.baseState,ne=null,ce=null,de=null,ve=B;do{var Fe=ve.lane;if(zc(Su,Fe)){if(de!==null){var rt={lane:fi,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};de=de.next=rt}if(ve.hasEagerState)re=ve.eagerState;else{var tn=ve.action;re=n(re,tn)}}else{var ut={lane:Fe,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};de===null?(ce=de=ut,ne=re):de=de.next=ut,Sn.lanes=Mt(Sn.lanes,Fe),zh(Fe)}ve=ve.next}while(ve!==null&&ve!==B);de===null?ne=re:de.next=ce,Fs(re,d.memoizedState)||Nh(),d.memoizedState=re,d.baseState=ne,d.baseQueue=de,f.lastRenderedState=re}var Kt=f.interleaved;if(Kt!==null){var ae=Kt;do{var be=ae.lane;Sn.lanes=Mt(Sn.lanes,be),zh(be),ae=ae.next}while(ae!==Kt)}else T===null&&(f.lanes=we);var le=f.dispatch;return[d.memoizedState,le]}function A0(n,i,l){var d=so(),f=d.queue;if(f===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");f.lastRenderedReducer=n;var y=f.dispatch,T=f.pending,w=d.memoizedState;if(T!==null){f.pending=null;var I=T.next,U=I;do{var B=U.action;w=n(w,B),U=U.next}while(U!==I);Fs(w,d.memoizedState)||Nh(),d.memoizedState=w,d.baseQueue===null&&(d.baseState=w),f.lastRenderedState=w}return[w,y]}function QB(n,i,l){}function YB(n,i,l){}function z0(n,i,l){var d=Sn,f=Qo(),y,T=Ri();if(T){if(l===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");y=l(),td||y!==l()&&(c("The result of getServerSnapshot should be cached to avoid an infinite loop"),td=!0)}else{if(y=i(),!td){var w=i();Fs(y,w)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),td=!0)}var I=qg();if(I===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");hp(I,Su)||UD(d,i,y)}f.memoizedState=y;var U={value:y,getSnapshot:i};return f.queue=U,bg(jD.bind(null,d,U,n),[n]),d.flags|=bo,fh(Zr|Ci,OD.bind(null,d,U,y,i),void 0,null),y}function fg(n,i,l){var d=Sn,f=so(),y=i();if(!td){var T=i();Fs(y,T)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),td=!0)}var w=f.memoizedState,I=!Fs(w,y);I&&(f.memoizedState=y,Nh());var U=f.queue;if(gh(jD.bind(null,d,U,n),[n]),U.getSnapshot!==i||I||Jr!==null&&Jr.memoizedState.tag&Zr){d.flags|=bo,fh(Zr|Ci,OD.bind(null,d,U,y,i),void 0,null);var B=qg();if(B===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");hp(B,Su)||UD(d,i,y)}return y}function UD(n,i,l){n.flags|=op;var d={getSnapshot:i,value:l},f=Sn.updateQueue;if(f===null)f=PD(),Sn.updateQueue=f,f.stores=[d];else{var y=f.stores;y===null?f.stores=[d]:y.push(d)}}function OD(n,i,l,d){i.value=l,i.getSnapshot=d,LD(i)&&MD(n)}function jD(n,i,l){var d=function(){LD(i)&&MD(n)};return l(d)}function LD(n){var i=n.getSnapshot,l=n.value;try{var d=i();return!Fs(l,d)}catch{return!0}}function MD(n){var i=Es(n,Et);i!==null&&ni(i,n,Et,Qn)}function pg(n){var i=Qo();typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n;var l={pending:null,interleaved:null,lanes:we,dispatch:null,lastRenderedReducer:k0,lastRenderedState:n};i.queue=l;var d=l.dispatch=gP.bind(null,Sn,l);return[i.memoizedState,d]}function P0(n){return V0(k0)}function U0(n){return A0(k0)}function fh(n,i,l,d){var f={tag:n,create:i,destroy:l,deps:d,next:null},y=Sn.updateQueue;if(y===null)y=PD(),Sn.updateQueue=y,y.lastEffect=f.next=f;else{var T=y.lastEffect;if(T===null)y.lastEffect=f.next=f;else{var w=T.next;T.next=f,f.next=w,y.lastEffect=f}}return f}function O0(n){var i=Qo();{var l={current:n};return i.memoizedState=l,l}}function gg(n){var i=so();return i.memoizedState}function ph(n,i,l,d){var f=Qo(),y=d===void 0?null:d;Sn.flags|=n,f.memoizedState=fh(Zr|i,l,void 0,y)}function vg(n,i,l,d){var f=so(),y=d===void 0?null:d,T=void 0;if(Yr!==null){var w=Yr.memoizedState;if(T=w.destroy,y!==null){var I=w.deps;if(S0(y,I)){f.memoizedState=fh(i,l,T,y);return}}}Sn.flags|=n,f.memoizedState=fh(Zr|i,l,T,y)}function bg(n,i){return(Sn.mode&qo)!==gt?ph(ap|bo|zb,Ci,n,i):ph(bo|zb,Ci,n,i)}function gh(n,i){return vg(bo,Ci,n,i)}function j0(n,i){return ph(sn,Zo,n,i)}function yg(n,i){return vg(sn,Zo,n,i)}function L0(n,i){var l=sn;return l|=mu,(Sn.mode&qo)!==gt&&(l|=ya),ph(l,Qr,n,i)}function xg(n,i){return vg(sn,Qr,n,i)}function FD(n,i){if(typeof i=="function"){var l=i,d=n();return l(d),function(){l(null)}}else if(i!=null){var f=i;f.hasOwnProperty("current")||c("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(f).join(", ")+"}");var y=n();return f.current=y,function(){f.current=null}}}function M0(n,i,l){typeof i!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",i!==null?typeof i:"null");var d=l!=null?l.concat([n]):null,f=sn;return f|=mu,(Sn.mode&qo)!==gt&&(f|=ya),ph(f,Qr,FD.bind(null,i,n),d)}function _g(n,i,l){typeof i!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",i!==null?typeof i:"null");var d=l!=null?l.concat([n]):null;return vg(sn,Qr,FD.bind(null,i,n),d)}function mP(n,i){}var Ng=mP;function F0(n,i){var l=Qo(),d=i===void 0?null:i;return l.memoizedState=[n,d],n}function Tg(n,i){var l=so(),d=i===void 0?null:i,f=l.memoizedState;if(f!==null&&d!==null){var y=f[1];if(S0(d,y))return f[0]}return l.memoizedState=[n,d],n}function B0(n,i){var l=Qo(),d=i===void 0?null:i,f=n();return l.memoizedState=[f,d],f}function Eg(n,i){var l=so(),d=i===void 0?null:i,f=l.memoizedState;if(f!==null&&d!==null){var y=f[1];if(S0(d,y))return f[0]}var T=n();return l.memoizedState=[T,d],T}function $0(n){var i=Qo();return i.memoizedState=n,n}function BD(n){var i=so(),l=Yr,d=l.memoizedState;return HD(i,d,n)}function $D(n){var i=so();if(Yr===null)return i.memoizedState=n,n;var l=Yr.memoizedState;return HD(i,l,n)}function HD(n,i,l){var d=!YI(Su);if(d){if(!Fs(l,i)){var f=MT();Sn.lanes=Mt(Sn.lanes,f),zh(f),n.baseState=!0}return i}else return n.baseState&&(n.baseState=!1,Nh()),n.memoizedState=l,l}function hP(n,i,l){var d=xo();pi(oV(d,Na)),n(!0);var f=dh.transition;dh.transition={};var y=dh.transition;dh.transition._updatedFibers=new Set;try{n(!1),i()}finally{if(pi(d),dh.transition=f,f===null&&y._updatedFibers){var T=y._updatedFibers.size;T>10&&u("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),y._updatedFibers.clear()}}}function H0(){var n=pg(!1),i=n[0],l=n[1],d=hP.bind(null,l),f=Qo();return f.memoizedState=d,[i,d]}function qD(){var n=P0(),i=n[0],l=so(),d=l.memoizedState;return[i,d]}function GD(){var n=U0(),i=n[0],l=so(),d=l.memoizedState;return[i,d]}var WD=!1;function fP(){return WD}function q0(){var n=Qo(),i=qg(),l=i.identifierPrefix,d;if(Ri()){var f=Iz();d=":"+l+"R"+f;var y=hh++;y>0&&(d+="H"+y.toString(32)),d+=":"}else{var T=uP++;d=":"+l+"r"+T.toString(32)+":"}return n.memoizedState=d,d}function Dg(){var n=so(),i=n.memoizedState;return i}function pP(n,i,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var d=Dl(n),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(KD(n))ZD(i,f);else{var y=TD(n,i,f,d);if(y!==null){var T=ms();ni(y,n,d,T),QD(y,i,d)}}YD(n,d)}function gP(n,i,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var d=Dl(n),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(KD(n))ZD(i,f);else{var y=n.alternate;if(n.lanes===we&&(y===null||y.lanes===we)){var T=i.lastRenderedReducer;if(T!==null){var w;w=Ge.current,Ge.current=Do;try{var I=i.lastRenderedState,U=T(I,l);if(f.hasEagerState=!0,f.eagerState=U,Fs(U,I)){eP(n,i,f,d);return}}catch{}finally{Ge.current=w}}}var B=TD(n,i,f,d);if(B!==null){var re=ms();ni(B,n,d,re),QD(B,i,d)}}YD(n,d)}function KD(n){var i=n.alternate;return n===Sn||i!==null&&i===Sn}function ZD(n,i){mh=hg=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function QD(n,i,l){if(LT(l)){var d=i.lanes;d=FT(d,n.pendingLanes);var f=Mt(d,l);i.lanes=f,cy(n,f)}}function YD(n,i,l){Lb(n,i)}var Rg={readContext:$r,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useInsertionEffect:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i,useDeferredValue:$i,useTransition:$i,useMutableSource:$i,useSyncExternalStore:$i,useId:$i,unstable_isNewReconciler:Te},JD=null,XD=null,e1=null,t1=null,Yo=null,Do=null,Cg=null;{var G0=function(){c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Dt=function(){c("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};JD={readContext:function(n){return $r(n)},useCallback:function(n,i){return Ne="useCallback",Nn(),nd(i),F0(n,i)},useContext:function(n){return Ne="useContext",Nn(),$r(n)},useEffect:function(n,i){return Ne="useEffect",Nn(),nd(i),bg(n,i)},useImperativeHandle:function(n,i,l){return Ne="useImperativeHandle",Nn(),nd(l),M0(n,i,l)},useInsertionEffect:function(n,i){return Ne="useInsertionEffect",Nn(),nd(i),j0(n,i)},useLayoutEffect:function(n,i){return Ne="useLayoutEffect",Nn(),nd(i),L0(n,i)},useMemo:function(n,i){Ne="useMemo",Nn(),nd(i);var l=Ge.current;Ge.current=Yo;try{return B0(n,i)}finally{Ge.current=l}},useReducer:function(n,i,l){Ne="useReducer",Nn();var d=Ge.current;Ge.current=Yo;try{return I0(n,i,l)}finally{Ge.current=d}},useRef:function(n){return Ne="useRef",Nn(),O0(n)},useState:function(n){Ne="useState",Nn();var i=Ge.current;Ge.current=Yo;try{return pg(n)}finally{Ge.current=i}},useDebugValue:function(n,i){return Ne="useDebugValue",Nn(),void 0},useDeferredValue:function(n){return Ne="useDeferredValue",Nn(),$0(n)},useTransition:function(){return Ne="useTransition",Nn(),H0()},useMutableSource:function(n,i,l){return Ne="useMutableSource",Nn(),void 0},useSyncExternalStore:function(n,i,l){return Ne="useSyncExternalStore",Nn(),z0(n,i,l)},useId:function(){return Ne="useId",Nn(),q0()},unstable_isNewReconciler:Te},XD={readContext:function(n){return $r(n)},useCallback:function(n,i){return Ne="useCallback",Le(),F0(n,i)},useContext:function(n){return Ne="useContext",Le(),$r(n)},useEffect:function(n,i){return Ne="useEffect",Le(),bg(n,i)},useImperativeHandle:function(n,i,l){return Ne="useImperativeHandle",Le(),M0(n,i,l)},useInsertionEffect:function(n,i){return Ne="useInsertionEffect",Le(),j0(n,i)},useLayoutEffect:function(n,i){return Ne="useLayoutEffect",Le(),L0(n,i)},useMemo:function(n,i){Ne="useMemo",Le();var l=Ge.current;Ge.current=Yo;try{return B0(n,i)}finally{Ge.current=l}},useReducer:function(n,i,l){Ne="useReducer",Le();var d=Ge.current;Ge.current=Yo;try{return I0(n,i,l)}finally{Ge.current=d}},useRef:function(n){return Ne="useRef",Le(),O0(n)},useState:function(n){Ne="useState",Le();var i=Ge.current;Ge.current=Yo;try{return pg(n)}finally{Ge.current=i}},useDebugValue:function(n,i){return Ne="useDebugValue",Le(),void 0},useDeferredValue:function(n){return Ne="useDeferredValue",Le(),$0(n)},useTransition:function(){return Ne="useTransition",Le(),H0()},useMutableSource:function(n,i,l){return Ne="useMutableSource",Le(),void 0},useSyncExternalStore:function(n,i,l){return Ne="useSyncExternalStore",Le(),z0(n,i,l)},useId:function(){return Ne="useId",Le(),q0()},unstable_isNewReconciler:Te},e1={readContext:function(n){return $r(n)},useCallback:function(n,i){return Ne="useCallback",Le(),Tg(n,i)},useContext:function(n){return Ne="useContext",Le(),$r(n)},useEffect:function(n,i){return Ne="useEffect",Le(),gh(n,i)},useImperativeHandle:function(n,i,l){return Ne="useImperativeHandle",Le(),_g(n,i,l)},useInsertionEffect:function(n,i){return Ne="useInsertionEffect",Le(),yg(n,i)},useLayoutEffect:function(n,i){return Ne="useLayoutEffect",Le(),xg(n,i)},useMemo:function(n,i){Ne="useMemo",Le();var l=Ge.current;Ge.current=Do;try{return Eg(n,i)}finally{Ge.current=l}},useReducer:function(n,i,l){Ne="useReducer",Le();var d=Ge.current;Ge.current=Do;try{return V0(n,i,l)}finally{Ge.current=d}},useRef:function(n){return Ne="useRef",Le(),gg()},useState:function(n){Ne="useState",Le();var i=Ge.current;Ge.current=Do;try{return P0(n)}finally{Ge.current=i}},useDebugValue:function(n,i){return Ne="useDebugValue",Le(),Ng()},useDeferredValue:function(n){return Ne="useDeferredValue",Le(),BD(n)},useTransition:function(){return Ne="useTransition",Le(),qD()},useMutableSource:function(n,i,l){return Ne="useMutableSource",Le(),void 0},useSyncExternalStore:function(n,i,l){return Ne="useSyncExternalStore",Le(),fg(n,i)},useId:function(){return Ne="useId",Le(),Dg()},unstable_isNewReconciler:Te},t1={readContext:function(n){return $r(n)},useCallback:function(n,i){return Ne="useCallback",Le(),Tg(n,i)},useContext:function(n){return Ne="useContext",Le(),$r(n)},useEffect:function(n,i){return Ne="useEffect",Le(),gh(n,i)},useImperativeHandle:function(n,i,l){return Ne="useImperativeHandle",Le(),_g(n,i,l)},useInsertionEffect:function(n,i){return Ne="useInsertionEffect",Le(),yg(n,i)},useLayoutEffect:function(n,i){return Ne="useLayoutEffect",Le(),xg(n,i)},useMemo:function(n,i){Ne="useMemo",Le();var l=Ge.current;Ge.current=Cg;try{return Eg(n,i)}finally{Ge.current=l}},useReducer:function(n,i,l){Ne="useReducer",Le();var d=Ge.current;Ge.current=Cg;try{return A0(n,i,l)}finally{Ge.current=d}},useRef:function(n){return Ne="useRef",Le(),gg()},useState:function(n){Ne="useState",Le();var i=Ge.current;Ge.current=Cg;try{return U0(n)}finally{Ge.current=i}},useDebugValue:function(n,i){return Ne="useDebugValue",Le(),Ng()},useDeferredValue:function(n){return Ne="useDeferredValue",Le(),$D(n)},useTransition:function(){return Ne="useTransition",Le(),GD()},useMutableSource:function(n,i,l){return Ne="useMutableSource",Le(),void 0},useSyncExternalStore:function(n,i,l){return Ne="useSyncExternalStore",Le(),fg(n,i)},useId:function(){return Ne="useId",Le(),Dg()},unstable_isNewReconciler:Te},Yo={readContext:function(n){return G0(),$r(n)},useCallback:function(n,i){return Ne="useCallback",Dt(),Nn(),F0(n,i)},useContext:function(n){return Ne="useContext",Dt(),Nn(),$r(n)},useEffect:function(n,i){return Ne="useEffect",Dt(),Nn(),bg(n,i)},useImperativeHandle:function(n,i,l){return Ne="useImperativeHandle",Dt(),Nn(),M0(n,i,l)},useInsertionEffect:function(n,i){return Ne="useInsertionEffect",Dt(),Nn(),j0(n,i)},useLayoutEffect:function(n,i){return Ne="useLayoutEffect",Dt(),Nn(),L0(n,i)},useMemo:function(n,i){Ne="useMemo",Dt(),Nn();var l=Ge.current;Ge.current=Yo;try{return B0(n,i)}finally{Ge.current=l}},useReducer:function(n,i,l){Ne="useReducer",Dt(),Nn();var d=Ge.current;Ge.current=Yo;try{return I0(n,i,l)}finally{Ge.current=d}},useRef:function(n){return Ne="useRef",Dt(),Nn(),O0(n)},useState:function(n){Ne="useState",Dt(),Nn();var i=Ge.current;Ge.current=Yo;try{return pg(n)}finally{Ge.current=i}},useDebugValue:function(n,i){return Ne="useDebugValue",Dt(),Nn(),void 0},useDeferredValue:function(n){return Ne="useDeferredValue",Dt(),Nn(),$0(n)},useTransition:function(){return Ne="useTransition",Dt(),Nn(),H0()},useMutableSource:function(n,i,l){return Ne="useMutableSource",Dt(),Nn(),void 0},useSyncExternalStore:function(n,i,l){return Ne="useSyncExternalStore",Dt(),Nn(),z0(n,i,l)},useId:function(){return Ne="useId",Dt(),Nn(),q0()},unstable_isNewReconciler:Te},Do={readContext:function(n){return G0(),$r(n)},useCallback:function(n,i){return Ne="useCallback",Dt(),Le(),Tg(n,i)},useContext:function(n){return Ne="useContext",Dt(),Le(),$r(n)},useEffect:function(n,i){return Ne="useEffect",Dt(),Le(),gh(n,i)},useImperativeHandle:function(n,i,l){return Ne="useImperativeHandle",Dt(),Le(),_g(n,i,l)},useInsertionEffect:function(n,i){return Ne="useInsertionEffect",Dt(),Le(),yg(n,i)},useLayoutEffect:function(n,i){return Ne="useLayoutEffect",Dt(),Le(),xg(n,i)},useMemo:function(n,i){Ne="useMemo",Dt(),Le();var l=Ge.current;Ge.current=Do;try{return Eg(n,i)}finally{Ge.current=l}},useReducer:function(n,i,l){Ne="useReducer",Dt(),Le();var d=Ge.current;Ge.current=Do;try{return V0(n,i,l)}finally{Ge.current=d}},useRef:function(n){return Ne="useRef",Dt(),Le(),gg()},useState:function(n){Ne="useState",Dt(),Le();var i=Ge.current;Ge.current=Do;try{return P0(n)}finally{Ge.current=i}},useDebugValue:function(n,i){return Ne="useDebugValue",Dt(),Le(),Ng()},useDeferredValue:function(n){return Ne="useDeferredValue",Dt(),Le(),BD(n)},useTransition:function(){return Ne="useTransition",Dt(),Le(),qD()},useMutableSource:function(n,i,l){return Ne="useMutableSource",Dt(),Le(),void 0},useSyncExternalStore:function(n,i,l){return Ne="useSyncExternalStore",Dt(),Le(),fg(n,i)},useId:function(){return Ne="useId",Dt(),Le(),Dg()},unstable_isNewReconciler:Te},Cg={readContext:function(n){return G0(),$r(n)},useCallback:function(n,i){return Ne="useCallback",Dt(),Le(),Tg(n,i)},useContext:function(n){return Ne="useContext",Dt(),Le(),$r(n)},useEffect:function(n,i){return Ne="useEffect",Dt(),Le(),gh(n,i)},useImperativeHandle:function(n,i,l){return Ne="useImperativeHandle",Dt(),Le(),_g(n,i,l)},useInsertionEffect:function(n,i){return Ne="useInsertionEffect",Dt(),Le(),yg(n,i)},useLayoutEffect:function(n,i){return Ne="useLayoutEffect",Dt(),Le(),xg(n,i)},useMemo:function(n,i){Ne="useMemo",Dt(),Le();var l=Ge.current;Ge.current=Do;try{return Eg(n,i)}finally{Ge.current=l}},useReducer:function(n,i,l){Ne="useReducer",Dt(),Le();var d=Ge.current;Ge.current=Do;try{return A0(n,i,l)}finally{Ge.current=d}},useRef:function(n){return Ne="useRef",Dt(),Le(),gg()},useState:function(n){Ne="useState",Dt(),Le();var i=Ge.current;Ge.current=Do;try{return U0(n)}finally{Ge.current=i}},useDebugValue:function(n,i){return Ne="useDebugValue",Dt(),Le(),Ng()},useDeferredValue:function(n){return Ne="useDeferredValue",Dt(),Le(),$D(n)},useTransition:function(){return Ne="useTransition",Dt(),Le(),GD()},useMutableSource:function(n,i,l){return Ne="useMutableSource",Dt(),Le(),void 0},useSyncExternalStore:function(n,i,l){return Ne="useSyncExternalStore",Dt(),Le(),fg(n,i)},useId:function(){return Ne="useId",Dt(),Le(),Dg()},unstable_isNewReconciler:Te}}var _l=e.unstable_now,n1=0,wg=-1,vh=-1,Sg=-1,W0=!1,kg=!1;function r1(){return W0}function vP(){kg=!0}function bP(){W0=!1,kg=!1}function yP(){W0=kg,kg=!1}function i1(){return n1}function s1(){n1=_l()}function K0(n){vh=_l(),n.actualStartTime<0&&(n.actualStartTime=_l())}function o1(n){vh=-1}function Ig(n,i){if(vh>=0){var l=_l()-vh;n.actualDuration+=l,i&&(n.selfBaseDuration=l),vh=-1}}function Jo(n){if(wg>=0){var i=_l()-wg;wg=-1;for(var l=n.return;l!==null;){switch(l.tag){case E:var d=l.stateNode;d.effectDuration+=i;return;case pe:var f=l.stateNode;f.effectDuration+=i;return}l=l.return}}}function Z0(n){if(Sg>=0){var i=_l()-Sg;Sg=-1;for(var l=n.return;l!==null;){switch(l.tag){case E:var d=l.stateNode;d!==null&&(d.passiveEffectDuration+=i);return;case pe:var f=l.stateNode;f!==null&&(f.passiveEffectDuration+=i);return}l=l.return}}}function Xo(){wg=_l()}function Q0(){Sg=_l()}function Y0(n){for(var i=n.child;i;)n.actualDuration+=i.actualDuration,i=i.sibling}function Ro(n,i){if(n&&n.defaultProps){var l=At({},i),d=n.defaultProps;for(var f in d)l[f]===void 0&&(l[f]=d[f]);return l}return i}var J0={},X0,ex,tx,nx,rx,a1,Vg,ix,sx,ox,bh;{X0=new Set,ex=new Set,tx=new Set,nx=new Set,ix=new Set,rx=new Set,sx=new Set,ox=new Set,bh=new Set;var l1=new Set;Vg=function(n,i){if(!(n===null||typeof n=="function")){var l=i+"_"+n;l1.has(l)||(l1.add(l),c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i,n))}},a1=function(n,i){if(i===void 0){var l=Ot(n)||"Component";rx.has(l)||(rx.add(l),c("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",l))}},Object.defineProperty(J0,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(J0)}function ax(n,i,l,d){var f=n.memoizedState,y=l(d,f);{if(n.mode&Nr){hi(!0);try{y=l(d,f)}finally{hi(!1)}}a1(i,y)}var T=y==null?f:At({},f,y);if(n.memoizedState=T,n.lanes===we){var w=n.updateQueue;w.baseState=T}}var lx={isMounted:cI,enqueueSetState:function(n,i,l){var d=il(n),f=ms(),y=Dl(d),T=Sa(f,y);T.payload=i,l!=null&&(Vg(l,"setState"),T.callback=l);var w=vl(d,T,y);w!==null&&(ni(w,d,y,f),ag(w,d,y)),Lb(d,y)},enqueueReplaceState:function(n,i,l){var d=il(n),f=ms(),y=Dl(d),T=Sa(f,y);T.tag=DD,T.payload=i,l!=null&&(Vg(l,"replaceState"),T.callback=l);var w=vl(d,T,y);w!==null&&(ni(w,d,y,f),ag(w,d,y)),Lb(d,y)},enqueueForceUpdate:function(n,i){var l=il(n),d=ms(),f=Dl(l),y=Sa(d,f);y.tag=ig,i!=null&&(Vg(i,"forceUpdate"),y.callback=i);var T=vl(l,y,f);T!==null&&(ni(T,l,f,d),ag(T,l,f)),FI(l,f)}};function u1(n,i,l,d,f,y,T){var w=n.stateNode;if(typeof w.shouldComponentUpdate=="function"){var I=w.shouldComponentUpdate(d,y,T);{if(n.mode&Nr){hi(!0);try{I=w.shouldComponentUpdate(d,y,T)}finally{hi(!1)}}I===void 0&&c("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Ot(i)||"Component")}return I}return i.prototype&&i.prototype.isPureReactComponent?!Mm(l,d)||!Mm(f,y):!0}function xP(n,i,l){var d=n.stateNode;{var f=Ot(i)||"Component",y=d.render;y||(i.prototype&&typeof i.prototype.render=="function"?c("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",f):c("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",f)),d.getInitialState&&!d.getInitialState.isReactClassApproved&&!d.state&&c("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",f),d.getDefaultProps&&!d.getDefaultProps.isReactClassApproved&&c("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",f),d.propTypes&&c("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",f),d.contextType&&c("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",f),i.childContextTypes&&!bh.has(i)&&(n.mode&Nr)===gt&&(bh.add(i),c(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,f)),i.contextTypes&&!bh.has(i)&&(n.mode&Nr)===gt&&(bh.add(i),c(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,f)),d.contextTypes&&c("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",f),i.contextType&&i.contextTypes&&!sx.has(i)&&(sx.add(i),c("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",f)),typeof d.componentShouldUpdate=="function"&&c("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",f),i.prototype&&i.prototype.isPureReactComponent&&typeof d.shouldComponentUpdate<"u"&&c("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Ot(i)||"A pure component"),typeof d.componentDidUnmount=="function"&&c("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",f),typeof d.componentDidReceiveProps=="function"&&c("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",f),typeof d.componentWillRecieveProps=="function"&&c("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",f),typeof d.UNSAFE_componentWillRecieveProps=="function"&&c("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",f);var T=d.props!==l;d.props!==void 0&&T&&c("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",f,f),d.defaultProps&&c("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",f,f),typeof d.getSnapshotBeforeUpdate=="function"&&typeof d.componentDidUpdate!="function"&&!tx.has(i)&&(tx.add(i),c("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Ot(i))),typeof d.getDerivedStateFromProps=="function"&&c("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",f),typeof d.getDerivedStateFromError=="function"&&c("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",f),typeof i.getSnapshotBeforeUpdate=="function"&&c("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",f);var w=d.state;w&&(typeof w!="object"||St(w))&&c("%s.state: must be set to an object or null",f),typeof d.getChildContext=="function"&&typeof i.childContextTypes!="object"&&c("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",f)}}function c1(n,i){i.updater=lx,n.stateNode=i,sp(i,n),i._reactInternalInstance=J0}function d1(n,i,l){var d=!1,f=Bs,y=Bs,T=i.contextType;if("contextType"in i){var w=T===null||T!==void 0&&T.$$typeof===Pt&&T._context===void 0;if(!w&&!ox.has(i)){ox.add(i);var I="";T===void 0?I=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof T!="object"?I=" However, it is set to a "+typeof T+".":T.$$typeof===at?I=" Did you accidentally pass the Context.Provider instead?":T._context!==void 0?I=" Did you accidentally pass the Context.Consumer instead?":I=" However, it is set to an object with keys {"+Object.keys(T).join(", ")+"}.",c("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Ot(i)||"Component",I)}}if(typeof T=="object"&&T!==null)y=$r(T);else{f=Hc(n,i,!0);var U=i.contextTypes;d=U!=null,y=d?qc(n,f):Bs}var B=new i(l,y);if(n.mode&Nr){hi(!0);try{B=new i(l,y)}finally{hi(!1)}}var re=n.memoizedState=B.state!==null&&B.state!==void 0?B.state:null;c1(n,B);{if(typeof i.getDerivedStateFromProps=="function"&&re===null){var ne=Ot(i)||"Component";ex.has(ne)||(ex.add(ne),c("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",ne,B.state===null?"null":"undefined",ne))}if(typeof i.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"){var ce=null,de=null,ve=null;if(typeof B.componentWillMount=="function"&&B.componentWillMount.__suppressDeprecationWarning!==!0?ce="componentWillMount":typeof B.UNSAFE_componentWillMount=="function"&&(ce="UNSAFE_componentWillMount"),typeof B.componentWillReceiveProps=="function"&&B.componentWillReceiveProps.__suppressDeprecationWarning!==!0?de="componentWillReceiveProps":typeof B.UNSAFE_componentWillReceiveProps=="function"&&(de="UNSAFE_componentWillReceiveProps"),typeof B.componentWillUpdate=="function"&&B.componentWillUpdate.__suppressDeprecationWarning!==!0?ve="componentWillUpdate":typeof B.UNSAFE_componentWillUpdate=="function"&&(ve="UNSAFE_componentWillUpdate"),ce!==null||de!==null||ve!==null){var Fe=Ot(i)||"Component",ut=typeof i.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";nx.has(Fe)||(nx.add(Fe),c(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Fe,ut,ce!==null?`
  `+ce:"",de!==null?`
  `+de:"",ve!==null?`
  `+ve:""))}}}return d&&eD(n,f,y),B}function _P(n,i){var l=i.state;typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&(c("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Nt(n)||"Component"),lx.enqueueReplaceState(i,i.state,null))}function m1(n,i,l,d){var f=i.state;if(typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==f){{var y=Nt(n)||"Component";X0.has(y)||(X0.add(y),c("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",y))}lx.enqueueReplaceState(i,i.state,null)}}function ux(n,i,l,d){xP(n,i,l);var f=n.stateNode;f.props=l,f.state=n.memoizedState,f.refs={},b0(n);var y=i.contextType;if(typeof y=="object"&&y!==null)f.context=$r(y);else{var T=Hc(n,i,!0);f.context=qc(n,T)}{if(f.state===l){var w=Ot(i)||"Component";ix.has(w)||(ix.add(w),c("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",w))}n.mode&Nr&&To.recordLegacyContextWarning(n,f),To.recordUnsafeLifecycleWarnings(n,f)}f.state=n.memoizedState;var I=i.getDerivedStateFromProps;if(typeof I=="function"&&(ax(n,i,I,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps!="function"&&typeof f.getSnapshotBeforeUpdate!="function"&&(typeof f.UNSAFE_componentWillMount=="function"||typeof f.componentWillMount=="function")&&(_P(n,f),lg(n,l,f,d),f.state=n.memoizedState),typeof f.componentDidMount=="function"){var U=sn;U|=mu,(n.mode&qo)!==gt&&(U|=ya),n.flags|=U}}function NP(n,i,l,d){var f=n.stateNode,y=n.memoizedProps;f.props=y;var T=f.context,w=i.contextType,I=Bs;if(typeof w=="object"&&w!==null)I=$r(w);else{var U=Hc(n,i,!0);I=qc(n,U)}var B=i.getDerivedStateFromProps,re=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function";!re&&(typeof f.UNSAFE_componentWillReceiveProps=="function"||typeof f.componentWillReceiveProps=="function")&&(y!==l||T!==I)&&m1(n,f,l,I),CD();var ne=n.memoizedState,ce=f.state=ne;if(lg(n,l,f,d),ce=n.memoizedState,y===l&&ne===ce&&!$p()&&!ug()){if(typeof f.componentDidMount=="function"){var de=sn;de|=mu,(n.mode&qo)!==gt&&(de|=ya),n.flags|=de}return!1}typeof B=="function"&&(ax(n,i,B,l),ce=n.memoizedState);var ve=ug()||u1(n,i,y,l,ne,ce,I);if(ve){if(!re&&(typeof f.UNSAFE_componentWillMount=="function"||typeof f.componentWillMount=="function")&&(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"){var Fe=sn;Fe|=mu,(n.mode&qo)!==gt&&(Fe|=ya),n.flags|=Fe}}else{if(typeof f.componentDidMount=="function"){var ut=sn;ut|=mu,(n.mode&qo)!==gt&&(ut|=ya),n.flags|=ut}n.memoizedProps=l,n.memoizedState=ce}return f.props=l,f.state=ce,f.context=I,ve}function TP(n,i,l,d,f){var y=i.stateNode;RD(n,i);var T=i.memoizedProps,w=i.type===i.elementType?T:Ro(i.type,T);y.props=w;var I=i.pendingProps,U=y.context,B=l.contextType,re=Bs;if(typeof B=="object"&&B!==null)re=$r(B);else{var ne=Hc(i,l,!0);re=qc(i,ne)}var ce=l.getDerivedStateFromProps,de=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function";!de&&(typeof y.UNSAFE_componentWillReceiveProps=="function"||typeof y.componentWillReceiveProps=="function")&&(T!==I||U!==re)&&m1(i,y,d,re),CD();var ve=i.memoizedState,Fe=y.state=ve;if(lg(i,d,y,f),Fe=i.memoizedState,T===I&&ve===Fe&&!$p()&&!ug()&&!Zt)return typeof y.componentDidUpdate=="function"&&(T!==n.memoizedProps||ve!==n.memoizedState)&&(i.flags|=sn),typeof y.getSnapshotBeforeUpdate=="function"&&(T!==n.memoizedProps||ve!==n.memoizedState)&&(i.flags|=cu),!1;typeof ce=="function"&&(ax(i,l,ce,d),Fe=i.memoizedState);var ut=ug()||u1(i,l,w,d,ve,Fe,re)||Zt;return ut?(!de&&(typeof y.UNSAFE_componentWillUpdate=="function"||typeof y.componentWillUpdate=="function")&&(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,Fe,re),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,Fe,re)),typeof y.componentDidUpdate=="function"&&(i.flags|=sn),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=cu)):(typeof y.componentDidUpdate=="function"&&(T!==n.memoizedProps||ve!==n.memoizedState)&&(i.flags|=sn),typeof y.getSnapshotBeforeUpdate=="function"&&(T!==n.memoizedProps||ve!==n.memoizedState)&&(i.flags|=cu),i.memoizedProps=d,i.memoizedState=Fe),y.props=d,y.state=Fe,y.context=re,ut}function ku(n,i){return{value:n,source:i,stack:Ni(i),digest:null}}function cx(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function EP(n,i){return!0}function dx(n,i){try{var l=EP(n,i);if(l===!1)return;var d=i.value,f=i.source,y=i.stack,T=y!==null?y:"";if(d!=null&&d._suppressLogging){if(n.tag===x)return;console.error(d)}var w=f?Nt(f):null,I=w?"The above error occurred in the <"+w+"> component:":"The above error occurred in one of your React components:",U;if(n.tag===E)U=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var B=Nt(n)||"Anonymous";U="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+B+".")}var re=I+`
`+T+`

`+(""+U);console.error(re)}catch(ne){setTimeout(function(){throw ne})}}var DP=typeof WeakMap=="function"?WeakMap:Map;function h1(n,i,l){var d=Sa(Qn,l);d.tag=g0,d.payload={element:null};var f=i.value;return d.callback=function(){vU(f),dx(n,i)},d}function mx(n,i,l){var d=Sa(Qn,l);d.tag=g0;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var y=i.value;d.payload=function(){return f(y)},d.callback=function(){ER(n),dx(n,i)}}var T=n.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){ER(n),dx(n,i),typeof f!="function"&&pU(this);var I=i.value,U=i.stack;this.componentDidCatch(I,{componentStack:U!==null?U:""}),typeof f!="function"&&(js(n.lanes,Et)||c("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Nt(n)||"Unknown"))}),d}function f1(n,i,l){var d=n.pingCache,f;if(d===null?(d=n.pingCache=new DP,f=new Set,d.set(i,f)):(f=d.get(i),f===void 0&&(f=new Set,d.set(i,f))),!f.has(l)){f.add(l);var y=bU.bind(null,n,i,l);yo&&Ph(n,l),i.then(y,y)}}function RP(n,i,l,d){var f=n.updateQueue;if(f===null){var y=new Set;y.add(l),n.updateQueue=y}else f.add(l)}function CP(n,i){var l=n.tag;if((n.mode&Xt)===gt&&(l===v||l===ee||l===F)){var d=n.alternate;d?(n.updateQueue=d.updateQueue,n.memoizedState=d.memoizedState,n.lanes=d.lanes):(n.updateQueue=null,n.memoizedState=null)}}function p1(n){var i=n;do{if(i.tag===ye&&aP(i))return i;i=i.return}while(i!==null);return null}function g1(n,i,l,d,f){if((n.mode&Xt)===gt){if(n===i)n.flags|=us;else{if(n.flags|=xn,l.flags|=Vb,l.flags&=~(oI|vm),l.tag===x){var y=l.alternate;if(y===null)l.tag=q;else{var T=Sa(Qn,Et);T.tag=ig,vl(l,T,Et)}}l.lanes=Mt(l.lanes,Et)}return n}return n.flags|=us,n.lanes=f,n}function wP(n,i,l,d,f){if(l.flags|=vm,yo&&Ph(n,f),d!==null&&typeof d=="object"&&typeof d.then=="function"){var y=d;CP(l),Ri()&&l.mode&Xt&&aD();var T=p1(i);if(T!==null){T.flags&=~va,g1(T,i,l,n,f),T.mode&Xt&&f1(n,y,f),RP(T,n,y);return}else{if(!QI(f)){f1(n,y,f),qx();return}var w=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");d=w}}else if(Ri()&&l.mode&Xt){aD();var I=p1(i);if(I!==null){(I.flags&us)===pt&&(I.flags|=va),g1(I,i,l,n,f),i0(ku(d,l));return}}d=ku(d,l),aU(d);var U=i;do{switch(U.tag){case E:{var B=d;U.flags|=us;var re=Dm(f);U.lanes=Mt(U.lanes,re);var ne=h1(U,B,re);y0(U,ne);return}case x:var ce=d,de=U.type,ve=U.stateNode;if((U.flags&xn)===pt&&(typeof de.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&!pR(ve))){U.flags|=us;var Fe=Dm(f);U.lanes=Mt(U.lanes,Fe);var ut=mx(U,ce,Fe);y0(U,ut);return}break}U=U.return}while(U!==null)}function SP(){return null}var yh=t.ReactCurrentOwner,Co=!1,hx,xh,fx,px,gx,Iu,vx,Ag,_h;hx={},xh={},fx={},px={},gx={},Iu=!1,vx={},Ag={},_h={};function cs(n,i,l,d){n===null?i.child=yD(i,null,l,d):i.child=Zc(i,n.child,l,d)}function kP(n,i,l,d){i.child=Zc(i,n.child,null,d),i.child=Zc(i,null,l,d)}function v1(n,i,l,d,f){if(i.type!==i.elementType){var y=l.propTypes;y&&_o(y,d,"prop",Ot(l))}var T=l.render,w=i.ref,I,U;Yc(i,f),ym(i);{if(yh.current=i,li(!0),I=rd(n,i,T,d,w,f),U=id(),i.mode&Nr){hi(!0);try{I=rd(n,i,T,d,w,f),U=id()}finally{hi(!1)}}li(!1)}return kc(),n!==null&&!Co?(AD(n,i,f),ka(n,i,f)):(Ri()&&U&&Jy(i),i.flags|=Cc,cs(n,i,I,f),i.child)}function b1(n,i,l,d,f){if(n===null){var y=l.type;if(PU(y)&&l.compare===null&&l.defaultProps===void 0){var T=y;return T=md(y),i.tag=F,i.type=T,xx(i,y),y1(n,i,T,d,f)}{var w=y.propTypes;if(w&&_o(w,d,"prop",Ot(y)),l.defaultProps!==void 0){var I=Ot(y)||"Unknown";_h[I]||(c("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",I),_h[I]=!0)}}var U=n_(l.type,null,d,i,i.mode,f);return U.ref=i.ref,U.return=i,i.child=U,U}{var B=l.type,re=B.propTypes;re&&_o(re,d,"prop",Ot(B))}var ne=n.child,ce=Rx(n,f);if(!ce){var de=ne.memoizedProps,ve=l.compare;if(ve=ve!==null?ve:Mm,ve(de,d)&&n.ref===i.ref)return ka(n,i,f)}i.flags|=Cc;var Fe=Uu(ne,d);return Fe.ref=i.ref,Fe.return=i,i.child=Fe,Fe}function y1(n,i,l,d,f){if(i.type!==i.elementType){var y=i.elementType;if(y.$$typeof===xt){var T=y,w=T._payload,I=T._init;try{y=I(w)}catch{y=null}var U=y&&y.propTypes;U&&_o(U,d,"prop",Ot(y))}}if(n!==null){var B=n.memoizedProps;if(Mm(B,d)&&n.ref===i.ref&&i.type===n.type)if(Co=!1,i.pendingProps=d=B,Rx(n,f))(n.flags&Vb)!==pt&&(Co=!0);else return i.lanes=n.lanes,ka(n,i,f)}return bx(n,i,l,d,f)}function x1(n,i,l){var d=i.pendingProps,f=d.children,y=n!==null?n.memoizedState:null;if(d.mode==="hidden"||Oe)if((i.mode&Xt)===gt){var T={baseLanes:we,cachePool:null,transitions:null};i.memoizedState=T,Gg(i,l)}else if(js(l,Os)){var re={baseLanes:we,cachePool:null,transitions:null};i.memoizedState=re;var ne=y!==null?y.baseLanes:l;Gg(i,ne)}else{var w=null,I;if(y!==null){var U=y.baseLanes;I=Mt(U,l)}else I=l;i.lanes=i.childLanes=Os;var B={baseLanes:I,cachePool:w,transitions:null};return i.memoizedState=B,i.updateQueue=null,Gg(i,I),null}else{var ce;y!==null?(ce=Mt(y.baseLanes,l),i.memoizedState=null):ce=l,Gg(i,ce)}return cs(n,i,f,l),i.child}function IP(n,i,l){var d=i.pendingProps;return cs(n,i,d,l),i.child}function VP(n,i,l){var d=i.pendingProps.children;return cs(n,i,d,l),i.child}function AP(n,i,l){{i.flags|=sn;{var d=i.stateNode;d.effectDuration=0,d.passiveEffectDuration=0}}var f=i.pendingProps,y=f.children;return cs(n,i,y,l),i.child}function _1(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=sl,i.flags|=Ab)}function bx(n,i,l,d,f){if(i.type!==i.elementType){var y=l.propTypes;y&&_o(y,d,"prop",Ot(l))}var T;{var w=Hc(i,l,!0);T=qc(i,w)}var I,U;Yc(i,f),ym(i);{if(yh.current=i,li(!0),I=rd(n,i,l,d,T,f),U=id(),i.mode&Nr){hi(!0);try{I=rd(n,i,l,d,T,f),U=id()}finally{hi(!1)}}li(!1)}return kc(),n!==null&&!Co?(AD(n,i,f),ka(n,i,f)):(Ri()&&U&&Jy(i),i.flags|=Cc,cs(n,i,I,f),i.child)}function N1(n,i,l,d,f){{switch(QU(i)){case!1:{var y=i.stateNode,T=i.type,w=new T(i.memoizedProps,y.context),I=w.state;y.updater.enqueueSetState(y,I,null);break}case!0:{i.flags|=xn,i.flags|=us;var U=new Error("Simulated error coming from DevTools"),B=Dm(f);i.lanes=Mt(i.lanes,B);var re=mx(i,ku(U,i),B);y0(i,re);break}}if(i.type!==i.elementType){var ne=l.propTypes;ne&&_o(ne,d,"prop",Ot(l))}}var ce;Ko(l)?(ce=!0,qp(i)):ce=!1,Yc(i,f);var de=i.stateNode,ve;de===null?(Pg(n,i),d1(i,l,d),ux(i,l,d,f),ve=!0):n===null?ve=NP(i,l,d,f):ve=TP(n,i,l,d,f);var Fe=yx(n,i,l,ve,ce,f);{var ut=i.stateNode;ve&&ut.props!==d&&(Iu||c("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Nt(i)||"a component"),Iu=!0)}return Fe}function yx(n,i,l,d,f,y){_1(n,i);var T=(i.flags&xn)!==pt;if(!d&&!T)return f&&rD(i,l,!1),ka(n,i,y);var w=i.stateNode;yh.current=i;var I;if(T&&typeof l.getDerivedStateFromError!="function")I=null,o1();else{ym(i);{if(li(!0),I=w.render(),i.mode&Nr){hi(!0);try{w.render()}finally{hi(!1)}}li(!1)}kc()}return i.flags|=Cc,n!==null&&T?kP(n,i,I,y):cs(n,i,I,y),i.memoizedState=w.state,f&&rD(i,l,!0),i.child}function T1(n){var i=n.stateNode;i.pendingContext?tD(n,i.pendingContext,i.pendingContext!==i.context):i.context&&tD(n,i.context,!1),x0(n,i.containerInfo)}function zP(n,i,l){if(T1(i),n===null)throw new Error("Should have a current fiber. This is a bug in React.");var d=i.pendingProps,f=i.memoizedState,y=f.element;RD(n,i),lg(i,d,null,l);var T=i.memoizedState;i.stateNode;var w=T.element;if(f.isDehydrated){var I={element:w,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},U=i.updateQueue;if(U.baseState=I,i.memoizedState=I,i.flags&va){var B=ku(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),i);return E1(n,i,w,l,B)}else if(w!==y){var re=ku(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),i);return E1(n,i,w,l,re)}else{Oz(i);var ne=yD(i,null,w,l);i.child=ne;for(var ce=ne;ce;)ce.flags=ce.flags&~Br|ba,ce=ce.sibling}}else{if(Kc(),w===y)return ka(n,i,l);cs(n,i,w,l)}return i.child}function E1(n,i,l,d,f){return Kc(),i0(f),i.flags|=va,cs(n,i,l,d),i.child}function PP(n,i,l){kD(i),n===null&&r0(i);var d=i.type,f=i.pendingProps,y=n!==null?n.memoizedProps:null,T=f.children,w=jy(d,f);return w?T=null:y!==null&&jy(d,y)&&(i.flags|=gm),_1(n,i),cs(n,i,T,l),i.child}function UP(n,i){return n===null&&r0(i),null}function OP(n,i,l,d){Pg(n,i);var f=i.pendingProps,y=l,T=y._payload,w=y._init,I=w(T);i.type=I;var U=i.tag=UU(I),B=Ro(I,f),re;switch(U){case v:return xx(i,I),i.type=I=md(I),re=bx(null,i,I,B,d),re;case x:return i.type=I=Qx(I),re=N1(null,i,I,B,d),re;case ee:return i.type=I=Yx(I),re=v1(null,i,I,B,d),re;case te:{if(i.type!==i.elementType){var ne=I.propTypes;ne&&_o(ne,B,"prop",Ot(I))}return re=b1(null,i,I,Ro(I.type,B),d),re}}var ce="";throw I!==null&&typeof I=="object"&&I.$$typeof===xt&&(ce=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+I+". "+("Lazy element type must resolve to a class or function."+ce))}function jP(n,i,l,d,f){Pg(n,i),i.tag=x;var y;return Ko(l)?(y=!0,qp(i)):y=!1,Yc(i,f),d1(i,l,d),ux(i,l,d,f),yx(null,i,l,!0,y,f)}function LP(n,i,l,d){Pg(n,i);var f=i.pendingProps,y;{var T=Hc(i,l,!1);y=qc(i,T)}Yc(i,d);var w,I;ym(i);{if(l.prototype&&typeof l.prototype.render=="function"){var U=Ot(l)||"Unknown";hx[U]||(c("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",U,U),hx[U]=!0)}i.mode&Nr&&To.recordLegacyContextWarning(i,null),li(!0),yh.current=i,w=rd(null,i,l,f,y,d),I=id(),li(!1)}if(kc(),i.flags|=Cc,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0){var B=Ot(l)||"Unknown";xh[B]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",B,B,B),xh[B]=!0)}if(typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0){{var re=Ot(l)||"Unknown";xh[re]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",re,re,re),xh[re]=!0)}i.tag=x,i.memoizedState=null,i.updateQueue=null;var ne=!1;return Ko(l)?(ne=!0,qp(i)):ne=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,b0(i),c1(i,w),ux(i,l,f,d),yx(null,i,l,!0,ne,d)}else{if(i.tag=v,i.mode&Nr){hi(!0);try{w=rd(null,i,l,f,y,d),I=id()}finally{hi(!1)}}return Ri()&&I&&Jy(i),cs(null,i,w,d),xx(i,l),i.child}}function xx(n,i){{if(i&&i.childContextTypes&&c("%s(...): childContextTypes cannot be defined on a function component.",i.displayName||i.name||"Component"),n.ref!==null){var l="",d=rs();d&&(l+=`

Check the render method of \``+d+"`.");var f=d||"",y=n._debugSource;y&&(f=y.fileName+":"+y.lineNumber),gx[f]||(gx[f]=!0,c("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",l))}if(i.defaultProps!==void 0){var T=Ot(i)||"Unknown";_h[T]||(c("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",T),_h[T]=!0)}if(typeof i.getDerivedStateFromProps=="function"){var w=Ot(i)||"Unknown";px[w]||(c("%s: Function components do not support getDerivedStateFromProps.",w),px[w]=!0)}if(typeof i.contextType=="object"&&i.contextType!==null){var I=Ot(i)||"Unknown";fx[I]||(c("%s: Function components do not support contextType.",I),fx[I]=!0)}}}var _x={dehydrated:null,treeContext:null,retryLane:fi};function Nx(n){return{baseLanes:n,cachePool:SP(),transitions:null}}function MP(n,i){var l=null;return{baseLanes:Mt(n.baseLanes,i),cachePool:l,transitions:n.transitions}}function FP(n,i,l,d){if(i!==null){var f=i.memoizedState;if(f===null)return!1}return T0(n,ch)}function BP(n,i){return fp(n.childLanes,i)}function D1(n,i,l){var d=i.pendingProps;YU(i)&&(i.flags|=xn);var f=Eo.current,y=!1,T=(i.flags&xn)!==pt;if(T||FP(f,n)?(y=!0,i.flags&=~xn):(n===null||n.memoizedState!==null)&&(f=oP(f,VD)),f=Xc(f),yl(i,f),n===null){r0(i);var w=i.memoizedState;if(w!==null){var I=w.dehydrated;if(I!==null)return WP(i,I)}var U=d.children,B=d.fallback;if(y){var re=$P(i,U,B,l),ne=i.child;return ne.memoizedState=Nx(l),i.memoizedState=_x,re}else return Tx(i,U)}else{var ce=n.memoizedState;if(ce!==null){var de=ce.dehydrated;if(de!==null)return KP(n,i,T,d,de,ce,l)}if(y){var ve=d.fallback,Fe=d.children,ut=qP(n,i,Fe,ve,l),rt=i.child,tn=n.child.memoizedState;return rt.memoizedState=tn===null?Nx(l):MP(tn,l),rt.childLanes=BP(n,l),i.memoizedState=_x,ut}else{var Kt=d.children,ae=HP(n,i,Kt,l);return i.memoizedState=null,ae}}}function Tx(n,i,l){var d=n.mode,f={mode:"visible",children:i},y=Ex(f,d);return y.return=n,n.child=y,y}function $P(n,i,l,d){var f=n.mode,y=n.child,T={mode:"hidden",children:i},w,I;return(f&Xt)===gt&&y!==null?(w=y,w.childLanes=we,w.pendingProps=T,n.mode&wn&&(w.actualDuration=0,w.actualStartTime=-1,w.selfBaseDuration=0,w.treeBaseDuration=0),I=Cl(l,f,d,null)):(w=Ex(T,f),I=Cl(l,f,d,null)),w.return=n,I.return=n,w.sibling=I,n.child=w,I}function Ex(n,i,l){return RR(n,i,we,null)}function R1(n,i){return Uu(n,i)}function HP(n,i,l,d){var f=n.child,y=f.sibling,T=R1(f,{mode:"visible",children:l});if((i.mode&Xt)===gt&&(T.lanes=d),T.return=i,T.sibling=null,y!==null){var w=i.deletions;w===null?(i.deletions=[y],i.flags|=uu):w.push(y)}return i.child=T,T}function qP(n,i,l,d,f){var y=i.mode,T=n.child,w=T.sibling,I={mode:"hidden",children:l},U;if((y&Xt)===gt&&i.child!==T){var B=i.child;U=B,U.childLanes=we,U.pendingProps=I,i.mode&wn&&(U.actualDuration=0,U.actualStartTime=-1,U.selfBaseDuration=T.selfBaseDuration,U.treeBaseDuration=T.treeBaseDuration),i.deletions=null}else U=R1(T,I),U.subtreeFlags=T.subtreeFlags&xa;var re;return w!==null?re=Uu(w,d):(re=Cl(d,y,f,null),re.flags|=Br),re.return=i,U.return=i,U.sibling=re,i.child=U,re}function zg(n,i,l,d){d!==null&&i0(d),Zc(i,n.child,null,l);var f=i.pendingProps,y=f.children,T=Tx(i,y);return T.flags|=Br,i.memoizedState=null,T}function GP(n,i,l,d,f){var y=i.mode,T={mode:"visible",children:l},w=Ex(T,y),I=Cl(d,y,f,null);return I.flags|=Br,w.return=i,I.return=i,w.sibling=I,i.child=w,(i.mode&Xt)!==gt&&Zc(i,n.child,null,f),I}function WP(n,i,l){return(n.mode&Xt)===gt?(c("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),n.lanes=Et):By(i)?n.lanes=pu:n.lanes=Os,null}function KP(n,i,l,d,f,y,T){if(l)if(i.flags&va){i.flags&=~va;var ae=cx(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return zg(n,i,T,ae)}else{if(i.memoizedState!==null)return i.child=n.child,i.flags|=xn,null;var be=d.children,le=d.fallback,ke=GP(n,i,be,le,T),Ke=i.child;return Ke.memoizedState=Nx(T),i.memoizedState=_x,ke}else{if(Pz(),(i.mode&Xt)===gt)return zg(n,i,T,null);if(By(f)){var w,I,U;{var B=J5(f);w=B.digest,I=B.message,U=B.stack}var re;I?re=new Error(I):re=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var ne=cx(re,w,U);return zg(n,i,T,ne)}var ce=js(T,n.childLanes);if(Co||ce){var de=qg();if(de!==null){var ve=iV(de,T);if(ve!==fi&&ve!==y.retryLane){y.retryLane=ve;var Fe=Qn;Es(n,ve),ni(de,n,ve,Fe)}}qx();var ut=cx(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return zg(n,i,T,ut)}else if(ZE(f)){i.flags|=xn,i.child=n.child;var rt=yU.bind(null,n);return X5(f,rt),null}else{jz(i,f,y.treeContext);var tn=d.children,Kt=Tx(i,tn);return Kt.flags|=ba,Kt}}}function C1(n,i,l){n.lanes=Mt(n.lanes,i);var d=n.alternate;d!==null&&(d.lanes=Mt(d.lanes,i)),f0(n.return,i,l)}function ZP(n,i,l){for(var d=i;d!==null;){if(d.tag===ye){var f=d.memoizedState;f!==null&&C1(d,l,n)}else if(d.tag===K)C1(d,l,n);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)return;for(;d.sibling===null;){if(d.return===null||d.return===n)return;d=d.return}d.sibling.return=d.return,d=d.sibling}}function QP(n){for(var i=n,l=null;i!==null;){var d=i.alternate;d!==null&&mg(d)===null&&(l=i),i=i.sibling}return l}function YP(n){if(n!==void 0&&n!=="forwards"&&n!=="backwards"&&n!=="together"&&!vx[n])if(vx[n]=!0,typeof n=="string")switch(n.toLowerCase()){case"together":case"forwards":case"backwards":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',n,n.toLowerCase());break}case"forward":case"backward":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',n,n.toLowerCase());break}default:c('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',n);break}else c('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',n)}function JP(n,i){n!==void 0&&!Ag[n]&&(n!=="collapsed"&&n!=="hidden"?(Ag[n]=!0,c('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',n)):i!=="forwards"&&i!=="backwards"&&(Ag[n]=!0,c('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',n)))}function w1(n,i){{var l=St(n),d=!l&&typeof vs(n)=="function";if(l||d){var f=l?"array":"iterable";return c("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",f,i,f),!1}}return!0}function XP(n,i){if((i==="forwards"||i==="backwards")&&n!==void 0&&n!==null&&n!==!1)if(St(n)){for(var l=0;l<n.length;l++)if(!w1(n[l],l))return}else{var d=vs(n);if(typeof d=="function"){var f=d.call(n);if(f)for(var y=f.next(),T=0;!y.done;y=f.next()){if(!w1(y.value,T))return;T++}}else c('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',i)}}function Dx(n,i,l,d,f){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=f)}function S1(n,i,l){var d=i.pendingProps,f=d.revealOrder,y=d.tail,T=d.children;YP(f),JP(y,f),XP(T,f),cs(n,i,T,l);var w=Eo.current,I=T0(w,ch);if(I)w=E0(w,ch),i.flags|=xn;else{var U=n!==null&&(n.flags&xn)!==pt;U&&ZP(i,i.child,l),w=Xc(w)}if(yl(i,w),(i.mode&Xt)===gt)i.memoizedState=null;else switch(f){case"forwards":{var B=QP(i.child),re;B===null?(re=i.child,i.child=null):(re=B.sibling,B.sibling=null),Dx(i,!1,re,B,y);break}case"backwards":{var ne=null,ce=i.child;for(i.child=null;ce!==null;){var de=ce.alternate;if(de!==null&&mg(de)===null){i.child=ce;break}var ve=ce.sibling;ce.sibling=ne,ne=ce,ce=ve}Dx(i,!0,ne,null,y);break}case"together":{Dx(i,!1,null,null,void 0);break}default:i.memoizedState=null}return i.child}function e6(n,i,l){x0(i,i.stateNode.containerInfo);var d=i.pendingProps;return n===null?i.child=Zc(i,null,d,l):cs(n,i,d,l),i.child}var k1=!1;function t6(n,i,l){var d=i.type,f=d._context,y=i.pendingProps,T=i.memoizedProps,w=y.value;{"value"in y||k1||(k1=!0,c("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var I=i.type.propTypes;I&&_o(I,y,"prop","Context.Provider")}if(ND(i,f,w),T!==null){var U=T.value;if(Fs(U,w)){if(T.children===y.children&&!$p())return ka(n,i,l)}else Yz(i,f,l)}var B=y.children;return cs(n,i,B,l),i.child}var I1=!1;function n6(n,i,l){var d=i.type;d._context===void 0?d!==d.Consumer&&(I1||(I1=!0,c("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):d=d._context;var f=i.pendingProps,y=f.children;typeof y!="function"&&c("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Yc(i,l);var T=$r(d);ym(i);var w;return yh.current=i,li(!0),w=y(T),li(!1),kc(),i.flags|=Cc,cs(n,i,w,l),i.child}function Nh(){Co=!0}function Pg(n,i){(i.mode&Xt)===gt&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=Br)}function ka(n,i,l){return n!==null&&(i.dependencies=n.dependencies),o1(),zh(i.lanes),js(l,i.childLanes)?(Zz(n,i),i.child):null}function r6(n,i,l){{var d=i.return;if(d===null)throw new Error("Cannot swap the root fiber.");if(n.alternate=null,i.alternate=null,l.index=i.index,l.sibling=i.sibling,l.return=i.return,l.ref=i.ref,i===d.child)d.child=l;else{var f=d.child;if(f===null)throw new Error("Expected parent to have a child.");for(;f.sibling!==i;)if(f=f.sibling,f===null)throw new Error("Expected to find the previous sibling.");f.sibling=l}var y=d.deletions;return y===null?(d.deletions=[n],d.flags|=uu):y.push(n),l.flags|=Br,l}}function Rx(n,i){var l=n.lanes;return!!js(l,i)}function i6(n,i,l){switch(i.tag){case E:T1(i),i.stateNode,Kc();break;case C:kD(i);break;case x:{var d=i.type;Ko(d)&&qp(i);break}case R:x0(i,i.stateNode.containerInfo);break;case J:{var f=i.memoizedProps.value,y=i.type._context;ND(i,y,f);break}case pe:{var T=js(l,i.childLanes);T&&(i.flags|=sn);{var w=i.stateNode;w.effectDuration=0,w.passiveEffectDuration=0}}break;case ye:{var I=i.memoizedState;if(I!==null){if(I.dehydrated!==null)return yl(i,Xc(Eo.current)),i.flags|=xn,null;var U=i.child,B=U.childLanes;if(js(l,B))return D1(n,i,l);yl(i,Xc(Eo.current));var re=ka(n,i,l);return re!==null?re.sibling:null}else yl(i,Xc(Eo.current));break}case K:{var ne=(n.flags&xn)!==pt,ce=js(l,i.childLanes);if(ne){if(ce)return S1(n,i,l);i.flags|=xn}var de=i.memoizedState;if(de!==null&&(de.rendering=null,de.tail=null,de.lastEffect=null),yl(i,Eo.current),ce)break;return null}case j:case Ie:return i.lanes=we,x1(n,i,l)}return ka(n,i,l)}function V1(n,i,l){if(i._debugNeedsRemount&&n!==null)return r6(n,i,n_(i.type,i.key,i.pendingProps,i._debugOwner||null,i.mode,i.lanes));if(n!==null){var d=n.memoizedProps,f=i.pendingProps;if(d!==f||$p()||i.type!==n.type)Co=!0;else{var y=Rx(n,l);if(!y&&(i.flags&xn)===pt)return Co=!1,i6(n,i,l);(n.flags&Vb)!==pt?Co=!0:Co=!1}}else if(Co=!1,Ri()&&Sz(i)){var T=i.index,w=kz();oD(i,w,T)}switch(i.lanes=we,i.tag){case N:return LP(n,i,i.type,l);case $:{var I=i.elementType;return OP(n,i,I,l)}case v:{var U=i.type,B=i.pendingProps,re=i.elementType===U?B:Ro(U,B);return bx(n,i,U,re,l)}case x:{var ne=i.type,ce=i.pendingProps,de=i.elementType===ne?ce:Ro(ne,ce);return N1(n,i,ne,de,l)}case E:return zP(n,i,l);case C:return PP(n,i,l);case P:return UP(n,i);case ye:return D1(n,i,l);case R:return e6(n,i,l);case ee:{var ve=i.type,Fe=i.pendingProps,ut=i.elementType===ve?Fe:Ro(ve,Fe);return v1(n,i,ve,ut,l)}case A:return IP(n,i,l);case M:return VP(n,i,l);case pe:return AP(n,i,l);case J:return t6(n,i,l);case Y:return n6(n,i,l);case te:{var rt=i.type,tn=i.pendingProps,Kt=Ro(rt,tn);if(i.type!==i.elementType){var ae=rt.propTypes;ae&&_o(ae,Kt,"prop",Ot(rt))}return Kt=Ro(rt.type,Kt),b1(n,i,rt,Kt,l)}case F:return y1(n,i,i.type,i.pendingProps,l);case q:{var be=i.type,le=i.pendingProps,ke=i.elementType===be?le:Ro(be,le);return jP(n,i,be,ke,l)}case K:return S1(n,i,l);case X:break;case j:return x1(n,i,l)}throw new Error("Unknown unit of work tag ("+i.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function sd(n){n.flags|=sn}function A1(n){n.flags|=sl,n.flags|=Ab}var z1,Cx,P1,U1;z1=function(n,i,l,d){for(var f=i.child;f!==null;){if(f.tag===C||f.tag===P)R5(n,f.stateNode);else if(f.tag!==R){if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===i)return;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Cx=function(n,i){},P1=function(n,i,l,d,f){var y=n.memoizedProps;if(y!==d){var T=i.stateNode,w=_0(),I=w5(T,l,y,d,f,w);i.updateQueue=I,I&&sd(i)}},U1=function(n,i,l,d){l!==d&&sd(i)};function Th(n,i){if(!Ri())switch(n.tailMode){case"hidden":{for(var l=n.tail,d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n.tail=null:d.sibling=null;break}case"collapsed":{for(var f=n.tail,y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?!i&&n.tail!==null?n.tail.sibling=null:n.tail=null:y.sibling=null;break}}}function wi(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=we,d=pt;if(i){if((n.mode&wn)!==gt){for(var I=n.selfBaseDuration,U=n.child;U!==null;)l=Mt(l,Mt(U.lanes,U.childLanes)),d|=U.subtreeFlags&xa,d|=U.flags&xa,I+=U.treeBaseDuration,U=U.sibling;n.treeBaseDuration=I}else for(var B=n.child;B!==null;)l=Mt(l,Mt(B.lanes,B.childLanes)),d|=B.subtreeFlags&xa,d|=B.flags&xa,B.return=n,B=B.sibling;n.subtreeFlags|=d}else{if((n.mode&wn)!==gt){for(var f=n.actualDuration,y=n.selfBaseDuration,T=n.child;T!==null;)l=Mt(l,Mt(T.lanes,T.childLanes)),d|=T.subtreeFlags,d|=T.flags,f+=T.actualDuration,y+=T.treeBaseDuration,T=T.sibling;n.actualDuration=f,n.treeBaseDuration=y}else for(var w=n.child;w!==null;)l=Mt(l,Mt(w.lanes,w.childLanes)),d|=w.subtreeFlags,d|=w.flags,w.return=n,w=w.sibling;n.subtreeFlags|=d}return n.childLanes=l,i}function s6(n,i,l){if($z()&&(i.mode&Xt)!==gt&&(i.flags&xn)===pt)return hD(i),Kc(),i.flags|=va|vm|us,!1;var d=Qp(i);if(l!==null&&l.dehydrated!==null)if(n===null){if(!d)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(Fz(i),wi(i),(i.mode&wn)!==gt){var f=l!==null;if(f){var y=i.child;y!==null&&(i.treeBaseDuration-=y.treeBaseDuration)}}return!1}else{if(Kc(),(i.flags&xn)===pt&&(i.memoizedState=null),i.flags|=sn,wi(i),(i.mode&wn)!==gt){var T=l!==null;if(T){var w=i.child;w!==null&&(i.treeBaseDuration-=w.treeBaseDuration)}}return!1}else return fD(),!0}function O1(n,i,l){var d=i.pendingProps;switch(Xy(i),i.tag){case N:case $:case F:case v:case ee:case A:case M:case pe:case Y:case te:return wi(i),null;case x:{var f=i.type;return Ko(f)&&Hp(i),wi(i),null}case E:{var y=i.stateNode;if(Jc(i),Zy(i),R0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),n===null||n.child===null){var T=Qp(i);if(T)sd(i);else if(n!==null){var w=n.memoizedState;(!w.isDehydrated||(i.flags&va)!==pt)&&(i.flags|=cu,fD())}}return Cx(n,i),wi(i),null}case C:{N0(i);var I=SD(),U=i.type;if(n!==null&&i.stateNode!=null)P1(n,i,U,d,I),n.ref!==i.ref&&A1(i);else{if(!d){if(i.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return wi(i),null}var B=_0(),re=Qp(i);if(re)Lz(i,I,B)&&sd(i);else{var ne=D5(U,d,I,B,i);z1(ne,i,!1,!1),i.stateNode=ne,C5(ne,U,d,I)&&sd(i)}i.ref!==null&&A1(i)}return wi(i),null}case P:{var ce=d;if(n&&i.stateNode!=null){var de=n.memoizedProps;U1(n,i,de,ce)}else{if(typeof ce!="string"&&i.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var ve=SD(),Fe=_0(),ut=Qp(i);ut?Mz(i)&&sd(i):i.stateNode=S5(ce,ve,Fe,i)}return wi(i),null}case ye:{ed(i);var rt=i.memoizedState;if(n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){var tn=s6(n,i,rt);if(!tn)return i.flags&us?i:null}if((i.flags&xn)!==pt)return i.lanes=l,(i.mode&wn)!==gt&&Y0(i),i;var Kt=rt!==null,ae=n!==null&&n.memoizedState!==null;if(Kt!==ae&&Kt){var be=i.child;if(be.flags|=du,(i.mode&Xt)!==gt){var le=n===null&&(i.memoizedProps.unstable_avoidThisFallback!==!0||!Se);le||T0(Eo.current,VD)?oU():qx()}}var ke=i.updateQueue;if(ke!==null&&(i.flags|=sn),wi(i),(i.mode&wn)!==gt&&Kt){var Ke=i.child;Ke!==null&&(i.treeBaseDuration-=Ke.treeBaseDuration)}return null}case R:return Jc(i),Cx(n,i),n===null&&Nz(i.stateNode.containerInfo),wi(i),null;case J:var $e=i.type._context;return h0($e,i),wi(i),null;case q:{var yt=i.type;return Ko(yt)&&Hp(i),wi(i),null}case K:{ed(i);var Ct=i.memoizedState;if(Ct===null)return wi(i),null;var kn=(i.flags&xn)!==pt,fn=Ct.rendering;if(fn===null)if(kn)Th(Ct,!1);else{var Vr=lU()&&(n===null||(n.flags&xn)===pt);if(!Vr)for(var pn=i.child;pn!==null;){var Tr=mg(pn);if(Tr!==null){kn=!0,i.flags|=xn,Th(Ct,!1);var Hi=Tr.updateQueue;return Hi!==null&&(i.updateQueue=Hi,i.flags|=sn),i.subtreeFlags=pt,Qz(i,l),yl(i,E0(Eo.current,ch)),i.child}pn=pn.sibling}Ct.tail!==null&&mi()>iR()&&(i.flags|=xn,kn=!0,Th(Ct,!1),i.lanes=UT)}else{if(!kn){var Ai=mg(fn);if(Ai!==null){i.flags|=xn,kn=!0;var Hs=Ai.updateQueue;if(Hs!==null&&(i.updateQueue=Hs,i.flags|=sn),Th(Ct,!0),Ct.tail===null&&Ct.tailMode==="hidden"&&!fn.alternate&&!Ri())return wi(i),null}else mi()*2-Ct.renderingStartTime>iR()&&l!==Os&&(i.flags|=xn,kn=!0,Th(Ct,!1),i.lanes=UT)}if(Ct.isBackwards)fn.sibling=i.child,i.child=fn;else{var hs=Ct.last;hs!==null?hs.sibling=fn:i.child=fn,Ct.last=fn}}if(Ct.tail!==null){var fs=Ct.tail;Ct.rendering=fs,Ct.tail=fs.sibling,Ct.renderingStartTime=mi(),fs.sibling=null;var qi=Eo.current;return kn?qi=E0(qi,ch):qi=Xc(qi),yl(i,qi),fs}return wi(i),null}case X:break;case j:case Ie:{Hx(i);var Pa=i.memoizedState,hd=Pa!==null;if(n!==null){var Lh=n.memoizedState,na=Lh!==null;na!==hd&&!Oe&&(i.flags|=du)}return!hd||(i.mode&Xt)===gt?wi(i):js(ta,Os)&&(wi(i),i.subtreeFlags&(Br|sn)&&(i.flags|=du)),null}case ct:return null;case nt:return null}throw new Error("Unknown unit of work tag ("+i.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function o6(n,i,l){switch(Xy(i),i.tag){case x:{var d=i.type;Ko(d)&&Hp(i);var f=i.flags;return f&us?(i.flags=f&~us|xn,(i.mode&wn)!==gt&&Y0(i),i):null}case E:{i.stateNode,Jc(i),Zy(i),R0();var y=i.flags;return(y&us)!==pt&&(y&xn)===pt?(i.flags=y&~us|xn,i):null}case C:return N0(i),null;case ye:{ed(i);var T=i.memoizedState;if(T!==null&&T.dehydrated!==null){if(i.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Kc()}var w=i.flags;return w&us?(i.flags=w&~us|xn,(i.mode&wn)!==gt&&Y0(i),i):null}case K:return ed(i),null;case R:return Jc(i),null;case J:var I=i.type._context;return h0(I,i),null;case j:case Ie:return Hx(i),null;case ct:return null;default:return null}}function j1(n,i,l){switch(Xy(i),i.tag){case x:{var d=i.type.childContextTypes;d!=null&&Hp(i);break}case E:{i.stateNode,Jc(i),Zy(i),R0();break}case C:{N0(i);break}case R:Jc(i);break;case ye:ed(i);break;case K:ed(i);break;case J:var f=i.type._context;h0(f,i);break;case j:case Ie:Hx(i);break}}var L1=null;L1=new Set;var Ug=!1,Si=!1,a6=typeof WeakSet=="function"?WeakSet:Set,Ye=null,od=null,ad=null;function l6(n){Dc(null,function(){throw n}),fm()}var u6=function(n,i){if(i.props=n.memoizedProps,i.state=n.memoizedState,n.mode&wn)try{Xo(),i.componentWillUnmount()}finally{Jo(n)}else i.componentWillUnmount()};function M1(n,i){try{Nl(Qr,n)}catch(l){qn(n,i,l)}}function wx(n,i,l){try{u6(n,l)}catch(d){qn(n,i,d)}}function c6(n,i,l){try{l.componentDidMount()}catch(d){qn(n,i,d)}}function F1(n,i){try{$1(n)}catch(l){qn(n,i,l)}}function ld(n,i){var l=n.ref;if(l!==null)if(typeof l=="function"){var d;try{if(bt&&Rn&&n.mode&wn)try{Xo(),d=l(null)}finally{Jo(n)}else d=l(null)}catch(f){qn(n,i,f)}typeof d=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Nt(n))}else l.current=null}function Og(n,i,l){try{l()}catch(d){qn(n,i,d)}}var B1=!1;function d6(n,i){T5(n.containerInfo),Ye=i,m6();var l=B1;return B1=!1,l}function m6(){for(;Ye!==null;){var n=Ye,i=n.child;(n.subtreeFlags&Pb)!==pt&&i!==null?(i.return=n,Ye=i):h6()}}function h6(){for(;Ye!==null;){var n=Ye;Ht(n);try{f6(n)}catch(l){qn(n,n.return,l)}et();var i=n.sibling;if(i!==null){i.return=n.return,Ye=i;return}Ye=n.return}}function f6(n){var i=n.alternate,l=n.flags;if((l&cu)!==pt){switch(Ht(n),n.tag){case v:case ee:case F:break;case x:{if(i!==null){var d=i.memoizedProps,f=i.memoizedState,y=n.stateNode;n.type===n.elementType&&!Iu&&(y.props!==n.memoizedProps&&c("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Nt(n)||"instance"),y.state!==n.memoizedState&&c("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Nt(n)||"instance"));var T=y.getSnapshotBeforeUpdate(n.elementType===n.type?d:Ro(n.type,d),f);{var w=L1;T===void 0&&!w.has(n.type)&&(w.add(n.type),c("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Nt(n)))}y.__reactInternalSnapshotBeforeUpdate=T}break}case E:{{var I=n.stateNode;K5(I.containerInfo)}break}case C:case P:case R:case q:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}et()}}function wo(n,i,l){var d=i.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var y=f.next,T=y;do{if((T.tag&n)===n){var w=T.destroy;T.destroy=void 0,w!==void 0&&((n&Ci)!==Ds?SI(i):(n&Qr)!==Ds&&IT(i),(n&Zo)!==Ds&&Uh(!0),Og(i,l,w),(n&Zo)!==Ds&&Uh(!1),(n&Ci)!==Ds?kI():(n&Qr)!==Ds&&VT())}T=T.next}while(T!==y)}}function Nl(n,i){var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next,y=f;do{if((y.tag&n)===n){(n&Ci)!==Ds?CI(i):(n&Qr)!==Ds&&II(i);var T=y.create;(n&Zo)!==Ds&&Uh(!0),y.destroy=T(),(n&Zo)!==Ds&&Uh(!1),(n&Ci)!==Ds?wI():(n&Qr)!==Ds&&VI();{var w=y.destroy;if(w!==void 0&&typeof w!="function"){var I=void 0;(y.tag&Qr)!==pt?I="useLayoutEffect":(y.tag&Zo)!==pt?I="useInsertionEffect":I="useEffect";var U=void 0;w===null?U=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof w.then=="function"?U=`

It looks like you wrote `+I+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+I+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:U=" You returned: "+w,c("%s must not return anything besides a function, which is used for clean-up.%s",I,U)}}}y=y.next}while(y!==f)}}function p6(n,i){if((i.flags&sn)!==pt)switch(i.tag){case pe:{var l=i.stateNode.passiveEffectDuration,d=i.memoizedProps,f=d.id,y=d.onPostCommit,T=i1(),w=i.alternate===null?"mount":"update";r1()&&(w="nested-update"),typeof y=="function"&&y(f,w,l,T);var I=i.return;e:for(;I!==null;){switch(I.tag){case E:var U=I.stateNode;U.passiveEffectDuration+=l;break e;case pe:var B=I.stateNode;B.passiveEffectDuration+=l;break e}I=I.return}break}}}function g6(n,i,l,d){if((l.flags&bm)!==pt)switch(l.tag){case v:case ee:case F:{if(!Si)if(l.mode&wn)try{Xo(),Nl(Qr|Zr,l)}finally{Jo(l)}else Nl(Qr|Zr,l);break}case x:{var f=l.stateNode;if(l.flags&sn&&!Si)if(i===null)if(l.type===l.elementType&&!Iu&&(f.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Nt(l)||"instance"),f.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Nt(l)||"instance")),l.mode&wn)try{Xo(),f.componentDidMount()}finally{Jo(l)}else f.componentDidMount();else{var y=l.elementType===l.type?i.memoizedProps:Ro(l.type,i.memoizedProps),T=i.memoizedState;if(l.type===l.elementType&&!Iu&&(f.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Nt(l)||"instance"),f.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Nt(l)||"instance")),l.mode&wn)try{Xo(),f.componentDidUpdate(y,T,f.__reactInternalSnapshotBeforeUpdate)}finally{Jo(l)}else f.componentDidUpdate(y,T,f.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&(l.type===l.elementType&&!Iu&&(f.props!==l.memoizedProps&&c("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Nt(l)||"instance"),f.state!==l.memoizedState&&c("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Nt(l)||"instance")),wD(l,w,f));break}case E:{var I=l.updateQueue;if(I!==null){var U=null;if(l.child!==null)switch(l.child.tag){case C:U=l.child.stateNode;break;case x:U=l.child.stateNode;break}wD(l,I,U)}break}case C:{var B=l.stateNode;if(i===null&&l.flags&sn){var re=l.type,ne=l.memoizedProps;z5(B,re,ne)}break}case P:break;case R:break;case pe:{{var ce=l.memoizedProps,de=ce.onCommit,ve=ce.onRender,Fe=l.stateNode.effectDuration,ut=i1(),rt=i===null?"mount":"update";r1()&&(rt="nested-update"),typeof ve=="function"&&ve(l.memoizedProps.id,rt,l.actualDuration,l.treeBaseDuration,l.actualStartTime,ut);{typeof de=="function"&&de(l.memoizedProps.id,rt,Fe,ut),hU(l);var tn=l.return;e:for(;tn!==null;){switch(tn.tag){case E:var Kt=tn.stateNode;Kt.effectDuration+=Fe;break e;case pe:var ae=tn.stateNode;ae.effectDuration+=Fe;break e}tn=tn.return}}}break}case ye:{E6(n,l);break}case K:case q:case X:case j:case Ie:case nt:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Si||l.flags&sl&&$1(l)}function v6(n){switch(n.tag){case v:case ee:case F:{if(n.mode&wn)try{Xo(),M1(n,n.return)}finally{Jo(n)}else M1(n,n.return);break}case x:{var i=n.stateNode;typeof i.componentDidMount=="function"&&c6(n,n.return,i),F1(n,n.return);break}case C:{F1(n,n.return);break}}}function b6(n,i){for(var l=null,d=n;;){if(d.tag===C){if(l===null){l=d;try{var f=d.stateNode;i?H5(f):G5(d.stateNode,d.memoizedProps)}catch(T){qn(n,n.return,T)}}}else if(d.tag===P){if(l===null)try{var y=d.stateNode;i?q5(y):W5(y,d.memoizedProps)}catch(T){qn(n,n.return,T)}}else if(!((d.tag===j||d.tag===Ie)&&d.memoizedState!==null&&d!==n)){if(d.child!==null){d.child.return=d,d=d.child;continue}}if(d===n)return;for(;d.sibling===null;){if(d.return===null||d.return===n)return;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}function $1(n){var i=n.ref;if(i!==null){var l=n.stateNode,d;switch(n.tag){case C:d=l;break;default:d=l}if(typeof i=="function"){var f;if(n.mode&wn)try{Xo(),f=i(d)}finally{Jo(n)}else f=i(d);typeof f=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Nt(n))}else i.hasOwnProperty("current")||c("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Nt(n)),i.current=d}}function y6(n){var i=n.alternate;i!==null&&(i.return=null),n.return=null}function H1(n){var i=n.alternate;i!==null&&(n.alternate=null,H1(i));{if(n.child=null,n.deletions=null,n.sibling=null,n.tag===C){var l=n.stateNode;l!==null&&Dz(l)}n.stateNode=null,n._debugOwner=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}}function x6(n){for(var i=n.return;i!==null;){if(q1(i))return i;i=i.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function q1(n){return n.tag===C||n.tag===E||n.tag===R}function G1(n){var i=n;e:for(;;){for(;i.sibling===null;){if(i.return===null||q1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==C&&i.tag!==P&&i.tag!==G;){if(i.flags&Br||i.child===null||i.tag===R)continue e;i.child.return=i,i=i.child}if(!(i.flags&Br))return i.stateNode}}function _6(n){var i=x6(n);switch(i.tag){case C:{var l=i.stateNode;i.flags&gm&&(KE(l),i.flags&=~gm);var d=G1(n);kx(n,d,l);break}case E:case R:{var f=i.stateNode.containerInfo,y=G1(n);Sx(n,y,f);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function Sx(n,i,l){var d=n.tag,f=d===C||d===P;if(f){var y=n.stateNode;i?M5(l,y,i):j5(l,y)}else if(d!==R){var T=n.child;if(T!==null){Sx(T,i,l);for(var w=T.sibling;w!==null;)Sx(w,i,l),w=w.sibling}}}function kx(n,i,l){var d=n.tag,f=d===C||d===P;if(f){var y=n.stateNode;i?L5(l,y,i):O5(l,y)}else if(d!==R){var T=n.child;if(T!==null){kx(T,i,l);for(var w=T.sibling;w!==null;)kx(w,i,l),w=w.sibling}}}var ki=null,So=!1;function N6(n,i,l){{var d=i;e:for(;d!==null;){switch(d.tag){case C:{ki=d.stateNode,So=!1;break e}case E:{ki=d.stateNode.containerInfo,So=!0;break e}case R:{ki=d.stateNode.containerInfo,So=!0;break e}}d=d.return}if(ki===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");W1(n,i,l),ki=null,So=!1}y6(l)}function Tl(n,i,l){for(var d=l.child;d!==null;)W1(n,i,d),d=d.sibling}function W1(n,i,l){switch(TI(l),l.tag){case C:Si||ld(l,i);case P:{{var d=ki,f=So;ki=null,Tl(n,i,l),ki=d,So=f,ki!==null&&(So?B5(ki,l.stateNode):F5(ki,l.stateNode))}return}case G:{ki!==null&&(So?$5(ki,l.stateNode):Fy(ki,l.stateNode));return}case R:{{var y=ki,T=So;ki=l.stateNode.containerInfo,So=!0,Tl(n,i,l),ki=y,So=T}return}case v:case ee:case te:case F:{if(!Si){var w=l.updateQueue;if(w!==null){var I=w.lastEffect;if(I!==null){var U=I.next,B=U;do{var re=B,ne=re.destroy,ce=re.tag;ne!==void 0&&((ce&Zo)!==Ds?Og(l,i,ne):(ce&Qr)!==Ds&&(IT(l),l.mode&wn?(Xo(),Og(l,i,ne),Jo(l)):Og(l,i,ne),VT())),B=B.next}while(B!==U)}}}Tl(n,i,l);return}case x:{if(!Si){ld(l,i);var de=l.stateNode;typeof de.componentWillUnmount=="function"&&wx(l,i,de)}Tl(n,i,l);return}case X:{Tl(n,i,l);return}case j:{if(l.mode&Xt){var ve=Si;Si=ve||l.memoizedState!==null,Tl(n,i,l),Si=ve}else Tl(n,i,l);break}default:{Tl(n,i,l);return}}}function T6(n){n.memoizedState}function E6(n,i){var l=i.memoizedState;if(l===null){var d=i.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var y=f.dehydrated;y!==null&&lz(y)}}}}function K1(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new a6),i.forEach(function(d){var f=xU.bind(null,n,d);if(!l.has(d)){if(l.add(d),yo)if(od!==null&&ad!==null)Ph(ad,od);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");d.then(f,f)}})}}function D6(n,i,l){od=l,ad=n,Ht(i),Z1(i,n),Ht(i),od=null,ad=null}function ko(n,i,l){var d=i.deletions;if(d!==null)for(var f=0;f<d.length;f++){var y=d[f];try{N6(n,i,y)}catch(I){qn(y,i,I)}}var T=bn();if(i.subtreeFlags&Ub)for(var w=i.child;w!==null;)Ht(w),Z1(w,n),w=w.sibling;Ht(T)}function Z1(n,i,l){var d=n.alternate,f=n.flags;switch(n.tag){case v:case ee:case te:case F:{if(ko(i,n),ea(n),f&sn){try{wo(Zo|Zr,n,n.return),Nl(Zo|Zr,n)}catch(yt){qn(n,n.return,yt)}if(n.mode&wn){try{Xo(),wo(Qr|Zr,n,n.return)}catch(yt){qn(n,n.return,yt)}Jo(n)}else try{wo(Qr|Zr,n,n.return)}catch(yt){qn(n,n.return,yt)}}return}case x:{ko(i,n),ea(n),f&sl&&d!==null&&ld(d,d.return);return}case C:{ko(i,n),ea(n),f&sl&&d!==null&&ld(d,d.return);{if(n.flags&gm){var y=n.stateNode;try{KE(y)}catch(yt){qn(n,n.return,yt)}}if(f&sn){var T=n.stateNode;if(T!=null){var w=n.memoizedProps,I=d!==null?d.memoizedProps:w,U=n.type,B=n.updateQueue;if(n.updateQueue=null,B!==null)try{P5(T,B,U,I,w,n)}catch(yt){qn(n,n.return,yt)}}}}return}case P:{if(ko(i,n),ea(n),f&sn){if(n.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var re=n.stateNode,ne=n.memoizedProps,ce=d!==null?d.memoizedProps:ne;try{U5(re,ce,ne)}catch(yt){qn(n,n.return,yt)}}return}case E:{if(ko(i,n),ea(n),f&sn&&d!==null){var de=d.memoizedState;if(de.isDehydrated)try{az(i.containerInfo)}catch(yt){qn(n,n.return,yt)}}return}case R:{ko(i,n),ea(n);return}case ye:{ko(i,n),ea(n);var ve=n.child;if(ve.flags&du){var Fe=ve.stateNode,ut=ve.memoizedState,rt=ut!==null;if(Fe.isHidden=rt,rt){var tn=ve.alternate!==null&&ve.alternate.memoizedState!==null;tn||sU()}}if(f&sn){try{T6(n)}catch(yt){qn(n,n.return,yt)}K1(n)}return}case j:{var Kt=d!==null&&d.memoizedState!==null;if(n.mode&Xt){var ae=Si;Si=ae||Kt,ko(i,n),Si=ae}else ko(i,n);if(ea(n),f&du){var be=n.stateNode,le=n.memoizedState,ke=le!==null,Ke=n;if(be.isHidden=ke,ke&&!Kt&&(Ke.mode&Xt)!==gt){Ye=Ke;for(var $e=Ke.child;$e!==null;)Ye=$e,C6($e),$e=$e.sibling}b6(Ke,ke)}return}case K:{ko(i,n),ea(n),f&sn&&K1(n);return}case X:return;default:{ko(i,n),ea(n);return}}}function ea(n){var i=n.flags;if(i&Br){try{_6(n)}catch(l){qn(n,n.return,l)}n.flags&=~Br}i&ba&&(n.flags&=~ba)}function R6(n,i,l){od=l,ad=i,Ye=n,Q1(n,i,l),od=null,ad=null}function Q1(n,i,l){for(var d=(n.mode&Xt)!==gt;Ye!==null;){var f=Ye,y=f.child;if(f.tag===j&&d){var T=f.memoizedState!==null,w=T||Ug;if(w){Ix(n,i,l);continue}else{var I=f.alternate,U=I!==null&&I.memoizedState!==null,B=U||Si,re=Ug,ne=Si;Ug=w,Si=B,Si&&!ne&&(Ye=f,w6(f));for(var ce=y;ce!==null;)Ye=ce,Q1(ce,i,l),ce=ce.sibling;Ye=f,Ug=re,Si=ne,Ix(n,i,l);continue}}(f.subtreeFlags&bm)!==pt&&y!==null?(y.return=f,Ye=y):Ix(n,i,l)}}function Ix(n,i,l){for(;Ye!==null;){var d=Ye;if((d.flags&bm)!==pt){var f=d.alternate;Ht(d);try{g6(i,f,d,l)}catch(T){qn(d,d.return,T)}et()}if(d===n){Ye=null;return}var y=d.sibling;if(y!==null){y.return=d.return,Ye=y;return}Ye=d.return}}function C6(n){for(;Ye!==null;){var i=Ye,l=i.child;switch(i.tag){case v:case ee:case te:case F:{if(i.mode&wn)try{Xo(),wo(Qr,i,i.return)}finally{Jo(i)}else wo(Qr,i,i.return);break}case x:{ld(i,i.return);var d=i.stateNode;typeof d.componentWillUnmount=="function"&&wx(i,i.return,d);break}case C:{ld(i,i.return);break}case j:{var f=i.memoizedState!==null;if(f){Y1(n);continue}break}}l!==null?(l.return=i,Ye=l):Y1(n)}}function Y1(n){for(;Ye!==null;){var i=Ye;if(i===n){Ye=null;return}var l=i.sibling;if(l!==null){l.return=i.return,Ye=l;return}Ye=i.return}}function w6(n){for(;Ye!==null;){var i=Ye,l=i.child;if(i.tag===j){var d=i.memoizedState!==null;if(d){J1(n);continue}}l!==null?(l.return=i,Ye=l):J1(n)}}function J1(n){for(;Ye!==null;){var i=Ye;Ht(i);try{v6(i)}catch(d){qn(i,i.return,d)}if(et(),i===n){Ye=null;return}var l=i.sibling;if(l!==null){l.return=i.return,Ye=l;return}Ye=i.return}}function S6(n,i,l,d){Ye=i,k6(i,n,l,d)}function k6(n,i,l,d){for(;Ye!==null;){var f=Ye,y=f.child;(f.subtreeFlags&wc)!==pt&&y!==null?(y.return=f,Ye=y):I6(n,i,l,d)}}function I6(n,i,l,d){for(;Ye!==null;){var f=Ye;if((f.flags&bo)!==pt){Ht(f);try{V6(i,f,l,d)}catch(T){qn(f,f.return,T)}et()}if(f===n){Ye=null;return}var y=f.sibling;if(y!==null){y.return=f.return,Ye=y;return}Ye=f.return}}function V6(n,i,l,d){switch(i.tag){case v:case ee:case F:{if(i.mode&wn){Q0();try{Nl(Ci|Zr,i)}finally{Z0(i)}}else Nl(Ci|Zr,i);break}}}function A6(n){Ye=n,z6()}function z6(){for(;Ye!==null;){var n=Ye,i=n.child;if((Ye.flags&uu)!==pt){var l=n.deletions;if(l!==null){for(var d=0;d<l.length;d++){var f=l[d];Ye=f,O6(f,n)}{var y=n.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}}Ye=n}}(n.subtreeFlags&wc)!==pt&&i!==null?(i.return=n,Ye=i):P6()}}function P6(){for(;Ye!==null;){var n=Ye;(n.flags&bo)!==pt&&(Ht(n),U6(n),et());var i=n.sibling;if(i!==null){i.return=n.return,Ye=i;return}Ye=n.return}}function U6(n){switch(n.tag){case v:case ee:case F:{n.mode&wn?(Q0(),wo(Ci|Zr,n,n.return),Z0(n)):wo(Ci|Zr,n,n.return);break}}}function O6(n,i){for(;Ye!==null;){var l=Ye;Ht(l),L6(l,i),et();var d=l.child;d!==null?(d.return=l,Ye=d):j6(n)}}function j6(n){for(;Ye!==null;){var i=Ye,l=i.sibling,d=i.return;if(H1(i),i===n){Ye=null;return}if(l!==null){l.return=d,Ye=l;return}Ye=d}}function L6(n,i){switch(n.tag){case v:case ee:case F:{n.mode&wn?(Q0(),wo(Ci,n,i),Z0(n)):wo(Ci,n,i);break}}}function M6(n){switch(n.tag){case v:case ee:case F:{try{Nl(Qr|Zr,n)}catch(l){qn(n,n.return,l)}break}case x:{var i=n.stateNode;try{i.componentDidMount()}catch(l){qn(n,n.return,l)}break}}}function F6(n){switch(n.tag){case v:case ee:case F:{try{Nl(Ci|Zr,n)}catch(i){qn(n,n.return,i)}break}}}function B6(n){switch(n.tag){case v:case ee:case F:{try{wo(Qr|Zr,n,n.return)}catch(l){qn(n,n.return,l)}break}case x:{var i=n.stateNode;typeof i.componentWillUnmount=="function"&&wx(n,n.return,i);break}}}function $6(n){switch(n.tag){case v:case ee:case F:try{wo(Ci|Zr,n,n.return)}catch(i){qn(n,n.return,i)}}}if(typeof Symbol=="function"&&Symbol.for){var Eh=Symbol.for;Eh("selector.component"),Eh("selector.has_pseudo_class"),Eh("selector.role"),Eh("selector.test_id"),Eh("selector.text")}var H6=[];function q6(){H6.forEach(function(n){return n()})}var G6=t.ReactCurrentActQueue;function W6(n){{var i=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,l=typeof jest<"u";return l&&i!==!1}}function X1(){{var n=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!n&&G6.current!==null&&c("The current testing environment is not configured to support act(...)"),n}}var K6=Math.ceil,Vx=t.ReactCurrentDispatcher,Ax=t.ReactCurrentOwner,Ii=t.ReactCurrentBatchConfig,Io=t.ReactCurrentActQueue,Xr=0,eR=1,Vi=2,oo=4,Ia=0,Dh=1,Vu=2,jg=3,Rh=4,tR=5,zx=6,en=Xr,ds=null,gr=null,ei=we,ta=we,Px=hl(we),ti=Ia,Ch=null,Lg=we,wh=we,Mg=we,Sh=null,Rs=null,Ux=0,nR=500,rR=1/0,Z6=500,Va=null;function kh(){rR=mi()+Z6}function iR(){return rR}var Fg=!1,Ox=null,ud=null,Au=!1,El=null,Ih=we,jx=[],Lx=null,Q6=50,Vh=0,Mx=null,Fx=!1,Bg=!1,Y6=50,cd=0,$g=null,Ah=Qn,Hg=we,sR=!1;function qg(){return ds}function ms(){return(en&(Vi|oo))!==Xr?mi():(Ah!==Qn||(Ah=mi()),Ah)}function Dl(n){var i=n.mode;if((i&Xt)===gt)return Et;if((en&Vi)!==Xr&&ei!==we)return Dm(ei);var l=Gz()!==qz;if(l){if(Ii.transition!==null){var d=Ii.transition;d._updatedFibers||(d._updatedFibers=new Set),d._updatedFibers.add(n)}return Hg===fi&&(Hg=MT()),Hg}var f=xo();if(f!==fi)return f;var y=k5();return y}function J6(n){var i=n.mode;return(i&Xt)===gt?Et:eV()}function ni(n,i,l,d){NU(),sR&&c("useInsertionEffect must not schedule updates."),Fx&&(Bg=!0),Rm(n,l,d),(en&Vi)!==we&&n===ds?DU(i):(yo&&$T(n,i,l),RU(i),n===ds&&((en&Vi)===Xr&&(wh=Mt(wh,l)),ti===Rh&&Rl(n,ei)),Cs(n,d),l===Et&&en===Xr&&(i.mode&Xt)===gt&&!Io.isBatchingLegacy&&(kh(),sD()))}function X6(n,i,l){var d=n.current;d.lanes=i,Rm(n,i,l),Cs(n,l)}function eU(n){return(en&Vi)!==Xr}function Cs(n,i){var l=n.callbackNode;KI(n,i);var d=mp(n,n===ds?ei:we);if(d===we){l!==null&&_R(l),n.callbackNode=null,n.callbackPriority=fi;return}var f=vu(d),y=n.callbackPriority;if(y===f&&!(Io.current!==null&&l!==Kx)){l==null&&y!==Et&&c("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}l!=null&&_R(l);var T;if(f===Et)n.tag===fl?(Io.isBatchingLegacy!==null&&(Io.didScheduleLegacyUpdate=!0),wz(lR.bind(null,n))):iD(lR.bind(null,n)),Io.current!==null?Io.current.push(pl):V5(function(){(en&(Vi|oo))===Xr&&pl()}),T=null;else{var w;switch(GT(d)){case Ls:w=lp;break;case Na:w=Ob;break;case Ta:w=fu;break;case pp:w=jb;break;default:w=fu;break}T=Zx(w,oR.bind(null,n))}n.callbackPriority=f,n.callbackNode=T}function oR(n,i){if(bP(),Ah=Qn,Hg=we,(en&(Vi|oo))!==Xr)throw new Error("Should not already be working.");var l=n.callbackNode,d=za();if(d&&n.callbackNode!==l)return null;var f=mp(n,n===ds?ei:we);if(f===we)return null;var y=!hp(n,f)&&!XI(n,f)&&!i,T=y?cU(n,f):Wg(n,f);if(T!==Ia){if(T===Vu){var w=oy(n);w!==we&&(f=w,T=Bx(n,w))}if(T===Dh){var I=Ch;throw zu(n,we),Rl(n,f),Cs(n,mi()),I}if(T===zx)Rl(n,f);else{var U=!hp(n,f),B=n.current.alternate;if(U&&!nU(B)){if(T=Wg(n,f),T===Vu){var re=oy(n);re!==we&&(f=re,T=Bx(n,re))}if(T===Dh){var ne=Ch;throw zu(n,we),Rl(n,f),Cs(n,mi()),ne}}n.finishedWork=B,n.finishedLanes=f,tU(n,T,f)}}return Cs(n,mi()),n.callbackNode===l?oR.bind(null,n):null}function Bx(n,i){var l=Sh;if(gp(n)){var d=zu(n,i);d.flags|=va,_z(n.containerInfo)}var f=Wg(n,i);if(f!==Vu){var y=Rs;Rs=l,y!==null&&aR(y)}return f}function aR(n){Rs===null?Rs=n:Rs.push.apply(Rs,n)}function tU(n,i,l){switch(i){case Ia:case Dh:throw new Error("Root did not complete. This is a bug in React.");case Vu:{Pu(n,Rs,Va);break}case jg:{if(Rl(n,l),jT(l)&&!NR()){var d=Ux+nR-mi();if(d>10){var f=mp(n,we);if(f!==we)break;var y=n.suspendedLanes;if(!zc(y,l)){ms(),BT(n,y);break}n.timeoutHandle=Ly(Pu.bind(null,n,Rs,Va),d);break}}Pu(n,Rs,Va);break}case Rh:{if(Rl(n,l),JI(l))break;if(!NR()){var T=GI(n,l),w=T,I=mi()-w,U=_U(I)-I;if(U>10){n.timeoutHandle=Ly(Pu.bind(null,n,Rs,Va),U);break}}Pu(n,Rs,Va);break}case tR:{Pu(n,Rs,Va);break}default:throw new Error("Unknown root exit status.")}}function nU(n){for(var i=n;;){if(i.flags&op){var l=i.updateQueue;if(l!==null){var d=l.stores;if(d!==null)for(var f=0;f<d.length;f++){var y=d[f],T=y.getSnapshot,w=y.value;try{if(!Fs(T(),w))return!1}catch{return!1}}}}var I=i.child;if(i.subtreeFlags&op&&I!==null){I.return=i,i=I;continue}if(i===n)return!0;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}return!0}function Rl(n,i){i=fp(i,Mg),i=fp(i,wh),nV(n,i)}function lR(n){if(yP(),(en&(Vi|oo))!==Xr)throw new Error("Should not already be working.");za();var i=mp(n,we);if(!js(i,Et))return Cs(n,mi()),null;var l=Wg(n,i);if(n.tag!==fl&&l===Vu){var d=oy(n);d!==we&&(i=d,l=Bx(n,d))}if(l===Dh){var f=Ch;throw zu(n,we),Rl(n,i),Cs(n,mi()),f}if(l===zx)throw new Error("Root did not complete. This is a bug in React.");var y=n.current.alternate;return n.finishedWork=y,n.finishedLanes=i,Pu(n,Rs,Va),Cs(n,mi()),null}function rU(n,i){i!==we&&(cy(n,Mt(i,Et)),Cs(n,mi()),(en&(Vi|oo))===Xr&&(kh(),pl()))}function $x(n,i){var l=en;en|=eR;try{return n(i)}finally{en=l,en===Xr&&!Io.isBatchingLegacy&&(kh(),sD())}}function iU(n,i,l,d,f){var y=xo(),T=Ii.transition;try{return Ii.transition=null,pi(Ls),n(i,l,d,f)}finally{pi(y),Ii.transition=T,en===Xr&&kh()}}function Aa(n){El!==null&&El.tag===fl&&(en&(Vi|oo))===Xr&&za();var i=en;en|=eR;var l=Ii.transition,d=xo();try{return Ii.transition=null,pi(Ls),n?n():void 0}finally{pi(d),Ii.transition=l,en=i,(en&(Vi|oo))===Xr&&pl()}}function uR(){return(en&(Vi|oo))!==Xr}function Gg(n,i){Bi(Px,ta,n),ta=Mt(ta,i)}function Hx(n){ta=Px.current,Fi(Px,n)}function zu(n,i){n.finishedWork=null,n.finishedLanes=we;var l=n.timeoutHandle;if(l!==My&&(n.timeoutHandle=My,I5(l)),gr!==null)for(var d=gr.return;d!==null;){var f=d.alternate;j1(f,d),d=d.return}ds=n;var y=Uu(n.current,null);return gr=y,ei=ta=i,ti=Ia,Ch=null,Lg=we,wh=we,Mg=we,Sh=null,Rs=null,Xz(),To.discardPendingWarnings(),y}function cR(n,i){do{var l=gr;try{if(ng(),zD(),et(),Ax.current=null,l===null||l.return===null){ti=Dh,Ch=i,gr=null;return}if(bt&&l.mode&wn&&Ig(l,!0),Tt)if(kc(),i!==null&&typeof i=="object"&&typeof i.then=="function"){var d=i;zI(l,d,ei)}else AI(l,i,ei);wP(n,l.return,l,i,ei),fR(l)}catch(f){i=f,gr===l&&l!==null?(l=l.return,gr=l):l=gr;continue}return}while(!0)}function dR(){var n=Vx.current;return Vx.current=Rg,n===null?Rg:n}function mR(n){Vx.current=n}function sU(){Ux=mi()}function zh(n){Lg=Mt(n,Lg)}function oU(){ti===Ia&&(ti=jg)}function qx(){(ti===Ia||ti===jg||ti===Vu)&&(ti=Rh),ds!==null&&(ay(Lg)||ay(wh))&&Rl(ds,ei)}function aU(n){ti!==Rh&&(ti=Vu),Sh===null?Sh=[n]:Sh.push(n)}function lU(){return ti===Ia}function Wg(n,i){var l=en;en|=Vi;var d=dR();if(ds!==n||ei!==i){if(yo){var f=n.memoizedUpdaters;f.size>0&&(Ph(n,ei),f.clear()),HT(n,i)}Va=qT(),zu(n,i)}AT(i);do try{uU();break}catch(y){cR(n,y)}while(!0);if(ng(),en=l,mR(d),gr!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return zT(),ds=null,ei=we,ti}function uU(){for(;gr!==null;)hR(gr)}function cU(n,i){var l=en;en|=Vi;var d=dR();if(ds!==n||ei!==i){if(yo){var f=n.memoizedUpdaters;f.size>0&&(Ph(n,ei),f.clear()),HT(n,i)}Va=qT(),kh(),zu(n,i)}AT(i);do try{dU();break}catch(y){cR(n,y)}while(!0);return ng(),mR(d),en=l,gr!==null?(LI(),Ia):(zT(),ds=null,ei=we,ti)}function dU(){for(;gr!==null&&!hI();)hR(gr)}function hR(n){var i=n.alternate;Ht(n);var l;(n.mode&wn)!==gt?(K0(n),l=Gx(i,n,ta),Ig(n,!0)):l=Gx(i,n,ta),et(),n.memoizedProps=n.pendingProps,l===null?fR(n):gr=l,Ax.current=null}function fR(n){var i=n;do{var l=i.alternate,d=i.return;if((i.flags&vm)===pt){Ht(i);var f=void 0;if((i.mode&wn)===gt?f=O1(l,i,ta):(K0(i),f=O1(l,i,ta),Ig(i,!1)),et(),f!==null){gr=f;return}}else{var y=o6(l,i);if(y!==null){y.flags&=aI,gr=y;return}if((i.mode&wn)!==gt){Ig(i,!1);for(var T=i.actualDuration,w=i.child;w!==null;)T+=w.actualDuration,w=w.sibling;i.actualDuration=T}if(d!==null)d.flags|=vm,d.subtreeFlags=pt,d.deletions=null;else{ti=zx,gr=null;return}}var I=i.sibling;if(I!==null){gr=I;return}i=d,gr=i}while(i!==null);ti===Ia&&(ti=tR)}function Pu(n,i,l){var d=xo(),f=Ii.transition;try{Ii.transition=null,pi(Ls),mU(n,i,l,d)}finally{Ii.transition=f,pi(d)}return null}function mU(n,i,l,d){do za();while(El!==null);if(TU(),(en&(Vi|oo))!==Xr)throw new Error("Should not already be working.");var f=n.finishedWork,y=n.finishedLanes;if(RI(y),f===null)return kT(),null;if(y===we&&c("root.finishedLanes should not be empty during a commit. This is a bug in React."),n.finishedWork=null,n.finishedLanes=we,f===n.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");n.callbackNode=null,n.callbackPriority=fi;var T=Mt(f.lanes,f.childLanes);rV(n,T),n===ds&&(ds=null,gr=null,ei=we),((f.subtreeFlags&wc)!==pt||(f.flags&wc)!==pt)&&(Au||(Au=!0,Lx=l,Zx(fu,function(){return za(),null})));var w=(f.subtreeFlags&(Pb|Ub|bm|wc))!==pt,I=(f.flags&(Pb|Ub|bm|wc))!==pt;if(w||I){var U=Ii.transition;Ii.transition=null;var B=xo();pi(Ls);var re=en;en|=oo,Ax.current=null,d6(n,f),s1(),D6(n,f,y),E5(n.containerInfo),n.current=f,PI(y),R6(f,n,y),UI(),fI(),en=re,pi(B),Ii.transition=U}else n.current=f,s1();var ne=Au;if(Au?(Au=!1,El=n,Ih=y):(cd=0,$g=null),T=n.pendingLanes,T===we&&(ud=null),ne||bR(n.current,!1),_I(f.stateNode,d),yo&&n.memoizedUpdaters.clear(),q6(),Cs(n,mi()),i!==null)for(var ce=n.onRecoverableError,de=0;de<i.length;de++){var ve=i[de],Fe=ve.stack,ut=ve.digest;ce(ve.value,{componentStack:Fe,digest:ut})}if(Fg){Fg=!1;var rt=Ox;throw Ox=null,rt}return js(Ih,Et)&&n.tag!==fl&&za(),T=n.pendingLanes,js(T,Et)?(vP(),n===Mx?Vh++:(Vh=0,Mx=n)):Vh=0,pl(),kT(),null}function za(){if(El!==null){var n=GT(Ih),i=aV(Ta,n),l=Ii.transition,d=xo();try{return Ii.transition=null,pi(i),fU()}finally{pi(d),Ii.transition=l}}return!1}function hU(n){jx.push(n),Au||(Au=!0,Zx(fu,function(){return za(),null}))}function fU(){if(El===null)return!1;var n=Lx;Lx=null;var i=El,l=Ih;if(El=null,Ih=we,(en&(Vi|oo))!==Xr)throw new Error("Cannot flush passive effects while already rendering.");Fx=!0,Bg=!1,OI(l);var d=en;en|=oo,A6(i.current),S6(i,i.current,l,n);{var f=jx;jx=[];for(var y=0;y<f.length;y++){var T=f[y];p6(i,T)}}jI(),bR(i.current,!0),en=d,pl(),Bg?i===$g?cd++:(cd=0,$g=i):cd=0,Fx=!1,Bg=!1,NI(i);{var w=i.current.stateNode;w.effectDuration=0,w.passiveEffectDuration=0}return!0}function pR(n){return ud!==null&&ud.has(n)}function pU(n){ud===null?ud=new Set([n]):ud.add(n)}function gU(n){Fg||(Fg=!0,Ox=n)}var vU=gU;function gR(n,i,l){var d=ku(l,i),f=h1(n,d,Et),y=vl(n,f,Et),T=ms();y!==null&&(Rm(y,Et,T),Cs(y,T))}function qn(n,i,l){if(l6(l),Uh(!1),n.tag===E){gR(n,n,l);return}var d=null;for(d=i;d!==null;){if(d.tag===E){gR(d,n,l);return}else if(d.tag===x){var f=d.type,y=d.stateNode;if(typeof f.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&!pR(y)){var T=ku(l,n),w=mx(d,T,Et),I=vl(d,w,Et),U=ms();I!==null&&(Rm(I,Et,U),Cs(I,U));return}}d=d.return}c(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,l)}function bU(n,i,l){var d=n.pingCache;d!==null&&d.delete(i);var f=ms();BT(n,l),CU(n),ds===n&&zc(ei,l)&&(ti===Rh||ti===jg&&jT(ei)&&mi()-Ux<nR?zu(n,we):Mg=Mt(Mg,l)),Cs(n,f)}function vR(n,i){i===fi&&(i=J6(n));var l=ms(),d=Es(n,i);d!==null&&(Rm(d,i,l),Cs(d,l))}function yU(n){var i=n.memoizedState,l=fi;i!==null&&(l=i.retryLane),vR(n,l)}function xU(n,i){var l=fi,d;switch(n.tag){case ye:d=n.stateNode;var f=n.memoizedState;f!==null&&(l=f.retryLane);break;case K:d=n.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}d!==null&&d.delete(i),vR(n,l)}function _U(n){return n<120?120:n<480?480:n<1080?1080:n<1920?1920:n<3e3?3e3:n<4320?4320:K6(n/1960)*1960}function NU(){if(Vh>Q6)throw Vh=0,Mx=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");cd>Y6&&(cd=0,$g=null,c("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function TU(){To.flushLegacyContextWarning(),To.flushPendingUnsafeLifecycleWarnings()}function bR(n,i){Ht(n),Kg(n,ya,B6),i&&Kg(n,ap,$6),Kg(n,ya,M6),i&&Kg(n,ap,F6),et()}function Kg(n,i,l){for(var d=n,f=null;d!==null;){var y=d.subtreeFlags&i;d!==f&&d.child!==null&&y!==pt?d=d.child:((d.flags&i)!==pt&&l(d),d.sibling!==null?d=d.sibling:d=f=d.return)}}var Zg=null;function yR(n){{if((en&Vi)!==Xr||!(n.mode&Xt))return;var i=n.tag;if(i!==N&&i!==E&&i!==x&&i!==v&&i!==ee&&i!==te&&i!==F)return;var l=Nt(n)||"ReactComponent";if(Zg!==null){if(Zg.has(l))return;Zg.add(l)}else Zg=new Set([l]);var d=Hn;try{Ht(n),c("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{d?Ht(n):et()}}}var Gx;{var EU=null;Gx=function(n,i,l){var d=CR(EU,i);try{return V1(n,i,l)}catch(y){if(Uz()||y!==null&&typeof y=="object"&&typeof y.then=="function")throw y;if(ng(),zD(),j1(n,i),CR(i,d),i.mode&wn&&K0(i),Dc(null,V1,null,n,i,l),kb()){var f=fm();typeof f=="object"&&f!==null&&f._suppressLogging&&typeof y=="object"&&y!==null&&!y._suppressLogging&&(y._suppressLogging=!0)}throw y}}}var xR=!1,Wx;Wx=new Set;function DU(n){if(Kr&&!fP())switch(n.tag){case v:case ee:case F:{var i=gr&&Nt(gr)||"Unknown",l=i;if(!Wx.has(l)){Wx.add(l);var d=Nt(n)||"Unknown";c("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",d,i,i)}break}case x:{xR||(c("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),xR=!0);break}}}function Ph(n,i){if(yo){var l=n.memoizedUpdaters;l.forEach(function(d){$T(n,d,i)})}}var Kx={};function Zx(n,i){{var l=Io.current;return l!==null?(l.push(i),Kx):ST(n,i)}}function _R(n){if(n!==Kx)return mI(n)}function NR(){return Io.current!==null}function RU(n){{if(n.mode&Xt){if(!X1())return}else if(!W6()||en!==Xr||n.tag!==v&&n.tag!==ee&&n.tag!==F)return;if(Io.current===null){var i=Hn;try{Ht(n),c(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Nt(n))}finally{i?Ht(n):et()}}}}function CU(n){n.tag!==fl&&X1()&&Io.current===null&&c(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Uh(n){sR=n}var ao=null,dd=null,wU=function(n){ao=n};function md(n){{if(ao===null)return n;var i=ao(n);return i===void 0?n:i.current}}function Qx(n){return md(n)}function Yx(n){{if(ao===null)return n;var i=ao(n);if(i===void 0){if(n!=null&&typeof n.render=="function"){var l=md(n.render);if(n.render!==l){var d={$$typeof:it,render:l};return n.displayName!==void 0&&(d.displayName=n.displayName),d}}return n}return i.current}}function TR(n,i){{if(ao===null)return!1;var l=n.elementType,d=i.type,f=!1,y=typeof d=="object"&&d!==null?d.$$typeof:null;switch(n.tag){case x:{typeof d=="function"&&(f=!0);break}case v:{(typeof d=="function"||y===xt)&&(f=!0);break}case ee:{(y===it||y===xt)&&(f=!0);break}case te:case F:{(y===En||y===xt)&&(f=!0);break}default:return!1}if(f){var T=ao(l);if(T!==void 0&&T===ao(d))return!0}return!1}}function ER(n){{if(ao===null||typeof WeakSet!="function")return;dd===null&&(dd=new WeakSet),dd.add(n)}}var SU=function(n,i){{if(ao===null)return;var l=i.staleFamilies,d=i.updatedFamilies;za(),Aa(function(){Jx(n.current,d,l)})}},kU=function(n,i){{if(n.context!==Bs)return;za(),Aa(function(){Oh(i,n,null,null)})}};function Jx(n,i,l){{var d=n.alternate,f=n.child,y=n.sibling,T=n.tag,w=n.type,I=null;switch(T){case v:case F:case x:I=w;break;case ee:I=w.render;break}if(ao===null)throw new Error("Expected resolveFamily to be set during hot reload.");var U=!1,B=!1;if(I!==null){var re=ao(I);re!==void 0&&(l.has(re)?B=!0:i.has(re)&&(T===x?B=!0:U=!0))}if(dd!==null&&(dd.has(n)||d!==null&&dd.has(d))&&(B=!0),B&&(n._debugNeedsRemount=!0),B||U){var ne=Es(n,Et);ne!==null&&ni(ne,n,Et,Qn)}f!==null&&!B&&Jx(f,i,l),y!==null&&Jx(y,i,l)}}var IU=function(n,i){{var l=new Set,d=new Set(i.map(function(f){return f.current}));return Xx(n.current,d,l),l}};function Xx(n,i,l){{var d=n.child,f=n.sibling,y=n.tag,T=n.type,w=null;switch(y){case v:case F:case x:w=T;break;case ee:w=T.render;break}var I=!1;w!==null&&i.has(w)&&(I=!0),I?VU(n,l):d!==null&&Xx(d,i,l),f!==null&&Xx(f,i,l)}}function VU(n,i){{var l=AU(n,i);if(l)return;for(var d=n;;){switch(d.tag){case C:i.add(d.stateNode);return;case R:i.add(d.stateNode.containerInfo);return;case E:i.add(d.stateNode.containerInfo);return}if(d.return===null)throw new Error("Expected to reach root first.");d=d.return}}}function AU(n,i){for(var l=n,d=!1;;){if(l.tag===C)d=!0,i.add(l.stateNode);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)return d;for(;l.sibling===null;){if(l.return===null||l.return===n)return d;l=l.return}l.sibling.return=l.return,l=l.sibling}return!1}var e_;{e_=!1;try{var DR=Object.preventExtensions({})}catch{e_=!0}}function zU(n,i,l,d){this.tag=n,this.key=l,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=i,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=d,this.flags=pt,this.subtreeFlags=pt,this.deletions=null,this.lanes=we,this.childLanes=we,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!e_&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var $s=function(n,i,l,d){return new zU(n,i,l,d)};function t_(n){var i=n.prototype;return!!(i&&i.isReactComponent)}function PU(n){return typeof n=="function"&&!t_(n)&&n.defaultProps===void 0}function UU(n){if(typeof n=="function")return t_(n)?x:v;if(n!=null){var i=n.$$typeof;if(i===it)return ee;if(i===En)return te}return N}function Uu(n,i){var l=n.alternate;l===null?(l=$s(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l._debugSource=n._debugSource,l._debugOwner=n._debugOwner,l._debugHookTypes=n._debugHookTypes,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=pt,l.subtreeFlags=pt,l.deletions=null,l.actualDuration=0,l.actualStartTime=-1),l.flags=n.flags&xa,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue;var d=n.dependencies;switch(l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.selfBaseDuration=n.selfBaseDuration,l.treeBaseDuration=n.treeBaseDuration,l._debugNeedsRemount=n._debugNeedsRemount,l.tag){case N:case v:case F:l.type=md(n.type);break;case x:l.type=Qx(n.type);break;case ee:l.type=Yx(n.type);break}return l}function OU(n,i){n.flags&=xa|Br;var l=n.alternate;if(l===null)n.childLanes=we,n.lanes=i,n.child=null,n.subtreeFlags=pt,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null,n.selfBaseDuration=0,n.treeBaseDuration=0;else{n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=pt,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type;var d=l.dependencies;n.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},n.selfBaseDuration=l.selfBaseDuration,n.treeBaseDuration=l.treeBaseDuration}return n}function jU(n,i,l){var d;return n===Gp?(d=Xt,i===!0&&(d|=Nr,d|=qo)):d=gt,yo&&(d|=wn),$s(E,null,null,d)}function n_(n,i,l,d,f,y){var T=N,w=n;if(typeof n=="function")t_(n)?(T=x,w=Qx(w)):w=md(w);else if(typeof n=="string")T=C;else e:switch(n){case H:return Cl(l.children,f,y,i);case De:T=M,f|=Nr,(f&Xt)!==gt&&(f|=qo);break;case Pe:return LU(l,f,y,i);case Rt:return MU(l,f,y,i);case ht:return FU(l,f,y,i);case xi:return RR(l,f,y,i);case oi:case Vn:case fr:case Yi:case wr:default:{if(typeof n=="object"&&n!==null)switch(n.$$typeof){case at:T=J;break e;case Pt:T=Y;break e;case it:T=ee,w=Yx(w);break e;case En:T=te;break e;case xt:T=$,w=null;break e}var I="";{(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(I+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var U=d?Nt(d):null;U&&(I+=`

Check the render method of \``+U+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(n==null?n:typeof n)+"."+I))}}var B=$s(T,l,i,f);return B.elementType=n,B.type=w,B.lanes=y,B._debugOwner=d,B}function r_(n,i,l){var d=null;d=n._owner;var f=n.type,y=n.key,T=n.props,w=n_(f,y,T,d,i,l);return w._debugSource=n._source,w._debugOwner=n._owner,w}function Cl(n,i,l,d){var f=$s(A,n,d,i);return f.lanes=l,f}function LU(n,i,l,d){typeof n.id!="string"&&c('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof n.id);var f=$s(pe,n,d,i|wn);return f.elementType=Pe,f.lanes=l,f.stateNode={effectDuration:0,passiveEffectDuration:0},f}function MU(n,i,l,d){var f=$s(ye,n,d,i);return f.elementType=Rt,f.lanes=l,f}function FU(n,i,l,d){var f=$s(K,n,d,i);return f.elementType=ht,f.lanes=l,f}function RR(n,i,l,d){var f=$s(j,n,d,i);f.elementType=xi,f.lanes=l;var y={isHidden:!1};return f.stateNode=y,f}function i_(n,i,l){var d=$s(P,n,null,i);return d.lanes=l,d}function BU(){var n=$s(C,null,null,gt);return n.elementType="DELETED",n}function $U(n){var i=$s(G,null,null,gt);return i.stateNode=n,i}function s_(n,i,l){var d=n.children!==null?n.children:[],f=$s(R,d,n.key,i);return f.lanes=l,f.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},f}function CR(n,i){return n===null&&(n=$s(N,null,null,gt)),n.tag=i.tag,n.key=i.key,n.elementType=i.elementType,n.type=i.type,n.stateNode=i.stateNode,n.return=i.return,n.child=i.child,n.sibling=i.sibling,n.index=i.index,n.ref=i.ref,n.pendingProps=i.pendingProps,n.memoizedProps=i.memoizedProps,n.updateQueue=i.updateQueue,n.memoizedState=i.memoizedState,n.dependencies=i.dependencies,n.mode=i.mode,n.flags=i.flags,n.subtreeFlags=i.subtreeFlags,n.deletions=i.deletions,n.lanes=i.lanes,n.childLanes=i.childLanes,n.alternate=i.alternate,n.actualDuration=i.actualDuration,n.actualStartTime=i.actualStartTime,n.selfBaseDuration=i.selfBaseDuration,n.treeBaseDuration=i.treeBaseDuration,n._debugSource=i._debugSource,n._debugOwner=i._debugOwner,n._debugNeedsRemount=i._debugNeedsRemount,n._debugHookTypes=i._debugHookTypes,n}function HU(n,i,l,d,f){this.tag=i,this.containerInfo=n,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=My,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=fi,this.eventTimes=uy(we),this.expirationTimes=uy(Qn),this.pendingLanes=we,this.suspendedLanes=we,this.pingedLanes=we,this.expiredLanes=we,this.mutableReadLanes=we,this.finishedLanes=we,this.entangledLanes=we,this.entanglements=uy(we),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var y=this.pendingUpdatersLaneMap=[],T=0;T<Mb;T++)y.push(new Set)}switch(i){case Gp:this._debugRootType=l?"hydrateRoot()":"createRoot()";break;case fl:this._debugRootType=l?"hydrate()":"render()";break}}function wR(n,i,l,d,f,y,T,w,I,U){var B=new HU(n,i,l,w,I),re=jU(i,y);B.current=re,re.stateNode=B;{var ne={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null};re.memoizedState=ne}return b0(re),B}var o_="18.3.1";function qU(n,i,l){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Or(d),{$$typeof:Mn,key:d==null?null:""+d,children:n,containerInfo:i,implementation:l}}var a_,l_;a_=!1,l_={};function SR(n){if(!n)return Bs;var i=il(n),l=Cz(i);if(i.tag===x){var d=i.type;if(Ko(d))return nD(i,d,l)}return l}function GU(n,i){{var l=il(n);if(l===void 0){if(typeof n.render=="function")throw new Error("Unable to find node on an unmounted component.");var d=Object.keys(n).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+d)}var f=RT(l);if(f===null)return null;if(f.mode&Nr){var y=Nt(l)||"Component";if(!l_[y]){l_[y]=!0;var T=Hn;try{Ht(f),l.mode&Nr?c("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",i,i,y):c("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",i,i,y)}finally{T?Ht(T):et()}}}return f.stateNode}}function kR(n,i,l,d,f,y,T,w){var I=!1,U=null;return wR(n,i,I,U,l,d,f,y,T)}function IR(n,i,l,d,f,y,T,w,I,U){var B=!0,re=wR(l,d,B,n,f,y,T,w,I);re.context=SR(null);var ne=re.current,ce=ms(),de=Dl(ne),ve=Sa(ce,de);return ve.callback=i??null,vl(ne,ve,de),X6(re,de,ce),re}function Oh(n,i,l,d){xI(i,n);var f=i.current,y=ms(),T=Dl(f);MI(T);var w=SR(l);i.context===null?i.context=w:i.pendingContext=w,Kr&&Hn!==null&&!a_&&(a_=!0,c(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Nt(Hn)||"Unknown"));var I=Sa(y,T);I.payload={element:n},d=d===void 0?null:d,d!==null&&(typeof d!="function"&&c("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",d),I.callback=d);var U=vl(f,I,T);return U!==null&&(ni(U,f,T,y),ag(U,f,T)),T}function Qg(n){var i=n.current;if(!i.child)return null;switch(i.child.tag){case C:return i.child.stateNode;default:return i.child.stateNode}}function WU(n){switch(n.tag){case E:{var i=n.stateNode;if(gp(i)){var l=ZI(i);rU(i,l)}break}case ye:{Aa(function(){var f=Es(n,Et);if(f!==null){var y=ms();ni(f,n,Et,y)}});var d=Et;u_(n,d);break}}}function VR(n,i){var l=n.memoizedState;l!==null&&l.dehydrated!==null&&(l.retryLane=tV(l.retryLane,i))}function u_(n,i){VR(n,i);var l=n.alternate;l&&VR(l,i)}function KU(n){if(n.tag===ye){var i=Nm,l=Es(n,i);if(l!==null){var d=ms();ni(l,n,i,d)}u_(n,i)}}function ZU(n){if(n.tag===ye){var i=Dl(n),l=Es(n,i);if(l!==null){var d=ms();ni(l,n,i,d)}u_(n,i)}}function AR(n){var i=dI(n);return i===null?null:i.stateNode}var zR=function(n){return null};function QU(n){return zR(n)}var PR=function(n){return!1};function YU(n){return PR(n)}var UR=null,OR=null,jR=null,LR=null,MR=null,FR=null,BR=null,$R=null,HR=null;{var qR=function(n,i,l){var d=i[l],f=St(n)?n.slice():At({},n);return l+1===i.length?(St(f)?f.splice(d,1):delete f[d],f):(f[d]=qR(n[d],i,l+1),f)},GR=function(n,i){return qR(n,i,0)},WR=function(n,i,l,d){var f=i[d],y=St(n)?n.slice():At({},n);if(d+1===i.length){var T=l[d];y[T]=y[f],St(y)?y.splice(f,1):delete y[f]}else y[f]=WR(n[f],i,l,d+1);return y},KR=function(n,i,l){if(i.length!==l.length){u("copyWithRename() expects paths of the same length");return}else for(var d=0;d<l.length-1;d++)if(i[d]!==l[d]){u("copyWithRename() expects paths to be the same except for the deepest key");return}return WR(n,i,l,0)},ZR=function(n,i,l,d){if(l>=i.length)return d;var f=i[l],y=St(n)?n.slice():At({},n);return y[f]=ZR(n[f],i,l+1,d),y},QR=function(n,i,l){return ZR(n,i,0,l)},c_=function(n,i){for(var l=n.memoizedState;l!==null&&i>0;)l=l.next,i--;return l};UR=function(n,i,l,d){var f=c_(n,i);if(f!==null){var y=QR(f.memoizedState,l,d);f.memoizedState=y,f.baseState=y,n.memoizedProps=At({},n.memoizedProps);var T=Es(n,Et);T!==null&&ni(T,n,Et,Qn)}},OR=function(n,i,l){var d=c_(n,i);if(d!==null){var f=GR(d.memoizedState,l);d.memoizedState=f,d.baseState=f,n.memoizedProps=At({},n.memoizedProps);var y=Es(n,Et);y!==null&&ni(y,n,Et,Qn)}},jR=function(n,i,l,d){var f=c_(n,i);if(f!==null){var y=KR(f.memoizedState,l,d);f.memoizedState=y,f.baseState=y,n.memoizedProps=At({},n.memoizedProps);var T=Es(n,Et);T!==null&&ni(T,n,Et,Qn)}},LR=function(n,i,l){n.pendingProps=QR(n.memoizedProps,i,l),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var d=Es(n,Et);d!==null&&ni(d,n,Et,Qn)},MR=function(n,i){n.pendingProps=GR(n.memoizedProps,i),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var l=Es(n,Et);l!==null&&ni(l,n,Et,Qn)},FR=function(n,i,l){n.pendingProps=KR(n.memoizedProps,i,l),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var d=Es(n,Et);d!==null&&ni(d,n,Et,Qn)},BR=function(n){var i=Es(n,Et);i!==null&&ni(i,n,Et,Qn)},$R=function(n){zR=n},HR=function(n){PR=n}}function JU(n){var i=RT(n);return i===null?null:i.stateNode}function XU(n){return null}function eO(){return Hn}function tO(n){var i=n.findFiberByHostInstance,l=t.ReactCurrentDispatcher;return yI({bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:UR,overrideHookStateDeletePath:OR,overrideHookStateRenamePath:jR,overrideProps:LR,overridePropsDeletePath:MR,overridePropsRenamePath:FR,setErrorHandler:$R,setSuspenseHandler:HR,scheduleUpdate:BR,currentDispatcherRef:l,findHostInstanceByFiber:JU,findFiberByHostInstance:i||XU,findHostInstancesForRefresh:IU,scheduleRefresh:SU,scheduleRoot:kU,setRefreshHandler:wU,getCurrentFiber:eO,reconcilerVersion:o_})}var YR=typeof reportError=="function"?reportError:function(n){console.error(n)};function d_(n){this._internalRoot=n}Yg.prototype.render=d_.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?c("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):Jg(arguments[1])?c("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&c("You passed a second argument to root.render(...) but it only accepts one argument.");var l=i.containerInfo;if(l.nodeType!==Je){var d=AR(i.current);d&&d.parentNode!==l&&c("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Oh(n,i,null,null)},Yg.prototype.unmount=d_.prototype.unmount=function(){typeof arguments[0]=="function"&&c("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;uR()&&c("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Aa(function(){Oh(null,n,null,null)}),YE(i)}};function nO(n,i){if(!Jg(n))throw new Error("createRoot(...): Target container is not a DOM element.");JR(n);var l=!1,d=!1,f="",y=YR;i!=null&&(i.hydrate?u("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof i=="object"&&i!==null&&i.$$typeof===si&&c(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.transitionCallbacks!==void 0&&i.transitionCallbacks);var T=kR(n,Gp,null,l,d,f,y);Lp(T.current,n);var w=n.nodeType===Je?n.parentNode:n;return $m(w),new d_(T)}function Yg(n){this._internalRoot=n}function rO(n){n&&bV(n)}Yg.prototype.unstable_scheduleHydration=rO;function iO(n,i,l){if(!Jg(n))throw new Error("hydrateRoot(...): Target container is not a DOM element.");JR(n),i===void 0&&c("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var d=l??null,f=l!=null&&l.hydratedSources||null,y=!1,T=!1,w="",I=YR;l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError));var U=IR(i,null,n,Gp,d,y,T,w,I);if(Lp(U.current,n),$m(n),f)for(var B=0;B<f.length;B++){var re=f[B];lP(U,re)}return new Yg(U)}function Jg(n){return!!(n&&(n.nodeType===kt||n.nodeType===yn||n.nodeType===xr||!Be))}function jh(n){return!!(n&&(n.nodeType===kt||n.nodeType===yn||n.nodeType===xr||n.nodeType===Je&&n.nodeValue===" react-mount-point-unstable "))}function JR(n){n.nodeType===kt&&n.tagName&&n.tagName.toUpperCase()==="BODY"&&c("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),eh(n)&&(n._reactRootContainer?c("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):c("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var sO=t.ReactCurrentOwner,XR;XR=function(n){if(n._reactRootContainer&&n.nodeType!==Je){var i=AR(n._reactRootContainer.current);i&&i.parentNode!==n&&c("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var l=!!n._reactRootContainer,d=m_(n),f=!!(d&&ml(d));f&&!l&&c("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),n.nodeType===kt&&n.tagName&&n.tagName.toUpperCase()==="BODY"&&c("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function m_(n){return n?n.nodeType===yn?n.documentElement:n.firstChild:null}function e2(){}function oO(n,i,l,d,f){if(f){if(typeof d=="function"){var y=d;d=function(){var ne=Qg(T);y.call(ne)}}var T=IR(i,d,n,fl,null,!1,!1,"",e2);n._reactRootContainer=T,Lp(T.current,n);var w=n.nodeType===Je?n.parentNode:n;return $m(w),Aa(),T}else{for(var I;I=n.lastChild;)n.removeChild(I);if(typeof d=="function"){var U=d;d=function(){var ne=Qg(B);U.call(ne)}}var B=kR(n,fl,null,!1,!1,"",e2);n._reactRootContainer=B,Lp(B.current,n);var re=n.nodeType===Je?n.parentNode:n;return $m(re),Aa(function(){Oh(i,B,l,d)}),B}}function aO(n,i){n!==null&&typeof n!="function"&&c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i,n)}function Xg(n,i,l,d,f){XR(l),aO(f===void 0?null:f,"render");var y=l._reactRootContainer,T;if(!y)T=oO(l,i,n,f,d);else{if(T=y,typeof f=="function"){var w=f;f=function(){var I=Qg(T);w.call(I)}}Oh(i,T,n,f)}return Qg(T)}var t2=!1;function lO(n){{t2||(t2=!0,c("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var i=sO.current;if(i!==null&&i.stateNode!==null){var l=i.stateNode._warnedAboutRefsInRender;l||c("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Ot(i.type)||"A component"),i.stateNode._warnedAboutRefsInRender=!0}}return n==null?null:n.nodeType===kt?n:GU(n,"findDOMNode")}function uO(n,i,l){if(c("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!jh(i))throw new Error("Target container is not a DOM element.");{var d=eh(i)&&i._reactRootContainer===void 0;d&&c("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return Xg(null,n,i,!0,l)}function cO(n,i,l){if(c("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!jh(i))throw new Error("Target container is not a DOM element.");{var d=eh(i)&&i._reactRootContainer===void 0;d&&c("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return Xg(null,n,i,!1,l)}function dO(n,i,l,d){if(c("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!jh(l))throw new Error("Target container is not a DOM element.");if(n==null||!pm(n))throw new Error("parentComponent must be a valid React Component");return Xg(n,i,l,!1,d)}var n2=!1;function mO(n){if(n2||(n2=!0,c("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!jh(n))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var i=eh(n)&&n._reactRootContainer===void 0;i&&c("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(n._reactRootContainer){{var l=m_(n),d=l&&!ml(l);d&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Aa(function(){Xg(null,null,n,!1,function(){n._reactRootContainer=null,YE(n)})}),!0}else{{var f=m_(n),y=!!(f&&ml(f)),T=n.nodeType===kt&&jh(n.parentNode)&&!!n.parentNode._reactRootContainer;y&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",T?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}lV(WU),cV(KU),dV(ZU),mV(xo),hV(sV),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&c("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),wb(f5),he($x,iU,Aa);function hO(n,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Jg(i))throw new Error("Target container is not a DOM element.");return qU(n,i,null,l)}function fO(n,i,l,d){return dO(n,i,l,d)}var h_={usingClientEntryPoint:!1,Events:[ml,$c,Mp,a,b,$x]};function pO(n,i){return h_.usingClientEntryPoint||c('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),nO(n,i)}function gO(n,i,l){return h_.usingClientEntryPoint||c('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),iO(n,i,l)}function vO(n){return uR()&&c("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Aa(n)}var bO=tO({findFiberByHostInstance:_u,bundleType:1,version:o_,rendererPackageName:"react-dom"});if(!bO&&Tn&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var r2=window.location.protocol;/^(https?|file):$/.test(r2)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(r2==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_,qs.createPortal=hO,qs.createRoot=pO,qs.findDOMNode=lO,qs.flushSync=vO,qs.hydrate=uO,qs.hydrateRoot=gO,qs.render=cO,qs.unmountComponentAtNode=mO,qs.unstable_batchedUpdates=$x,qs.unstable_renderSubtreeIntoContainer=fO,qs.version=o_,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();KC.exports=qs;var cN=KC.exports,f_=cN;{var ev=f_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;A_.createRoot=function(r,e){ev.usingClientEntryPoint=!0;try{return f_.createRoot(r,e)}finally{ev.usingClientEntryPoint=!1}},A_.hydrateRoot=function(r,e,t){ev.usingClientEntryPoint=!0;try{return f_.hydrateRoot(r,e,t)}finally{ev.usingClientEntryPoint=!1}}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},of.apply(this,arguments)}var zl;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(zl||(zl={}));const i2="popstate";function wO(r){r===void 0&&(r={});function e(s,o){let{pathname:u,search:c,hash:p}=s.location;return z_("",{pathname:u,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:af(o)}return kO(e,t,null,r)}function ur(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function uo(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SO(){return Math.random().toString(36).substr(2,8)}function s2(r,e){return{usr:r.state,key:r.key,idx:e}}function z_(r,e,t,s){return t===void 0&&(t=null),of({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Zd(e):e,{state:t,key:e&&e.key||s||SO()})}function af(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zd(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function kO(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,p=zl.Pop,v=null,x=N();x==null&&(x=0,c.replaceState(of({},c.state,{idx:x}),""));function N(){return(c.state||{idx:null}).idx}function E(){p=zl.Pop;let M=N(),Y=M==null?null:M-x;x=M,v&&v({action:p,location:A.location,delta:Y})}function R(M,Y){p=zl.Push;let J=z_(A.location,M,Y);t&&t(J,M),x=N()+1;let ee=s2(J,x),pe=A.createHref(J);try{c.pushState(ee,"",pe)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(pe)}u&&v&&v({action:p,location:A.location,delta:1})}function C(M,Y){p=zl.Replace;let J=z_(A.location,M,Y);t&&t(J,M),x=N();let ee=s2(J,x),pe=A.createHref(J);c.replaceState(ee,"",pe),u&&v&&v({action:p,location:A.location,delta:0})}function P(M){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof M=="string"?M:af(M);return J=J.replace(/ $/,"%20"),ur(Y,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,Y)}let A={get action(){return p},get location(){return r(o,c)},listen(M){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(i2,E),v=M,()=>{o.removeEventListener(i2,E),v=null}},createHref(M){return e(o,M)},createURL:P,encodeLocation(M){let Y=P(M);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:C,go(M){return c.go(M)}};return A}var o2;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(o2||(o2={}));function IO(r,e,t){return t===void 0&&(t="/"),VO(r,e,t,!1)}function VO(r,e,t,s){let o=typeof e=="string"?Zd(e):e,u=jl(o.pathname||"/",t);if(u==null)return null;let c=YC(r);AO(c);let p=null;for(let v=0;p==null&&v<c.length;++v){let x=HO(u);p=BO(c[v],x,s)}return p}function YC(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(u,c,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};v.relativePath.startsWith("/")&&(ur(v.relativePath.startsWith(s),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(s.length));let x=Oa([s,v.relativePath]),N=t.concat(v);u.children&&u.children.length>0&&(ur(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),YC(u.children,e,N,x)),!(u.path==null&&!u.index)&&e.push({path:x,score:MO(x,u.index),routesMeta:N})};return r.forEach((u,c)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,c);else for(let v of JC(u.path))o(u,c,v)}),e}function JC(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=JC(s.join("/")),p=[];return p.push(...c.map(v=>v===""?u:[u,v].join("/"))),o&&p.push(...c),p.map(v=>r.startsWith("/")&&v===""?"/":v)}function AO(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:FO(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const zO=/^:[\w-]+$/,PO=3,UO=2,OO=1,jO=10,LO=-2,a2=r=>r==="*";function MO(r,e){let t=r.split("/"),s=t.length;return t.some(a2)&&(s+=LO),e&&(s+=UO),t.filter(o=>!a2(o)).reduce((o,u)=>o+(zO.test(u)?PO:u===""?OO:jO),s)}function FO(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function BO(r,e,t){t===void 0&&(t=!1);let{routesMeta:s}=r,o={},u="/",c=[];for(let p=0;p<s.length;++p){let v=s[p],x=p===s.length-1,N=u==="/"?e:e.slice(u.length)||"/",E=Nv({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},N),R=v.route;if(!E&&x&&t&&!s[s.length-1].route.index&&(E=Nv({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},N)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Oa([u,E.pathname]),pathnameBase:KO(Oa([u,E.pathnameBase])),route:R}),E.pathnameBase!=="/"&&(u=Oa([u,E.pathnameBase]))}return c}function Nv(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=$O(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((x,N,E)=>{let{paramName:R,isOptional:C}=N;if(R==="*"){let A=p[E]||"";c=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const P=p[E];return C&&!P?x[R]=void 0:x[R]=(P||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:c,pattern:r}}function $O(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),uo(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,v)=>(s.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HO(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uo(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function jl(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function qO(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Zd(r):r;return{pathname:t?t.startsWith("/")?t:GO(t,e):e,search:ZO(s),hash:QO(o)}}function GO(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function p_(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WO(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dN(r,e){let t=WO(r);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function mN(r,e,t,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Zd(r):(o=of({},r),ur(!o.pathname||!o.pathname.includes("?"),p_("?","pathname","search",o)),ur(!o.pathname||!o.pathname.includes("#"),p_("#","pathname","hash",o)),ur(!o.search||!o.search.includes("#"),p_("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,p;if(c==null)p=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),E-=1;o.pathname=R.join("/")}p=E>=0?e[E]:"/"}let v=qO(o,p),x=c&&c!=="/"&&c.endsWith("/"),N=(u||c===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(x||N)&&(v.pathname+="/"),v}const Oa=r=>r.join("/").replace(/\/\/+/g,"/"),KO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function YO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const XC=["post","put","patch","delete"];new Set(XC);const JO=["get",...XC];new Set(JO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},lf.apply(this,arguments)}const Rf=Q.createContext(null);Rf.displayName="DataRouter";const hN=Q.createContext(null);hN.displayName="DataRouterState";const XO=Q.createContext(null);XO.displayName="Await";const mo=Q.createContext(null);mo.displayName="Navigation";const Cf=Q.createContext(null);Cf.displayName="Location";const Po=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Po.displayName="Route";const fN=Q.createContext(null);fN.displayName="RouteError";function ej(r,e){let{relative:t}=e===void 0?{}:e;Qd()||ur(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=Q.useContext(mo),{hash:u,pathname:c,search:p}=wf(r,{relative:t}),v=c;return s!=="/"&&(v=c==="/"?s:Oa([s,c])),o.createHref({pathname:v,search:p,hash:u})}function Qd(){return Q.useContext(Cf)!=null}function Gl(){return Qd()||ur(!1,"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Cf).location}const ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tw(r){Q.useContext(mo).static||Q.useLayoutEffect(r)}function Wl(){let{isDataRoute:r}=Q.useContext(Po);return r?fj():tj()}function tj(){Qd()||ur(!1,"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Rf),{basename:e,future:t,navigator:s}=Q.useContext(mo),{matches:o}=Q.useContext(Po),{pathname:u}=Gl(),c=JSON.stringify(dN(o,t.v7_relativeSplatPath)),p=Q.useRef(!1);return tw(()=>{p.current=!0}),Q.useCallback(function(x,N){if(N===void 0&&(N={}),uo(p.current,ew),!p.current)return;if(typeof x=="number"){s.go(x);return}let E=mN(x,JSON.parse(c),u,N.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Oa([e,E.pathname])),(N.replace?s.replace:s.push)(E,N.state,N)},[e,s,c,u,r])}function nw(){let{matches:r}=Q.useContext(Po),e=r[r.length-1];return e?e.params:{}}function wf(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=Q.useContext(mo),{matches:o}=Q.useContext(Po),{pathname:u}=Gl(),c=JSON.stringify(dN(o,s.v7_relativeSplatPath));return Q.useMemo(()=>mN(r,JSON.parse(c),u,t==="path"),[r,c,u,t])}function nj(r,e){return rj(r,e)}function rj(r,e,t,s){Qd()||ur(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(mo),{matches:u}=Q.useContext(Po),c=u[u.length-1],p=c?c.params:{},v=c?c.pathname:"/",x=c?c.pathnameBase:"/",N=c&&c.route;{let J=N&&N.path||"";iw(v,!N||J.endsWith("*"),"You rendered descendant <Routes> (or called `useRoutes()`) at "+('"'+v+'" (under <Route path="'+J+'">) but the ')+`parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

`+('Please change the parent <Route path="'+J+'"> to <Route ')+('path="'+(J==="/"?"*":J+"/*")+'">.'))}let E=Gl(),R;if(e){var C;let J=typeof e=="string"?Zd(e):e;x==="/"||(C=J.pathname)!=null&&C.startsWith(x)||ur(!1,"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was "+('matched by all parent routes. The current pathname base is "'+x+'" ')+('but pathname "'+J.pathname+'" was given in the `location` prop.')),R=J}else R=E;let P=R.pathname||"/",A=P;if(x!=="/"){let J=x.replace(/^\//,"").split("/");A="/"+P.replace(/^\//,"").split("/").slice(J.length).join("/")}let M=IO(r,{pathname:A});uo(N||M!=null,'No routes matched location "'+R.pathname+R.search+R.hash+'" '),uo(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,'Matched leaf route at location "'+R.pathname+R.search+R.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let Y=lj(M&&M.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Oa([x,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?x:Oa([x,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,t,s);return e&&Y?Q.createElement(Cf.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},R),navigationType:zl.Pop}},Y):Y}function ij(){let r=hj(),e=YO(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,c)}const sj=Q.createElement(ij,null);class oj extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Q.createElement(Po.Provider,{value:this.props.routeContext},Q.createElement(fN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aj(r){let{routeContext:e,match:t,children:s}=r,o=Q.useContext(Rf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(Po.Provider,{value:e},s)}function lj(r,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var u;if(!t)return null;if(t.errors)r=t.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,p=(o=t)==null?void 0:o.errors;if(p!=null){let N=c.findIndex(E=>E.route.id&&(p==null?void 0:p[E.route.id])!==void 0);N>=0||ur(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(p).join(",")),c=c.slice(0,Math.min(c.length,N+1))}let v=!1,x=-1;if(t&&s&&s.v7_partialHydration)for(let N=0;N<c.length;N++){let E=c[N];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(x=N),E.route.id){let{loaderData:R,errors:C}=t,P=E.route.loader&&R[E.route.id]===void 0&&(!C||C[E.route.id]===void 0);if(E.route.lazy||P){v=!0,x>=0?c=c.slice(0,x+1):c=[c[0]];break}}}return c.reduceRight((N,E,R)=>{let C,P=!1,A=null,M=null;t&&(C=p&&E.route.id?p[E.route.id]:void 0,A=E.route.errorElement||sj,v&&(x<0&&R===0?(iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,M=null):x===R&&(P=!0,M=E.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,R+1)),J=()=>{let ee;return C?ee=A:P?ee=M:E.route.Component?ee=Q.createElement(E.route.Component,null):E.route.element?ee=E.route.element:ee=N,Q.createElement(aj,{match:E,routeContext:{outlet:N,matches:Y,isDataRoute:t!=null},children:ee})};return t&&(E.route.ErrorBoundary||E.route.errorElement||R===0)?Q.createElement(oj,{location:t.location,revalidation:t.revalidation,component:A,error:C,children:J(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):J()},null)}var rw=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(rw||{}),uf=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(uf||{});function pN(r){return r+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function uj(r){let e=Q.useContext(Rf);return e||ur(!1,pN(r)),e}function cj(r){let e=Q.useContext(hN);return e||ur(!1,pN(r)),e}function dj(r){let e=Q.useContext(Po);return e||ur(!1,pN(r)),e}function gN(r){let e=dj(r),t=e.matches[e.matches.length-1];return t.route.id||ur(!1,r+' can only be used on routes that contain a unique "id"'),t.route.id}function mj(){return gN(uf.UseRouteId)}function hj(){var r;let e=Q.useContext(fN),t=cj(uf.UseRouteError),s=gN(uf.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function fj(){let{router:r}=uj(rw.UseNavigateStable),e=gN(uf.UseNavigateStable),t=Q.useRef(!1);return tw(()=>{t.current=!0}),Q.useCallback(function(o,u){u===void 0&&(u={}),uo(t.current,ew),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,lf({fromRouteId:e},u)))},[r,e])}const l2={};function iw(r,e,t){!e&&!l2[r]&&(l2[r]=!0,uo(!1,t))}const u2={};function pj(r,e){u2[e]||(u2[e]=!0,console.warn(e))}const fd=(r,e,t)=>pj(r,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+r+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function gj(r,e){(r==null?void 0:r.v7_startTransition)===void 0&&fd("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(r==null?void 0:r.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath===void 0)&&fd("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&fd("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&fd("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&fd("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&fd("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function kd(r){let{to:e,replace:t,state:s,relative:o}=r;Qd()||ur(!1,"<Navigate> may be used only in the context of a <Router> component.");let{future:u,static:c}=Q.useContext(mo);uo(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=Q.useContext(Po),{pathname:v}=Gl(),x=Wl(),N=mN(e,dN(p,u.v7_relativeSplatPath),v,o==="path"),E=JSON.stringify(N);return Q.useEffect(()=>x(JSON.parse(E),{replace:t,state:s,relative:o}),[x,E,o,t,s]),null}function Vo(r){ur(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vj(r){let{basename:e="/",children:t=null,location:s,navigationType:o=zl.Pop,navigator:u,static:c=!1,future:p}=r;Qd()&&ur(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=e.replace(/^\/*/,"/"),x=Q.useMemo(()=>({basename:v,navigator:u,static:c,future:lf({v7_relativeSplatPath:!1},p)}),[v,p,u,c]);typeof s=="string"&&(s=Zd(s));let{pathname:N="/",search:E="",hash:R="",state:C=null,key:P="default"}=s,A=Q.useMemo(()=>{let M=jl(N,v);return M==null?null:{location:{pathname:M,search:E,hash:R,state:C,key:P},navigationType:o}},[v,N,E,R,C,P,o]);return uo(A!=null,'<Router basename="'+v+'"> is not able to match the URL '+('"'+N+E+R+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),A==null?null:Q.createElement(mo.Provider,{value:x},Q.createElement(Cf.Provider,{children:t,value:A}))}function bj(r){let{children:e,location:t}=r;return nj(P_(e),t)}new Promise(()=>{});function P_(r,e){e===void 0&&(e=[]);let t=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){t.push.apply(t,P_(s.props.children,u));return}s.type!==Vo&&ur(!1,"["+(typeof s.type=="string"?s.type:s.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),!s.props.index||!s.props.children||ur(!1,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=P_(s.props.children,u)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Id.apply(this,arguments)}function vN(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}const cv="get",dv="application/x-www-form-urlencoded";function $v(r){return r!=null&&typeof r.tagName=="string"}function yj(r){return $v(r)&&r.tagName.toLowerCase()==="button"}function xj(r){return $v(r)&&r.tagName.toLowerCase()==="form"}function _j(r){return $v(r)&&r.tagName.toLowerCase()==="input"}function Nj(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Tj(r,e){return r.button===0&&(!e||e==="_self")&&!Nj(r)}function U_(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let s=r[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function Ej(r,e){let t=U_(r);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}let tv=null;function Dj(){if(tv===null)try{new FormData(document.createElement("form"),0),tv=!1}catch{tv=!0}return tv}const Rj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g_(r){return r!=null&&!Rj.has(r)?(uo(!1,'"'+r+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+dv+'"')),null):r}function Cj(r,e){let t,s,o,u,c;if(xj(r)){let p=r.getAttribute("action");s=p?jl(p,e):null,t=r.getAttribute("method")||cv,o=g_(r.getAttribute("enctype"))||dv,u=new FormData(r)}else if(yj(r)||_j(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||p.getAttribute("action");if(s=v?jl(v,e):null,t=r.getAttribute("formmethod")||p.getAttribute("method")||cv,o=g_(r.getAttribute("formenctype"))||g_(p.getAttribute("enctype"))||dv,u=new FormData(p,r),!Dj()){let{name:x,type:N,value:E}=r;if(N==="image"){let R=x?x+".":"";u.append(R+"x","0"),u.append(R+"y","0")}else x&&u.append(x,E)}}else{if($v(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cv,s=null,o=dv,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}const wj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kj=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],Ij="6";try{window.__reactRouterVersion=Ij}catch{}const sw=Q.createContext({isTransitioning:!1});sw.displayName="ViewTransition";const Vj=Q.createContext(new Map);Vj.displayName="Fetchers";const Aj="startTransition",c2=RO[Aj];function zj(r){let{basename:e,children:t,future:s,window:o}=r,u=Q.useRef();u.current==null&&(u.current=wO({window:o,v5Compat:!0}));let c=u.current,[p,v]=Q.useState({action:c.action,location:c.location}),{v7_startTransition:x}=s||{},N=Q.useCallback(E=>{x&&c2?c2(()=>v(E)):v(E)},[v,x]);return Q.useLayoutEffect(()=>c.listen(N),[c,N]),Q.useEffect(()=>gj(s),[s]),Q.createElement(vj,{basename:e,children:t,location:p.location,navigationType:p.action,navigator:c,future:s})}const Pj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dd=Q.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:u,replace:c,state:p,target:v,to:x,preventScrollReset:N,viewTransition:E}=e,R=vN(e,wj),{basename:C}=Q.useContext(mo),P,A=!1;if(typeof x=="string"&&Uj.test(x)&&(P=x,Pj))try{let ee=new URL(window.location.href),pe=x.startsWith("//")?new URL(ee.protocol+x):new URL(x),ye=jl(pe.pathname,C);pe.origin===ee.origin&&ye!=null?x=ye+pe.search+pe.hash:A=!0}catch{uo(!1,'<Link to="'+x+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let M=ej(x,{relative:o}),Y=Mj(x,{replace:c,state:p,target:v,preventScrollReset:N,relative:o,viewTransition:E});function J(ee){s&&s(ee),ee.defaultPrevented||Y(ee)}return Q.createElement("a",Id({},R,{href:P||M,onClick:A||u?s:J,ref:t,target:v}))});Dd.displayName="Link";const Oj=Q.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:u="",end:c=!1,style:p,to:v,viewTransition:x,children:N}=e,E=vN(e,Sj),R=wf(v,{relative:E.relative}),C=Gl(),P=Q.useContext(hN),{navigator:A,basename:M}=Q.useContext(mo),Y=P!=null&&Wj(R)&&x===!0,J=A.encodeLocation?A.encodeLocation(R).pathname:R.pathname,ee=C.pathname,pe=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(ee=ee.toLowerCase(),pe=pe?pe.toLowerCase():null,J=J.toLowerCase()),pe&&M&&(pe=jl(pe,M)||pe);const ye=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let te=ee===J||!c&&ee.startsWith(J)&&ee.charAt(ye)==="/",F=pe!=null&&(pe===J||!c&&pe.startsWith(J)&&pe.charAt(J.length)==="/"),$={isActive:te,isPending:F,isTransitioning:Y},q=te?s:void 0,G;typeof u=="function"?G=u($):G=[u,te?"active":null,F?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let K=typeof p=="function"?p($):p;return Q.createElement(Dd,Id({},E,{"aria-current":q,className:G,ref:t,style:K,to:v,viewTransition:x}),typeof N=="function"?N($):N)});Oj.displayName="NavLink";const jj=Q.forwardRef((r,e)=>{let{fetcherKey:t,navigate:s,reloadDocument:o,replace:u,state:c,method:p=cv,action:v,onSubmit:x,relative:N,preventScrollReset:E,viewTransition:R}=r,C=vN(r,kj),P=qj(),A=Gj(v,{relative:N}),M=p.toLowerCase()==="get"?"get":"post",Y=J=>{if(x&&x(J),J.defaultPrevented)return;J.preventDefault();let ee=J.nativeEvent.submitter,pe=(ee==null?void 0:ee.getAttribute("formmethod"))||p;P(ee||J.currentTarget,{fetcherKey:t,method:pe,navigate:s,replace:u,state:c,relative:N,preventScrollReset:E,viewTransition:R})};return Q.createElement("form",Id({ref:e,method:M,action:A,onSubmit:o?x:Y},C))});jj.displayName="Form";var Tv;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Tv||(Tv={}));var d2;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(d2||(d2={}));function Lj(r){return r+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function ow(r){let e=Q.useContext(Rf);return e||ur(!1,Lj(r)),e}function Mj(r,e){let{target:t,replace:s,state:o,preventScrollReset:u,relative:c,viewTransition:p}=e===void 0?{}:e,v=Wl(),x=Gl(),N=wf(r,{relative:c});return Q.useCallback(E=>{if(Tj(E,t)){E.preventDefault();let R=s!==void 0?s:af(x)===af(N);v(r,{replace:R,state:o,preventScrollReset:u,relative:c,viewTransition:p})}},[x,v,N,s,o,t,r,u,c,p])}function Fj(r){uo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=Q.useRef(U_(r)),t=Q.useRef(!1),s=Gl(),o=Q.useMemo(()=>Ej(s.search,t.current?null:e.current),[s.search]),u=Wl(),c=Q.useCallback((p,v)=>{const x=U_(typeof p=="function"?p(o):p);t.current=!0,u("?"+x,v)},[u,o]);return[o,c]}function Bj(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let $j=0,Hj=()=>"__"+String(++$j)+"__";function qj(){let{router:r}=ow(Tv.UseSubmit),{basename:e}=Q.useContext(mo),t=mj();return Q.useCallback(function(s,o){o===void 0&&(o={}),Bj();let{action:u,method:c,encType:p,formData:v,body:x}=Cj(s,e);if(o.navigate===!1){let N=o.fetcherKey||Hj();r.fetch(N,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:v,body:x,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:v,body:x,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function Gj(r,e){let{relative:t}=e===void 0?{}:e,{basename:s}=Q.useContext(mo),o=Q.useContext(Po);o||ur(!1,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),c=Id({},wf(r||".",{relative:t})),p=Gl();if(r==null){c.search=p.search;let v=new URLSearchParams(c.search),x=v.getAll("index");if(x.some(E=>E==="")){v.delete("index"),x.filter(R=>R).forEach(R=>v.append("index",R));let E=v.toString();c.search=E?"?"+E:""}}return(!r||r===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Oa([s,c.pathname])),af(c)}function Wj(r,e){e===void 0&&(e={});let t=Q.useContext(sw);t==null&&ur(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ow(Tv.useViewTransitionState),o=wf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=jl(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=jl(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Nv(o.pathname,c)!=null||Nv(o.pathname,u)!=null}const m2=r=>{let e;const t=new Set,s=(N,E)=>{const R=typeof N=="function"?N(e):N;if(!Object.is(R,e)){const C=e;e=E??(typeof R!="object"||R===null)?R:Object.assign({},e,R),t.forEach(P=>P(e,C))}},o=()=>e,v={setState:s,getState:o,getInitialState:()=>x,subscribe:N=>(t.add(N),()=>t.delete(N)),destroy:()=>{t.clear()}},x=e=r(s,o,v);return v},Kj=r=>r?m2(r):m2;var aw={exports:{}},lw={},uw={exports:{}},cw={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function r(C,P){return C===P&&(C!==0||1/C===1/P)||C!==C&&P!==P}function e(C,P){N||o.startTransition===void 0||(N=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var A=P();if(!E){var M=P();u(A,M)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),E=!0)}M=c({inst:{value:A,getSnapshot:P}});var Y=M[0].inst,J=M[1];return v(function(){Y.value=A,Y.getSnapshot=P,t(Y)&&J({inst:Y})},[C,A,P]),p(function(){return t(Y)&&J({inst:Y}),C(function(){t(Y)&&J({inst:Y})})},[C]),x(A),A}function t(C){var P=C.getSnapshot;C=C.value;try{var A=P();return!u(C,A)}catch{return!0}}function s(C,P){return P()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var o=Q,u=typeof Object.is=="function"?Object.is:r,c=o.useState,p=o.useEffect,v=o.useLayoutEffect,x=o.useDebugValue,N=!1,E=!1,R=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s:e;cw.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:R,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})();uw.exports=cw;var Zj=uw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function r(x,N){return x===N&&(x!==0||1/x===1/N)||x!==x&&N!==N}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e=Q,t=Zj,s=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,u=e.useRef,c=e.useEffect,p=e.useMemo,v=e.useDebugValue;lw.useSyncExternalStoreWithSelector=function(x,N,E,R,C){var P=u(null);if(P.current===null){var A={hasValue:!1,value:null};P.current=A}else A=P.current;P=p(function(){function Y(te){if(!J){if(J=!0,ee=te,te=R(te),C!==void 0&&A.hasValue){var F=A.value;if(C(F,te))return pe=F}return pe=te}if(F=pe,s(ee,te))return F;var $=R(te);return C!==void 0&&C(F,$)?(ee=te,F):(ee=te,pe=$)}var J=!1,ee,pe,ye=E===void 0?null:E;return[function(){return Y(N())},ye===null?void 0:function(){return Y(ye())}]},[N,E,R,C]);var M=o(x,P[0],P[1]);return c(function(){A.hasValue=!0,A.value=M},[M]),v(M),M},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})();aw.exports=lw;var Qj=aw.exports;const Yj=qC(Qj),{useDebugValue:Jj}=Ol,{useSyncExternalStoreWithSelector:Xj}=Yj;const eL=r=>r;function tL(r,e=eL,t){const s=Xj(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return Jj(s),s}const h2=r=>{const e=typeof r=="function"?Kj(r):r,t=(s,o)=>tL(e,s,o);return Object.assign(t,e),t},dw=r=>r?h2(r):h2,nL=r=>(e,t,s)=>{const o=s.subscribe;return s.subscribe=(c,p,v)=>{let x=c;if(p){const N=(v==null?void 0:v.equalityFn)||Object.is;let E=c(s.getState());x=R=>{const C=c(R);if(!N(E,C)){const P=E;p(E=C,P)}},v!=null&&v.fireImmediately&&p(E,E)}return o(x)},r(e,t,s)},mw=nL,rL="modulepreload",iL=function(r){return"/doctorcar-app/"+r},f2={},sL=function(e,t,s){if(!t||t.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=iL(u),u in f2)return;f2[u]=!0;const c=u.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(!!s)for(let N=o.length-1;N>=0;N--){const E=o[N];if(E.href===u&&(!c||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${p}`))return;const x=document.createElement("link");if(x.rel=c?"stylesheet":rL,c||(x.as="script",x.crossOrigin=""),x.href=u,document.head.appendChild(x),c)return new Promise((N,E)=>{x.addEventListener("load",N),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e()).catch(u=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u})},p2={development:{firebase:{apiKey:"demo-api-key",authDomain:"demo-doctorcar.firebaseapp.com",projectId:"demo-doctorcar",storageBucket:"demo-doctorcar.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo"},enableEmulator:!0,enableLogging:!0},production:{firebase:{apiKey:"demo-api-key",authDomain:"demo-doctorcar.firebaseapp.com",projectId:"demo-doctorcar",storageBucket:"demo-doctorcar.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo"},enableEmulator:!1,enableLogging:!1},demo:{firebase:{apiKey:"demo-api-key",authDomain:"demo-doctorcar.firebaseapp.com",projectId:"demo-doctorcar",storageBucket:"demo-doctorcar.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo"},enableEmulator:!1,enableLogging:!0,demoMode:!0}},hw="production",fw=!0;console.log("Environment check:",{MODE:"production",VITE_MODE:"demo",currentEnv:hw,isDemoMode:fw,allEnvVars:{VITE_MODE:"demo",VITE_FIREBASE_API_KEY:"demo-api-key",VITE_FIREBASE_AUTH_DOMAIN:"demo-doctorcar.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"demo-doctorcar",VITE_FIREBASE_STORAGE_BUCKET:"demo-doctorcar.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"123456789",VITE_FIREBASE_APP_ID:"1:123456789:web:demo",VITE_APP_NAME:"Doctor Car App (Demo)",VITE_APP_VERSION:"1.0.0-demo",VITE_LOCATION_UPDATE_INTERVAL:"10000",VITE_USER_NODE_ENV:"development",BASE_URL:"/doctorcar-app/",MODE:"production",DEV:!0,PROD:!1,SSR:!1}});const ja={...p2[hw]||p2.production,demoMode:fw},Hr=(r,e)=>({latitude:r,longitude:e,isEqual:t=>t.latitude===r&&t.longitude===e,toJSON:()=>({latitude:r,longitude:e})}),Ar=r=>({toDate:()=>r,toMillis:()=>r.getTime(),seconds:Math.floor(r.getTime()/1e3),nanoseconds:r.getTime()%1e3*1e6}),Jh={"doctor-001":{uid:"doctor-001",name:"山田 太郎",role:"doctor_car",team:"東京科学大学病院ドクターカー",email:"doctor@demo.com"},"hospital-001":{uid:"hospital-001",name:"佐藤 花子",role:"hospital",team:"東京科学大学病院",email:"hospital@demo.com"}},kl=[{id:"case-001",caseName:"2024-12-14 新宿駅南口 交通外傷",status:"on_scene",teamId:"doctor-001",patientInfo:{age:45,gender:"male",name:"田中 一郎"},sceneLocation:Hr(35.689487,139.691706),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T10:00:00Z")),updatedAt:Ar(new Date("2024-12-14T10:30:00Z"))},{id:"case-002",caseName:"2024-12-13 信濃町駅前 心肺停止",status:"completed",teamId:"doctor-001",patientInfo:{age:67,gender:"female",name:"鈴木 恵子"},sceneLocation:Hr(35.687846,139.719947),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-13T14:00:00Z")),updatedAt:Ar(new Date("2024-12-13T16:45:00Z"))},{id:"case-003",caseName:"2024-12-14 四谷三丁目 意識不明",status:"dispatched",teamId:"doctor-001",patientInfo:{age:28,gender:"male"},sceneLocation:Hr(35.686611,139.728694),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T11:00:00Z")),updatedAt:Ar(new Date("2024-12-14T11:00:00Z"))},{id:"case-004",caseName:"2024-12-14 曙橋駅 転落事故",status:"on_scene",teamId:"doctor-001",patientInfo:{age:52,gender:"female",name:"高橋 美奈子"},sceneLocation:Hr(35.694611,139.738028),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T12:00:00Z")),updatedAt:Ar(new Date("2024-12-14T12:15:00Z"))},{id:"case-005",caseName:"2024-12-14 六本木ヒルズ47階 急病",status:"dispatched",teamId:"doctor-001",patientInfo:{age:58,gender:"male",name:"伊藤 健一",buildingInfo:{buildingName:"六本木ヒルズ森タワー",floor:47,description:"エレベーターホール付近",accessNotes:"業務用エレベーター使用可、警備員待機中"}},sceneLocation:Hr(35.660419,139.729435),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T13:00:00Z")),updatedAt:Ar(new Date("2024-12-14T13:05:00Z"))},{id:"case-006",caseName:"2024-12-14 東京駅八重洲中央口 心臓発作",status:"on_scene",teamId:"doctor-001",patientInfo:{age:72,gender:"male",name:"山口 正夫",buildingInfo:{buildingName:"東京駅",floor:1,description:"八重洲中央口改札内、みどりの窓口前",accessNotes:"駅員誘導あり、混雑により搬送経路確保中"}},sceneLocation:Hr(35.680889,139.767981),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T14:00:00Z")),updatedAt:Ar(new Date("2024-12-14T14:10:00Z"))},{id:"case-007",caseName:"2024-12-14 虎ノ門ヒルズ35階 呼吸困難",status:"completed",teamId:"doctor-001",patientInfo:{age:41,gender:"female",name:"村田 由美子",buildingInfo:{buildingName:"虎ノ門ヒルズ森タワー",floor:35,description:"オフィスフロア会議室C",accessNotes:"専用エレベーター使用、ビル管理者対応済"}},sceneLocation:Hr(35.666938,139.749444),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T09:00:00Z")),updatedAt:Ar(new Date("2024-12-14T10:30:00Z"))},{id:"case-008",caseName:"2024-12-14 大手町駅丸の内線ホーム 転倒事故",status:"dispatched",teamId:"doctor-001",patientInfo:{age:35,gender:"female",name:"小林 真由美",buildingInfo:{buildingName:"大手町駅",floor:-2,description:"丸の内線ホーム中央付近",accessNotes:"駅員誘導、エスカレーター停止済、担架搬送ルート確保"}},sceneLocation:Hr(35.686292,139.766103),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T15:00:00Z")),updatedAt:Ar(new Date("2024-12-14T15:00:00Z"))},{id:"case-009",caseName:"2024-12-14 渋谷スクランブルスクエア39階 意識消失",status:"on_scene",teamId:"doctor-001",patientInfo:{age:63,gender:"male",name:"松本 太一",buildingInfo:{buildingName:"渋谷スクランブルスクエア",floor:39,description:"スカイロビー展望エリア",accessNotes:"高速エレベーター優先使用可、スタッフ待機"}},sceneLocation:Hr(35.658514,139.702249),hospitalLocation:Hr(35.699374,139.762881),createdAt:Ar(new Date("2024-12-14T16:00:00Z")),updatedAt:Ar(new Date("2024-12-14T16:20:00Z"))}],xd={CURRENT_USER:"demo_current_user",CASES:"demo_cases"},ws={setCurrentUser:r=>{r?localStorage.setItem(xd.CURRENT_USER,JSON.stringify(r)):localStorage.removeItem(xd.CURRENT_USER)},getCurrentUser:()=>{const r=localStorage.getItem(xd.CURRENT_USER);return r?JSON.parse(r):null},setCases:r=>{localStorage.setItem(xd.CASES,JSON.stringify(r))},getCases:()=>{const r=localStorage.getItem(xd.CASES);if(r){const e=JSON.parse(r),t=e.map(u=>u.id);return kl.map(u=>u.id).every(u=>t.includes(u))?e.map(u=>({...u,createdAt:Ar(new Date(u.createdAt.seconds*1e3)),updatedAt:Ar(new Date(u.updatedAt.seconds*1e3)),sceneLocation:Hr(u.sceneLocation.latitude,u.sceneLocation.longitude),hospitalLocation:Hr(u.hospitalLocation.latitude,u.hospitalLocation.longitude)})):(ws.setCases(kl),kl)}return ws.setCases(kl),kl}},oL=()=>{localStorage.removeItem(xd.CASES),ws.setCases(kl),console.log("Demo data refreshed with all cases:",kl.map(r=>r.id))},Sf={login:async(r,e)=>{const t=Object.values(Jh).find(s=>s.email===r);if(!t||e!=="demo123456")throw new Error("ログイン情報が正しくありません");return ws.setCurrentUser(t),t},logout:async()=>{ws.setCurrentUser(null)},getCurrentUser:()=>ws.getCurrentUser(),loginAsDoctorCarMember:async()=>{const r=Jh["doctor-001"];return ws.setCurrentUser(r),r},loginAsHospitalStaff:async()=>{const r=Jh["hospital-001"];return ws.setCurrentUser(r),r}},kf={getAllCases:async()=>(await new Promise(r=>setTimeout(r,500)),ws.getCases()),getCaseById:async r=>(await new Promise(t=>setTimeout(t,300)),ws.getCases().find(t=>t.id===r)||null),updateCaseStatus:async(r,e)=>{await new Promise(o=>setTimeout(o,200));const t=ws.getCases(),s=t.findIndex(o=>o.id===r);s!==-1&&(t[s]={...t[s],status:e,updatedAt:Ar(new Date)},ws.setCases(t))}},aL=Object.freeze(Object.defineProperty({__proto__:null,DEMO_CASES:kl,DEMO_USERS:Jh,demoAuthService:Sf,demoCaseService:kf,demoStorage:ws,refreshDemoData:oL},Symbol.toStringTag,{value:"Module"})),lL=async(r,e)=>await Sf.login(r,e),uL=async()=>await Sf.logout(),cL=async()=>await Sf.loginAsDoctorCarMember(),dL=async()=>await Sf.loginAsHospitalStaff(),g2=async r=>Jh[r]||null,Kl=dw()(mw(r=>({currentUser:null,userInfo:null,isAuthenticated:!1,loading:!0,error:null,setUser:e=>{r({currentUser:e,isAuthenticated:!!e,loading:!1})},setUserInfo:e=>{r({userInfo:e})},setLoading:e=>{r({loading:e})},setError:e=>{r({error:e})},login:async(e,t)=>{try{r({loading:!0,error:null});const s=await lL(e,t),o=await g2(s.uid);r({currentUser:s,userInfo:o,isAuthenticated:!0,loading:!1,error:null})}catch(s){r({error:s instanceof Error?s.message:"ログインに失敗しました",loading:!1,currentUser:null,userInfo:null,isAuthenticated:!1})}},loginDemo:async e=>{try{r({loading:!0,error:null});const t=e==="doctor_car"?await cL():await dL(),s=await g2(t.uid);r({currentUser:t,userInfo:s,isAuthenticated:!0,loading:!1,error:null})}catch(t){r({error:t instanceof Error?t.message:"デモログインに失敗しました",loading:!1})}},logout:async()=>{try{await uL(),r({currentUser:null,userInfo:null,isAuthenticated:!1,loading:!1,error:null})}catch(e){r({error:e instanceof Error?e.message:"ログアウトに失敗しました"})}},initialize:()=>(console.log("Initializing demo mode authentication"),setTimeout(()=>{try{const e=ws.getCurrentUser();console.log("Stored user:",e),r(e?{currentUser:e,userInfo:e,isAuthenticated:!0,loading:!1,error:null}:{currentUser:null,userInfo:null,isAuthenticated:!1,loading:!1,error:null})}catch(e){console.error("Demo mode initialization error:",e),r({currentUser:null,userInfo:null,isAuthenticated:!1,loading:!1,error:null})}},0),()=>{}),reset:()=>{r({currentUser:null,userInfo:null,isAuthenticated:!1,loading:!0,error:null})}}))),mL=async()=>await kf.getAllCases(),hL=async r=>await kf.getCaseById(r),fL=(r,e)=>{{let t=!1;return kf.getCaseById(r).then(s=>{t||e(s)}).catch(s=>{t||(console.error("Demo observeCase error:",s),e(null))}),()=>{t=!0}}},pL=async(r,e)=>await kf.updateCaseStatus(r,e),gL=async r=>{{const e=`demo-case-${Date.now()}`,t={...r,id:e},{demoStorage:s}=await sL(()=>Promise.resolve().then(()=>aL),void 0),o=s.getCases(),u=[t,...o];return s.setCases(u),e}},Hv=dw()(mw((r,e)=>({cases:[],currentCase:null,loading:!1,error:null,caseObserver:null,setCases:t=>r({cases:t}),setCurrentCase:t=>r({currentCase:t}),setLoading:t=>r({loading:t}),setError:t=>r({error:t}),loadCases:async()=>{try{r({loading:!0,error:null});const t=await mL();r({cases:t,loading:!1})}catch(t){r({error:t instanceof Error?t.message:"事案の取得に失敗しました",loading:!1})}},loadCurrentCase:async t=>{try{r({loading:!0,error:null});const s=await hL(t);e().loading&&r({currentCase:s,loading:!1})}catch(s){e().loading&&r({error:s instanceof Error?s.message:"事案の取得に失敗しました",loading:!1})}},updateStatus:async(t,s)=>{try{r({error:null}),await pL(t,s);const{currentCase:o,cases:u}=e();o&&o.id===t&&r({currentCase:{...o,status:s}});const c=u.map(p=>p.id===t?{...p,status:s}:p);r({cases:c})}catch(o){r({error:o instanceof Error?o.message:"ステータス更新に失敗しました"})}},createCase:async t=>{try{r({loading:!0,error:null});const s=await gL(t);return await e().loadCases(),s}catch(s){throw r({error:s instanceof Error?s.message:"事案の作成に失敗しました",loading:!1}),s}},startObservingCase:t=>{try{e().stopObservingCase();const s=fL(t,o=>{e().caseObserver&&r({currentCase:o})});r({caseObserver:s})}catch(s){console.error("Failed to start observing case:",s),r({error:s instanceof Error?s.message:"事案の監視に失敗しました"})}},stopObservingCase:()=>{try{const{caseObserver:t}=e();t&&(t(),r({caseObserver:null}))}catch(t){console.error("Failed to stop observing case:",t),r({caseObserver:null})}},reset:()=>{e().stopObservingCase(),r({cases:[],currentCase:null,loading:!1,error:null,caseObserver:null})}}))),vL=()=>{const{initialize:r}=Kl();return{initialize:()=>{const e=r();return()=>{e()}}}},zo=({size:r="md",className:e=""})=>{const t={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return h.jsxDEV("div",{"data-testid":"loading-spinner",className:`animate-spin rounded-full border-b-2 border-medical-primary ${t[r]} ${e}`},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/LoadingSpinner.tsx",lineNumber:19,columnNumber:5},globalThis)},an=({variant:r="primary",size:e="md",loading:t=!1,disabled:s,children:o,className:u="",...c})=>{const p="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",v={primary:"bg-medical-primary text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-medical-danger text-white hover:bg-red-700 focus:ring-red-500",outline:"border-2 border-medical-primary text-medical-primary hover:bg-medical-primary hover:text-white focus:ring-blue-500"},x={sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},N=s||t,E=N?"opacity-50 cursor-not-allowed":"",R=[p,v[r],x[e],E,u].filter(Boolean).join(" ");return h.jsxDEV("button",{...c,disabled:N,className:R,children:[t&&h.jsxDEV(zo,{size:"sm",className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Button.tsx",lineNumber:53,columnNumber:9},globalThis),o]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Button.tsx",lineNumber:47,columnNumber:5},globalThis)},We=({label:r,error:e,helperText:t,className:s="",required:o,disabled:u,...c})=>{const p=Ol.useId(),E=["block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 transition-colors",e?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-medical-primary focus:ring-medical-primary",u?"bg-gray-100 cursor-not-allowed":"bg-white",s].filter(Boolean).join(" ");return h.jsxDEV("div",{className:"space-y-1",children:[r&&h.jsxDEV("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700",children:[r,o&&h.jsxDEV("span",{className:"text-red-500 ml-1",children:"*"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Input.tsx",lineNumber:45,columnNumber:24},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Input.tsx",lineNumber:40,columnNumber:9},globalThis),h.jsxDEV("input",{...c,id:p,disabled:u,className:E},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Input.tsx",lineNumber:49,columnNumber:7},globalThis),e&&h.jsxDEV("p",{className:"text-sm text-red-600",children:e},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Input.tsx",lineNumber:57,columnNumber:9},globalThis),t&&!e&&h.jsxDEV("p",{className:"text-sm text-gray-500",children:t},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Input.tsx",lineNumber:63,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Input.tsx",lineNumber:38,columnNumber:5},globalThis)};class bL extends Ol.Component{constructor(t){super(t);ra(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){this.setState({error:t,errorInfo:s}),console.error("ErrorBoundary caught an error:",{error:t,message:t.message,stack:t.stack,errorInfo:s,componentStack:s.componentStack,timestamp:new Date().toISOString(),url:window.location.href}),this.props.onError&&this.props.onError(t,s)}render(){var t;return this.state.hasError?this.props.fallback?this.props.fallback:h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:h.jsxDEV("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[h.jsxDEV("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:h.jsxDEV("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.96-.833-2.73 0L3.084 16.5c-.77.833.192 2.5 1.732 2.5z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:63,columnNumber:17},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:62,columnNumber:15},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:61,columnNumber:13},this),h.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"エラーが発生しました"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:67,columnNumber:13},this),h.jsxDEV("p",{className:"text-gray-600 mb-6",children:"予期しないエラーが発生しました。ページを再読み込みしてください。"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:71,columnNumber:13},this),h.jsxDEV(an,{onClick:this.handleReload,className:"w-full mb-4",children:"ページを再読み込み"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:75,columnNumber:13},this),this.state.error&&h.jsxDEV("details",{className:"text-left mt-4 p-4 bg-red-50 rounded border",children:[h.jsxDEV("summary",{className:"cursor-pointer font-medium text-red-800 mb-2",children:"エラー詳細 (開発モード)"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:81,columnNumber:17},this),h.jsxDEV("pre",{className:"text-sm text-red-700 whitespace-pre-wrap overflow-auto",children:[this.state.error.message,(t=this.state.errorInfo)==null?void 0:t.componentStack]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:84,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:60,columnNumber:11},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/ErrorBoundary.tsx",lineNumber:59,columnNumber:9},this):this.props.children}}const yL=({isOpen:r,onClose:e,title:t,children:s,size:o="md",showCloseButton:u=!0})=>{if(Q.useEffect(()=>{const v=x=>{x.key==="Escape"&&e()};return r&&(document.addEventListener("keydown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",v),document.body.style.overflow="unset"}},[r,e]),!r)return null;const c=()=>{switch(o){case"sm":return"max-w-md";case"md":return"max-w-lg";case"lg":return"max-w-4xl";case"xl":return"max-w-6xl";case"full":return"w-full h-full max-w-none m-0";default:return"max-w-lg"}},p=h.jsxDEV("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[h.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:63,columnNumber:7},globalThis),h.jsxDEV("div",{className:o==="full"?"h-full":"flex items-center justify-center min-h-screen p-4",children:h.jsxDEV("div",{className:`relative bg-white ${o==="full"?"h-full":"rounded-lg"} shadow-xl ${c()} ${o==="full"?"h-full":"max-h-[90vh]"}`,onClick:v=>v.stopPropagation(),children:[(t||u)&&h.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:t},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:79,columnNumber:15},globalThis),u&&h.jsxDEV("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:h.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:88,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:87,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:83,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:78,columnNumber:13},globalThis),h.jsxDEV("div",{className:`${o==="full"?t||u?"h-[calc(100vh-5rem)]":"h-full":"max-h-[calc(90vh-8rem)] overflow-y-auto"} ${t||u?"":"p-6"}`,children:s},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:96,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:70,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:69,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/common/Modal.tsx",lineNumber:61,columnNumber:5},globalThis);return cN.createPortal(p,document.body)},pd=({children:r,requiredRole:e})=>{const{isAuthenticated:t,userInfo:s,loading:o}=Kl();return o?h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxDEV(zo,{size:"lg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/auth/ProtectedRoute.tsx",lineNumber:20,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/auth/ProtectedRoute.tsx",lineNumber:19,columnNumber:7},globalThis):t?e&&(s==null?void 0:s.role)!==e?h.jsxDEV(kd,{to:"/unauthorized",replace:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/auth/ProtectedRoute.tsx",lineNumber:30,columnNumber:12},globalThis):h.jsxDEV(h.Fragment,{children:r},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/auth/ProtectedRoute.tsx",lineNumber:33,columnNumber:10},globalThis):h.jsxDEV(kd,{to:"/login",replace:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/auth/ProtectedRoute.tsx",lineNumber:26,columnNumber:12},globalThis)},xL=()=>{const[r,e]=Q.useState(""),[t,s]=Q.useState(""),[o,u]=Q.useState({}),{login:c,loginDemo:p,loading:v,error:x,isAuthenticated:N}=Kl();if(N)return h.jsxDEV(kd,{to:"/cases",replace:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:18,columnNumber:12},globalThis);const E=()=>{const P={};return r?/\S+@\S+\.\S+/.test(r)||(P.email="有効なメールアドレスを入力してください"):P.email="メールアドレスを入力してください",t?t.length<6&&(P.password="パスワードは6文字以上で入力してください"):P.password="パスワードを入力してください",u(P),Object.keys(P).length===0},R=async P=>{P.preventDefault(),E()&&await c(r,t)},C=async P=>{await p(P)};return h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("div",{className:"mx-auto h-12 w-12 bg-medical-primary rounded-full flex items-center justify-center",children:h.jsxDEV("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:60,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:59,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:58,columnNumber:11},globalThis),h.jsxDEV("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Doctor Car App"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:63,columnNumber:11},globalThis),h.jsxDEV("p",{className:"mt-2 text-center text-sm text-gray-600",children:"ドクターカー運用支援システム"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:66,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:57,columnNumber:9},globalThis),h.jsxDEV("form",{className:"mt-8 space-y-6",onSubmit:R,children:[h.jsxDEV("div",{className:"space-y-4",children:[h.jsxDEV(We,{label:"メールアドレス",type:"email",value:r,onChange:P=>e(P.target.value),error:o.email,placeholder:"doctor@example.com",required:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:73,columnNumber:13},globalThis),h.jsxDEV(We,{label:"パスワード",type:"password",value:t,onChange:P=>s(P.target.value),error:o.password,placeholder:"••••••••",required:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:83,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:72,columnNumber:11},globalThis),x&&h.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:h.jsxDEV("p",{className:"text-sm text-red-600",children:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:96,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:95,columnNumber:13},globalThis),h.jsxDEV(an,{type:"submit",className:"w-full",loading:v,disabled:v,children:"ログイン"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:100,columnNumber:11},globalThis),h.jsxDEV("div",{className:"mt-6",children:[h.jsxDEV("div",{className:"relative",children:[h.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:h.jsxDEV("div",{className:"w-full border-t border-gray-300"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:112,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:111,columnNumber:15},globalThis),h.jsxDEV("div",{className:"relative flex justify-center text-sm",children:h.jsxDEV("span",{className:"px-2 bg-gray-50 text-gray-500",children:"デモ用アカウント"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:115,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:114,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:110,columnNumber:13},globalThis),h.jsxDEV("div",{className:"mt-6 grid grid-cols-1 gap-3",children:[h.jsxDEV(an,{variant:"outline",onClick:()=>C("doctor_car"),disabled:v,className:"w-full",children:"デモ用: ドクターカー隊員でログイン"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:120,columnNumber:15},globalThis),h.jsxDEV(an,{variant:"outline",onClick:()=>C("hospital"),disabled:v,className:"w-full",children:"デモ用: 病院スタッフでログイン"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:129,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:119,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:109,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:71,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:56,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/LoginPage.tsx",lineNumber:55,columnNumber:5},globalThis)},Ao={DISPATCHED:"dispatched",ON_SCENE:"on_scene",TRANSPORTING:"transporting",COMPLETED:"completed"},_L=r=>{try{return r&&typeof r.toDate=="function"?r.toDate().toLocaleDateString("ja-JP"):r?r.seconds?new Date(r.seconds*1e3).toLocaleDateString("ja-JP"):new Date(r).toLocaleDateString("ja-JP"):"日付不明"}catch(e){return console.error("Date formatting error:",e),"日付不明"}},NL=r=>{const t={[Ao.DISPATCHED]:{label:"出動中",className:"badge badge-warning"},[Ao.ON_SCENE]:{label:"現場活動中",className:"badge badge-info"},[Ao.TRANSPORTING]:{label:"搬送中",className:"badge badge-warning"},[Ao.COMPLETED]:{label:"完了",className:"badge badge-success"}}[r]||{label:r,className:"badge"};return h.jsxDEV("span",{className:t.className,children:t.label},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:52,columnNumber:5},globalThis)},TL=()=>{const{cases:r,loading:e,error:t,loadCases:s}=Hv(),{userInfo:o,logout:u}=Kl();Q.useEffect(()=>{s()},[s]);const c=async()=>{await u()};return h.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[h.jsxDEV("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"flex justify-between items-center h-16",children:[h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV("div",{className:"h-8 w-8 bg-medical-primary rounded-full flex items-center justify-center mr-3",children:h.jsxDEV("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:79,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:78,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:77,columnNumber:15},globalThis),h.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"Doctor Car App"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:82,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:76,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-4",children:[h.jsxDEV("div",{className:"text-sm text-gray-700",children:[h.jsxDEV("span",{className:"font-medium",children:o==null?void 0:o.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:87,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-gray-500 ml-2",children:["(",o==null?void 0:o.team,")"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:88,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:86,columnNumber:15},globalThis),h.jsxDEV(an,{variant:"outline",size:"sm",onClick:c,children:"ログアウト"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:90,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:85,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:75,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:74,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:73,columnNumber:7},globalThis),h.jsxDEV("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:[h.jsxDEV("div",{className:"mb-6 flex justify-between items-start",children:[h.jsxDEV("div",{children:[h.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"事案一覧"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:103,columnNumber:15},globalThis),h.jsxDEV("p",{className:"mt-1 text-sm text-gray-600",children:"現在の出動事案と過去の記録を確認できます"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:104,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:102,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex space-x-3",children:[h.jsxDEV(Dd,{to:"/route-optimization",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:"🚗 xROAD ルート最適化"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:109,columnNumber:15},globalThis),h.jsxDEV(Dd,{to:"/registries",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[h.jsxDEV("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:120,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:119,columnNumber:17},globalThis),"レジストリ一覧"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:115,columnNumber:15},globalThis),h.jsxDEV(Dd,{to:"/cases/create",className:"bg-medical-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[h.jsxDEV("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:129,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:128,columnNumber:17},globalThis),"新規事案作成"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:124,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:108,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:101,columnNumber:11},globalThis),t&&h.jsxDEV("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:h.jsxDEV("p",{className:"text-sm text-red-600",children:t},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:138,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:137,columnNumber:13},globalThis),e?h.jsxDEV("div",{className:"flex justify-center items-center py-12",children:h.jsxDEV(zo,{size:"lg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:144,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:143,columnNumber:13},globalThis):h.jsxDEV("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:h.jsxDEV("ul",{className:"divide-y divide-gray-200",children:r.length===0?h.jsxDEV("li",{className:"px-6 py-12 text-center",children:h.jsxDEV("p",{className:"text-gray-500",children:"事案がありません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:151,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:150,columnNumber:19},globalThis):r.map(p=>h.jsxDEV("li",{children:h.jsxDEV(Dd,{to:`/cases/${p.id}`,className:"block hover:bg-gray-50 px-6 py-4 transition-colors",children:h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("div",{className:"flex-1 min-w-0",children:[h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("p",{className:"text-lg font-medium text-gray-900 truncate",children:p.caseName},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:163,columnNumber:31},globalThis),NL(p.status)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:162,columnNumber:29},globalThis),h.jsxDEV("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[h.jsxDEV("svg",{className:"flex-shrink-0 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:171,columnNumber:33},globalThis),h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:172,columnNumber:33},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:170,columnNumber:31},globalThis),h.jsxDEV("span",{children:["チーム: ",p.teamId]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:174,columnNumber:31},globalThis),p.patientInfo.age&&h.jsxDEV(h.Fragment,{children:[h.jsxDEV("span",{className:"mx-2",children:"•"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:178,columnNumber:35},globalThis),h.jsxDEV("span",{children:["患者: ",p.patientInfo.age,"歳 ",p.patientInfo.gender==="male"?"男性":p.patientInfo.gender==="female"?"女性":""]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:179,columnNumber:35},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:177,columnNumber:33},globalThis),h.jsxDEV("span",{className:"mx-2",children:"•"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:183,columnNumber:31},globalThis),h.jsxDEV("span",{children:_L(p.createdAt)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:184,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:169,columnNumber:29},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:161,columnNumber:27},globalThis),h.jsxDEV("div",{className:"ml-2 flex-shrink-0",children:h.jsxDEV("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:190,columnNumber:31},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:189,columnNumber:29},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:188,columnNumber:27},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:160,columnNumber:25},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:156,columnNumber:23},globalThis)},p.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:155,columnNumber:21},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:148,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:147,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:100,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:99,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseListPage.tsx",lineNumber:71,columnNumber:5},globalThis)};function pw(r,e){const t=Q.useRef(e);Q.useEffect(function(){e!==t.current&&r.attributionControl!=null&&(t.current!=null&&r.attributionControl.removeAttribution(t.current),e!=null&&r.attributionControl.addAttribution(e)),t.current=e},[r,e])}const EL=1;function DL(r){return Object.freeze({__version:EL,map:r})}function gw(r,e){return Object.freeze({...r,...e})}const vw=Q.createContext(null),bw=vw.Provider;function qv(){const r=Q.useContext(vw);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function yw(r){function e(t,s){const{instance:o,context:u}=r(t).current;return Q.useImperativeHandle(s,()=>o),t.children==null?null:Ol.createElement(bw,{value:u},t.children)}return Q.forwardRef(e)}function RL(r){function e(t,s){const[o,u]=Q.useState(!1),{instance:c}=r(t,u).current;Q.useImperativeHandle(s,()=>c),Q.useEffect(function(){o&&c.update()},[c,o,t.children]);const p=c._contentNode;return p?cN.createPortal(t.children,p):null}return Q.forwardRef(e)}function CL(r){function e(t,s){const{instance:o}=r(t).current;return Q.useImperativeHandle(s,()=>o),null}return Q.forwardRef(e)}function bN(r,e){const t=Q.useRef();Q.useEffect(function(){return e!=null&&r.instance.on(e),t.current=e,function(){t.current!=null&&r.instance.off(t.current),t.current=null}},[r,e])}function Gv(r,e){const t=r.pane??e.pane;return t?{...r,pane:t}:r}function wL(r,e){return function(s,o){const u=qv(),c=r(Gv(s,u),u);return pw(u.map,s.attribution),bN(c.current,s.eventHandlers),e(c.current,u,s,o),c}}var O_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(r,e){(function(t,s){s(e)})(EO,function(t){var s="1.9.4";function o(a){var m,b,_,S;for(b=1,_=arguments.length;b<_;b++){S=arguments[b];for(m in S)a[m]=S[m]}return a}var u=Object.create||function(){function a(){}return function(m){return a.prototype=m,new a}}();function c(a,m){var b=Array.prototype.slice;if(a.bind)return a.bind.apply(a,b.call(arguments,1));var _=b.call(arguments,2);return function(){return a.apply(m,_.length?_.concat(b.call(arguments)):arguments)}}var p=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++p),a._leaflet_id}function x(a,m,b){var _,S,z,Z;return Z=function(){_=!1,S&&(z.apply(b,S),S=!1)},z=function(){_?S=arguments:(a.apply(b,arguments),setTimeout(Z,m),_=!0)},z}function N(a,m,b){var _=m[1],S=m[0],z=_-S;return a===_&&b?a:((a-S)%z+z)%z+S}function E(){return!1}function R(a,m){if(m===!1)return a;var b=Math.pow(10,m===void 0?6:m);return Math.round(a*b)/b}function C(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function P(a){return C(a).split(/\s+/)}function A(a,m){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var b in m)a.options[b]=m[b];return a.options}function M(a,m,b){var _=[];for(var S in a)_.push(encodeURIComponent(b?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!m||m.indexOf("?")===-1?"?":"&")+_.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function J(a,m){return a.replace(Y,function(b,_){var S=m[_];if(S===void 0)throw new Error("No value provided for variable "+b);return typeof S=="function"&&(S=S(m)),S})}var ee=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function pe(a,m){for(var b=0;b<a.length;b++)if(a[b]===m)return b;return-1}var ye="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function te(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var F=0;function $(a){var m=+new Date,b=Math.max(0,16-(m-F));return F=m+b,window.setTimeout(a,b)}var q=window.requestAnimationFrame||te("RequestAnimationFrame")||$,G=window.cancelAnimationFrame||te("CancelAnimationFrame")||te("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function K(a,m,b){if(b&&q===$)a.call(m);else return q.call(window,c(a,m))}function X(a){a&&G.call(window,a)}var j={__proto__:null,extend:o,create:u,bind:c,get lastId(){return p},stamp:v,throttle:x,wrapNum:N,falseFn:E,formatNum:R,trim:C,splitWords:P,setOptions:A,getParamString:M,template:J,isArray:ee,indexOf:pe,emptyImageUrl:ye,requestFn:q,cancelFn:G,requestAnimFrame:K,cancelAnimFrame:X};function Ie(){}Ie.extend=function(a){var m=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,_=u(b);_.constructor=m,m.prototype=_;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(m[S]=this[S]);return a.statics&&o(m,a.statics),a.includes&&(ct(a.includes),o.apply(null,[_].concat(a.includes))),o(_,a),delete _.statics,delete _.includes,_.options&&(_.options=b.options?u(b.options):{},o(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,Z=_._initHooks.length;z<Z;z++)_._initHooks[z].call(this)}},m},Ie.include=function(a){var m=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=m,this.mergeOptions(a.options)),this},Ie.mergeOptions=function(a){return o(this.prototype.options,a),this},Ie.addInitHook=function(a){var m=Array.prototype.slice.call(arguments,1),b=typeof a=="function"?a:function(){this[a].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function ct(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ee(a)?a:[a];for(var m=0;m<a.length;m++)a[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var nt={on:function(a,m,b){if(typeof a=="object")for(var _ in a)this._on(_,a[_],m);else{a=P(a);for(var S=0,z=a.length;S<z;S++)this._on(a[S],m,b)}return this},off:function(a,m,b){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],m);else{a=P(a);for(var S=arguments.length===1,z=0,Z=a.length;z<Z;z++)S?this._off(a[z]):this._off(a[z],m,b)}return this},_on:function(a,m,b,_){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(a,m,b)===!1){b===this&&(b=void 0);var S={fn:m,ctx:b};_&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,m,b){var _,S,z;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(S=0,z=_.length;S<z;S++)_[S].fn=E;delete this._events[a];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Z=this._listens(a,m,b);if(Z!==!1){var oe=_[Z];this._firingCount&&(oe.fn=E,this._events[a]=_=_.slice()),_.splice(Z,1)}}},fire:function(a,m,b){if(!this.listens(a,b))return this;var _=o({},m,{type:a,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var z=0,Z=S.length;z<Z;z++){var oe=S[z],he=oe.fn;oe.once&&this.off(a,he,oe.ctx),he.call(oe.ctx||this,_)}this._firingCount--}}return b&&this._propagateEvent(_),this},listens:function(a,m,b,_){typeof a!="string"&&console.warn('"string" type argument expected');var S=m;typeof m!="function"&&(_=!!m,S=void 0,b=void 0);var z=this._events&&this._events[a];if(z&&z.length&&this._listens(a,S,b)!==!1)return!0;if(_){for(var Z in this._eventParents)if(this._eventParents[Z].listens(a,m,b,_))return!0}return!1},_listens:function(a,m,b){if(!this._events)return!1;var _=this._events[a]||[];if(!m)return!!_.length;b===this&&(b=void 0);for(var S=0,z=_.length;S<z;S++)if(_[S].fn===m&&_[S].ctx===b)return S;return!1},once:function(a,m,b){if(typeof a=="object")for(var _ in a)this._on(_,a[_],m,!0);else{a=P(a);for(var S=0,z=a.length;S<z;S++)this._on(a[S],m,b,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var m in this._eventParents)this._eventParents[m].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};nt.addEventListener=nt.on,nt.removeEventListener=nt.clearAllEventListeners=nt.off,nt.addOneTimeEventListener=nt.once,nt.fireEvent=nt.fire,nt.hasEventListeners=nt.listens;var _e=Ie.extend(nt);function Te(a,m,b){this.x=b?Math.round(a):a,this.y=b?Math.round(m):m}var Zt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};Te.prototype={clone:function(){return new Te(this.x,this.y)},add:function(a){return this.clone()._add(Oe(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Oe(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new Te(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new Te(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Zt(this.x),this.y=Zt(this.y),this},distanceTo:function(a){a=Oe(a);var m=a.x-this.x,b=a.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(a){return a=Oe(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Oe(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function Oe(a,m,b){return a instanceof Te?a:ee(a)?new Te(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new Te(a.x,a.y):new Te(a,m,b)}function Se(a,m){if(a)for(var b=m?[a,m]:a,_=0,S=b.length;_<S;_++)this.extend(b[_])}Se.prototype={extend:function(a){var m,b;if(!a)return this;if(a instanceof Te||typeof a[0]=="number"||"x"in a)m=b=Oe(a);else if(a=Be(a),m=a.min,b=a.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(a){return Oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Oe(this.min.x,this.max.y)},getTopRight:function(){return Oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var m,b;return typeof a[0]=="number"||a instanceof Te?a=Oe(a):a=Be(a),a instanceof Se?(m=a.min,b=a.max):m=b=a,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(a){a=Be(a);var m=this.min,b=this.max,_=a.min,S=a.max,z=S.x>=m.x&&_.x<=b.x,Z=S.y>=m.y&&_.y<=b.y;return z&&Z},overlaps:function(a){a=Be(a);var m=this.min,b=this.max,_=a.min,S=a.max,z=S.x>m.x&&_.x<b.x,Z=S.y>m.y&&_.y<b.y;return z&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var m=this.min,b=this.max,_=Math.abs(m.x-b.x)*a,S=Math.abs(m.y-b.y)*a;return Be(Oe(m.x-_,m.y-S),Oe(b.x+_,b.y+S))},equals:function(a){return a?(a=Be(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Be(a,m){return!a||a instanceof Se?a:new Se(a,m)}function mt(a,m){if(a)for(var b=m?[a,m]:a,_=0,S=b.length;_<S;_++)this.extend(b[_])}mt.prototype={extend:function(a){var m=this._southWest,b=this._northEast,_,S;if(a instanceof Tt)_=a,S=a;else if(a instanceof mt){if(_=a._southWest,S=a._northEast,!_||!S)return this}else return a?this.extend(bt(a)||Bt(a)):this;return!m&&!b?(this._southWest=new Tt(_.lat,_.lng),this._northEast=new Tt(S.lat,S.lng)):(m.lat=Math.min(_.lat,m.lat),m.lng=Math.min(_.lng,m.lng),b.lat=Math.max(S.lat,b.lat),b.lng=Math.max(S.lng,b.lng)),this},pad:function(a){var m=this._southWest,b=this._northEast,_=Math.abs(m.lat-b.lat)*a,S=Math.abs(m.lng-b.lng)*a;return new mt(new Tt(m.lat-_,m.lng-S),new Tt(b.lat+_,b.lng+S))},getCenter:function(){return new Tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Tt||"lat"in a?a=bt(a):a=Bt(a);var m=this._southWest,b=this._northEast,_,S;return a instanceof mt?(_=a.getSouthWest(),S=a.getNorthEast()):_=S=a,_.lat>=m.lat&&S.lat<=b.lat&&_.lng>=m.lng&&S.lng<=b.lng},intersects:function(a){a=Bt(a);var m=this._southWest,b=this._northEast,_=a.getSouthWest(),S=a.getNorthEast(),z=S.lat>=m.lat&&_.lat<=b.lat,Z=S.lng>=m.lng&&_.lng<=b.lng;return z&&Z},overlaps:function(a){a=Bt(a);var m=this._southWest,b=this._northEast,_=a.getSouthWest(),S=a.getNorthEast(),z=S.lat>m.lat&&_.lat<b.lat,Z=S.lng>m.lng&&_.lng<b.lng;return z&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,m){return a?(a=Bt(a),this._southWest.equals(a.getSouthWest(),m)&&this._northEast.equals(a.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Bt(a,m){return a instanceof mt?a:new mt(a,m)}function Tt(a,m,b){if(isNaN(a)||isNaN(m))throw new Error("Invalid LatLng object: ("+a+", "+m+")");this.lat=+a,this.lng=+m,b!==void 0&&(this.alt=+b)}Tt.prototype={equals:function(a,m){if(!a)return!1;a=bt(a);var b=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return b<=(m===void 0?1e-9:m)},toString:function(a){return"LatLng("+R(this.lat,a)+", "+R(this.lng,a)+")"},distanceTo:function(a){return Wn.distance(this,bt(a))},wrap:function(){return Wn.wrapLatLng(this)},toBounds:function(a){var m=180*a/40075017,b=m/Math.cos(Math.PI/180*this.lat);return Bt([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new Tt(this.lat,this.lng,this.alt)}};function bt(a,m,b){return a instanceof Tt?a:ee(a)&&typeof a[0]!="object"?a.length===3?new Tt(a[0],a[1],a[2]):a.length===2?new Tt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Tt(a.lat,"lng"in a?a.lng:a.lon,a.alt):m===void 0?null:new Tt(a,m,b)}var Rn={latLngToPoint:function(a,m){var b=this.projection.project(a),_=this.scale(m);return this.transformation._transform(b,_)},pointToLatLng:function(a,m){var b=this.scale(m),_=this.transformation.untransform(a,b);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(a),_=this.transformation.transform(m.min,b),S=this.transformation.transform(m.max,b);return new Se(_,S)},infinite:!1,wrapLatLng:function(a){var m=this.wrapLng?N(a.lng,this.wrapLng,!0):a.lng,b=this.wrapLat?N(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new Tt(b,m,_)},wrapLatLngBounds:function(a){var m=a.getCenter(),b=this.wrapLatLng(m),_=m.lat-b.lat,S=m.lng-b.lng;if(_===0&&S===0)return a;var z=a.getSouthWest(),Z=a.getNorthEast(),oe=new Tt(z.lat-_,z.lng-S),he=new Tt(Z.lat-_,Z.lng-S);return new mt(oe,he)}},Wn=o({},Rn,{wrapLng:[-180,180],R:6371e3,distance:function(a,m){var b=Math.PI/180,_=a.lat*b,S=m.lat*b,z=Math.sin((m.lat-a.lat)*b/2),Z=Math.sin((m.lng-a.lng)*b/2),oe=z*z+Math.cos(_)*Math.cos(S)*Z*Z,he=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*he}}),Jn=6378137,Kn={R:Jn,MAX_LATITUDE:85.0511287798,project:function(a){var m=Math.PI/180,b=this.MAX_LATITUDE,_=Math.max(Math.min(b,a.lat),-b),S=Math.sin(_*m);return new Te(this.R*a.lng*m,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var m=180/Math.PI;return new Tt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*m,a.x*m/this.R)},bounds:function(){var a=Jn*Math.PI;return new Se([-a,-a],[a,a])}()};function Xn(a,m,b,_){if(ee(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=m,this._c=b,this._d=_}Xn.prototype={transform:function(a,m){return this._transform(a.clone(),m)},_transform:function(a,m){return m=m||1,a.x=m*(this._a*a.x+this._b),a.y=m*(this._c*a.y+this._d),a},untransform:function(a,m){return m=m||1,new Te((a.x/m-this._b)/this._a,(a.y/m-this._d)/this._c)}};function Zn(a,m,b,_){return new Xn(a,m,b,_)}var Tn=o({},Wn,{code:"EPSG:3857",projection:Kn,transformation:function(){var a=.5/(Math.PI*Kn.R);return Zn(a,.5,-a,.5)}()}),er=o({},Tn,{code:"EPSG:900913"});function On(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function jn(a,m){var b="",_,S,z,Z,oe,he;for(_=0,z=a.length;_<z;_++){for(oe=a[_],S=0,Z=oe.length;S<Z;S++)he=oe[S],b+=(S?"L":"M")+he.x+" "+he.y;b+=m?H.svg?"z":"x":""}return b||"M0 0"}var In=document.documentElement.style,dr="ActiveXObject"in window,Or=dr&&!document.addEventListener,mr="msLaunchUri"in navigator&&!("documentMode"in document),br=Mn("webkit"),Dr=Mn("android"),hr=Mn("android 2")||Mn("android 3"),Rr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tr=Dr&&Mn("Google")&&Rr<537&&!("AudioNode"in window),ir=!!window.opera,It=!mr&&Mn("chrome"),cn=Mn("gecko")&&!br&&!ir&&!dr,Gr=!It&&Mn("safari"),ii=Mn("phantom"),Ae="OTransition"in In,Xe=navigator.platform.indexOf("Win")===0,vt=dr&&"transition"in In,qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hr,Wt="MozPerspective"in In,Ln=!window.L_DISABLE_3D&&(vt||qt||Wt)&&!Ae&&!ii,_n=typeof orientation<"u"||Mn("mobile"),Cr=_n&&br,rn=_n&&qt,yr=!window.PointerEvent&&window.MSPointerEvent,dn=!!(window.PointerEvent||yr),Qt="ontouchstart"in window||!!window.TouchEvent,Wr=!window.L_NO_TOUCH&&(Qt||dn),jr=_n&&ir,Lr=_n&&cn,ps=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qi=function(){var a=!1;try{var m=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",E,m),window.removeEventListener("testPassiveEventSupport",E,m)}catch{}return a}(),ze=function(){return!!document.createElement("canvas").getContext}(),xe=!!(document.createElementNS&&On("svg").createSVGRect),Vt=!!xe&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),lt=!xe&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var m=a.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),gs=navigator.platform.indexOf("Mac")===0,si=navigator.platform.indexOf("Linux")===0;function Mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var H={ie:dr,ielt9:Or,edge:mr,webkit:br,android:Dr,android23:hr,androidStock:tr,opera:ir,chrome:It,gecko:cn,safari:Gr,phantom:ii,opera12:Ae,win:Xe,ie3d:vt,webkit3d:qt,gecko3d:Wt,any3d:Ln,mobile:_n,mobileWebkit:Cr,mobileWebkit3d:rn,msPointer:yr,pointer:dn,touch:Wr,touchNative:Qt,mobileOpera:jr,mobileGecko:Lr,retina:ps,passiveEvents:Qi,canvas:ze,svg:xe,vml:lt,inlineSvg:Vt,mac:gs,linux:si},De=H.msPointer?"MSPointerDown":"pointerdown",Pe=H.msPointer?"MSPointerMove":"pointermove",at=H.msPointer?"MSPointerUp":"pointerup",Pt=H.msPointer?"MSPointerCancel":"pointercancel",it={touchstart:De,touchmove:Pe,touchend:at,touchcancel:Pt},Rt={touchstart:Uo,touchmove:Yi,touchend:Yi,touchcancel:Yi},ht={},En=!1;function xt(a,m,b){return m==="touchstart"&&fr(),Rt[m]?(b=Rt[m].bind(this,b),a.addEventListener(it[m],b,!1),b):(console.warn("wrong event specified:",m),E)}function Vn(a,m,b){if(!it[m]){console.warn("wrong event specified:",m);return}a.removeEventListener(it[m],b,!1)}function wr(a){ht[a.pointerId]=a}function xi(a){ht[a.pointerId]&&(ht[a.pointerId]=a)}function oi(a){delete ht[a.pointerId]}function fr(){En||(document.addEventListener(De,wr,!0),document.addEventListener(Pe,xi,!0),document.addEventListener(at,oi,!0),document.addEventListener(Pt,oi,!0),En=!0)}function Yi(a,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in ht)m.touches.push(ht[b]);m.changedTouches=[m],a(m)}}function Uo(a,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&An(m),Yi(a,m)}function Ws(a){var m={},b,_;for(_ in a)b=a[_],m[_]=b&&b.bind?b.bind(a):b;return a=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var vs=200;function At(a,m){a.addEventListener("dblclick",m);var b=0,_;function S(z){if(z.detail!==1){_=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var Z=As(z);if(!(Z.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!Z.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var oe=Date.now();oe-b<=vs?(_++,_===2&&m(Ws(z))):_=1,b=oe}}}return a.addEventListener("click",S),{dblclick:m,simDblclick:S}}function Ji(a,m){a.removeEventListener("dblclick",m.dblclick),a.removeEventListener("click",m.simDblclick)}var Mr=_s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xi=_s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Oo=Xi==="webkitTransition"||Xi==="OTransition"?Xi+"End":"transitionend";function ho(a){return typeof a=="string"?document.getElementById(a):a}function bs(a,m){var b=a.style[m]||a.currentStyle&&a.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);b=_?_[m]:null}return b==="auto"?null:b}function $t(a,m,b){var _=document.createElement(a);return _.className=m||"",b&&b.appendChild(_),_}function vn(a){var m=a.parentNode;m&&m.removeChild(a)}function ys(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function xs(a){var m=a.parentNode;m&&m.lastChild!==a&&m.appendChild(a)}function Vs(a){var m=a.parentNode;m&&m.firstChild!==a&&m.insertBefore(a,m.firstChild)}function fo(a,m){if(a.classList!==void 0)return a.classList.contains(m);var b=ts(a);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function _t(a,m){if(a.classList!==void 0)for(var b=P(m),_=0,S=b.length;_<S;_++)a.classList.add(b[_]);else if(!fo(a,m)){var z=ts(a);es(a,(z?z+" ":"")+m)}}function Yt(a,m){a.classList!==void 0?a.classList.remove(m):es(a,C((" "+ts(a)+" ").replace(" "+m+" "," ")))}function es(a,m){a.className.baseVal===void 0?a.className=m:a.className.baseVal=m}function ts(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Bn(a,m){"opacity"in a.style?a.style.opacity=m:"filter"in a.style&&_i(a,m)}function _i(a,m){var b=!1,_="DXImageTransform.Microsoft.Alpha";try{b=a.filters.item(_)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):a.style.filter+=" progid:"+_+"(opacity="+m+")"}function _s(a){for(var m=document.documentElement.style,b=0;b<a.length;b++)if(a[b]in m)return a[b];return!1}function ai(a,m,b){var _=m||new Te(0,0);a.style[Mr]=(H.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(b?" scale("+b+")":"")}function $n(a,m){a._leaflet_pos=m,H.any3d?ai(a,m):(a.style.left=m.x+"px",a.style.top=m.y+"px")}function Ut(a){return a._leaflet_pos||new Te(0,0)}var ns,Ni,Oi;if("onselectstart"in document)ns=function(){et(window,"selectstart",An)},Ni=function(){bn(window,"selectstart",An)};else{var Ks=_s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ns=function(){if(Ks){var a=document.documentElement.style;Oi=a[Ks],a[Ks]="none"}},Ni=function(){Ks&&(document.documentElement.style[Ks]=Oi,Oi=void 0)}}function Ot(){et(window,"dragstart",An)}function po(){bn(window,"dragstart",An)}var Zs,Nt;function jo(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Hn(),Zs=a,Nt=a.style.outlineStyle,a.style.outlineStyle="none",et(window,"keydown",Hn))}function Hn(){Zs&&(Zs.style.outlineStyle=Nt,Zs=void 0,Nt=void 0,bn(window,"keydown",Hn))}function Kr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function rs(a){var m=a.getBoundingClientRect();return{x:m.width/a.offsetWidth||1,y:m.height/a.offsetHeight||1,boundingClientRect:m}}var ca={__proto__:null,TRANSFORM:Mr,TRANSITION:Xi,TRANSITION_END:Oo,get:ho,getStyle:bs,create:$t,remove:vn,empty:ys,toFront:xs,toBack:Vs,hasClass:fo,addClass:_t,removeClass:Yt,setClass:es,getClass:ts,setOpacity:Bn,testProp:_s,setTransform:ai,setPosition:$n,getPosition:Ut,get disableTextSelection(){return ns},get enableTextSelection(){return Ni},disableImageDrag:Ot,enableImageDrag:po,preventOutline:jo,restoreOutline:Hn,getSizedParentNode:Kr,getScale:rs};function et(a,m,b,_){if(m&&typeof m=="object")for(var S in m)pr(a,S,m[S],b);else{m=P(m);for(var z=0,Z=m.length;z<Z;z++)pr(a,m[z],b,_)}return this}var Ht="_leaflet_events";function bn(a,m,b,_){if(arguments.length===1)li(a),delete a[Ht];else if(m&&typeof m=="object")for(var S in m)da(a,S,m[S],b);else if(m=P(m),arguments.length===2)li(a,function(oe){return pe(m,oe)!==-1});else for(var z=0,Z=m.length;z<Z;z++)da(a,m[z],b,_);return this}function li(a,m){for(var b in a[Ht]){var _=b.split(/\d/)[0];(!m||m(_))&&da(a,_,null,null,b)}}var Fr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pr(a,m,b,_){var S=m+v(b)+(_?"_"+v(_):"");if(a[Ht]&&a[Ht][S])return this;var z=function(oe){return b.call(_||a,oe||window.event)},Z=z;!H.touchNative&&H.pointer&&m.indexOf("touch")===0?z=xt(a,m,z):H.touch&&m==="dblclick"?z=At(a,z):"addEventListener"in a?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?a.addEventListener(Fr[m]||m,z,H.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(z=function(oe){oe=oe||window.event,Ys(a,oe)&&Z(oe)},a.addEventListener(Fr[m],z,!1)):a.addEventListener(m,Z,!1):a.attachEvent("on"+m,z),a[Ht]=a[Ht]||{},a[Ht][S]=z}function da(a,m,b,_,S){S=S||m+v(b)+(_?"_"+v(_):"");var z=a[Ht]&&a[Ht][S];if(!z)return this;!H.touchNative&&H.pointer&&m.indexOf("touch")===0?Vn(a,m,z):H.touch&&m==="dblclick"?Ji(a,z):"removeEventListener"in a?a.removeEventListener(Fr[m]||m,z,!1):a.detachEvent("on"+m,z),a[Ht][S]=null}function ji(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Li(a){return pr(a,"wheel",ji),this}function is(a){return et(a,"mousedown touchstart dblclick contextmenu",ji),a._leaflet_disable_click=!0,this}function An(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function ui(a){return An(a),ji(a),this}function As(a){if(a.composedPath)return a.composedPath();for(var m=[],b=a.target;b;)m.push(b),b=b.parentNode;return m}function ss(a,m){if(!m)return new Te(a.clientX,a.clientY);var b=rs(m),_=b.boundingClientRect;return new Te((a.clientX-_.left)/b.x-m.clientLeft,(a.clientY-_.top)/b.y-m.clientTop)}var Qs=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mn(a){return H.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Qs:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ys(a,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==a;)b=b.parentNode}catch{return!1}return b!==a}var Ga={__proto__:null,on:et,off:bn,stopPropagation:ji,disableScrollPropagation:Li,disableClickPropagation:is,preventDefault:An,stop:ui,getPropagationPath:As,getMousePosition:ss,getWheelDelta:mn,isExternalTarget:Ys,addListener:et,removeListener:bn},Lo=_e.extend({run:function(a,m,b,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Ut(a),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(a){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),a):(this._runFrame(1),this._complete())},_runFrame:function(a,m){var b=this._startPos.add(this._offset.multiplyBy(a));m&&b._round(),$n(this._el,b),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),jt=_e.extend({options:{crs:Tn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,m){m=A(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(bt(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xi&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),et(this._proxy,Oo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),a=this._limitCenter(bt(a),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=o({animate:b.animate},b.zoom),b.pan=o({animate:b.animate,duration:b.duration},b.pan));var _=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,m,b.zoom):this._tryAnimatedPan(a,b.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(a,m){return this._loaded?this.setView(this.getCenter(),a,{zoom:m}):(this._zoom=a,this)},zoomIn:function(a,m){return a=a||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,m)},zoomOut:function(a,m){return a=a||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,m)},setZoomAround:function(a,m,b){var _=this.getZoomScale(m),S=this.getSize().divideBy(2),z=a instanceof Te?a:this.latLngToContainerPoint(a),Z=z.subtract(S).multiplyBy(1-1/_),oe=this.containerPointToLatLng(S.add(Z));return this.setView(oe,m,{zoom:b})},_getBoundsCenterZoom:function(a,m){m=m||{},a=a.getBounds?a.getBounds():Bt(a);var b=Oe(m.paddingTopLeft||m.padding||[0,0]),_=Oe(m.paddingBottomRight||m.padding||[0,0]),S=this.getBoundsZoom(a,!1,b.add(_));if(S=typeof m.maxZoom=="number"?Math.min(m.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var z=_.subtract(b).divideBy(2),Z=this.project(a.getSouthWest(),S),oe=this.project(a.getNorthEast(),S),he=this.unproject(Z.add(oe).divideBy(2).add(z),S);return{center:he,zoom:S}},fitBounds:function(a,m){if(a=Bt(a),!a.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(a,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,m){return this.setView(a,this._zoom,{pan:m})},panBy:function(a,m){if(a=Oe(a).round(),m=m||{},!a.x&&!a.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){_t(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,m,b){if(b=b||{},b.animate===!1||!H.any3d)return this.setView(a,m,b);this._stop();var _=this.project(this.getCenter()),S=this.project(a),z=this.getSize(),Z=this._zoom;a=bt(a),m=m===void 0?Z:m;var oe=Math.max(z.x,z.y),he=oe*this.getZoomScale(Z,m),Ee=S.distanceTo(_)||1,qe=1.42,dt=qe*qe;function Lt(_r){var Rc=_r?-1:1,kb=_r?he:oe,fm=he*he-oe*oe+Rc*dt*dt*Ee*Ee,il=2*kb*dt*Ee,pm=fm/il,sp=Math.sqrt(pm*pm+1)-pm,pt=sp<1e-9?-18:Math.log(sp);return pt}function kr(_r){return(Math.exp(_r)-Math.exp(-_r))/2}function Ir(_r){return(Math.exp(_r)+Math.exp(-_r))/2}function ls(_r){return kr(_r)/Ir(_r)}var di=Lt(0);function nl(_r){return oe*(Ir(di)/Ir(di+qe*_r))}function rl(_r){return oe*(Ir(di)*ls(di+qe*_r)-kr(di))/dt}function Nc(_r){return 1-Math.pow(1-_r,1.5)}var Tc=Date.now(),Ec=(Lt(1)-di)/qe,Sb=b.duration?1e3*b.duration:1e3*Ec*.8;function Dc(){var _r=(Date.now()-Tc)/Sb,Rc=Nc(_r)*Ec;_r<=1?(this._flyToFrame=K(Dc,this),this._move(this.unproject(_.add(S.subtract(_).multiplyBy(rl(Rc)/Ee)),Z),this.getScaleZoom(oe/nl(Rc),Z),{flyTo:!0})):this._move(a,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Dc.call(this),this},flyToBounds:function(a,m){var b=this._getBoundsCenterZoom(a,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(a){return a=Bt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var m=this.options.minZoom;return this.options.minZoom=a,this._loaded&&m!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var m=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&m!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,m){this._enforcingBounds=!0;var b=this.getCenter(),_=this._limitCenter(b,this._zoom,Bt(a));return b.equals(_)||this.panTo(_,m),this._enforcingBounds=!1,this},panInside:function(a,m){m=m||{};var b=Oe(m.paddingTopLeft||m.padding||[0,0]),_=Oe(m.paddingBottomRight||m.padding||[0,0]),S=this.project(this.getCenter()),z=this.project(a),Z=this.getPixelBounds(),oe=Be([Z.min.add(b),Z.max.subtract(_)]),he=oe.getSize();if(!oe.contains(z)){this._enforcingBounds=!0;var Ee=z.subtract(oe.getCenter()),qe=oe.extend(z).getSize().subtract(he);S.x+=Ee.x<0?-qe.x:qe.x,S.y+=Ee.y<0?-qe.y:qe.y,this.panTo(this.unproject(S),m),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),_=m.divideBy(2).round(),S=b.divideBy(2).round(),z=_.subtract(S);return!z.x&&!z.y?this:(a.animate&&a.pan?this.panBy(z):(a.pan&&this._rawPanBy(z),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=c(this._handleGeolocationResponse,this),b=c(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,a):navigator.geolocation.getCurrentPosition(m,b,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var m=a.code,b=a.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var m=a.coords.latitude,b=a.coords.longitude,_=new Tt(m,b),S=_.toBounds(a.coords.accuracy*2),z=this._locateOptions;if(z.setView){var Z=this.getBoundsZoom(S);this.setView(_,z.maxZoom?Math.min(Z,z.maxZoom):Z)}var oe={latlng:_,bounds:S,timestamp:a.timestamp};for(var he in a.coords)typeof a.coords[he]=="number"&&(oe[he]=a.coords[he]);this.fire("locationfound",oe)}},addHandler:function(a,m){if(!m)return this;var b=this[a]=new m(this);return this._handlers.push(b),this.options[a]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)vn(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,m){var b="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=$t("div",b,m||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),m=this.unproject(a.getBottomLeft()),b=this.unproject(a.getTopRight());return new mt(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,m,b){a=Bt(a),b=Oe(b||[0,0]);var _=this.getZoom()||0,S=this.getMinZoom(),z=this.getMaxZoom(),Z=a.getNorthWest(),oe=a.getSouthEast(),he=this.getSize().subtract(b),Ee=Be(this.project(oe,_),this.project(Z,_)).getSize(),qe=H.any3d?this.options.zoomSnap:1,dt=he.x/Ee.x,Lt=he.y/Ee.y,kr=m?Math.max(dt,Lt):Math.min(dt,Lt);return _=this.getScaleZoom(kr,_),qe&&(_=Math.round(_/(qe/100))*(qe/100),_=m?Math.ceil(_/qe)*qe:Math.floor(_/qe)*qe),Math.max(S,Math.min(z,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,m){var b=this._getTopLeftPoint(a,m);return new Se(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(a)/b.scale(m)},getScaleZoom:function(a,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var _=b.zoom(a*b.scale(m));return isNaN(_)?1/0:_},project:function(a,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(bt(a),m)},unproject:function(a,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Oe(a),m)},layerPointToLatLng:function(a){var m=Oe(a).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(a){var m=this.project(bt(a))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(bt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Bt(a))},distance:function(a,m){return this.options.crs.distance(bt(a),bt(m))},containerPointToLayerPoint:function(a){return Oe(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Oe(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var m=this.containerPointToLayerPoint(Oe(a));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(a)))},mouseEventToContainerPoint:function(a){return ss(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var m=this._container=ho(a);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");et(m,"scroll",this._onScroll,this),this._containerId=v(m)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,_t(a,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=bs(a,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$n(this._mapPane,new Te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(a.markerPane,"leaflet-zoom-hide"),_t(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,m,b){$n(this._mapPane,new Te(0,0));var _=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var S=this._zoom!==m;this._moveStart(S,b)._move(a,m)._moveEnd(S),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,m){return a&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(a,m,b,_){m===void 0&&(m=this._zoom);var S=this._zoom!==m;return this._zoom=m,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?b&&b.pinch&&this.fire("zoom",b):((S||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){$n(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var m=a?bn:et;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,m){for(var b=[],_,S=m==="mouseout"||m==="mouseover",z=a.target||a.srcElement,Z=!1;z;){if(_=this._targets[v(z)],_&&(m==="click"||m==="preclick")&&this._draggableMoved(_)){Z=!0;break}if(_&&_.listens(m,!0)&&(S&&!Ys(z,a)||(b.push(_),S))||z===this._container)break;z=z.parentNode}return!b.length&&!Z&&!S&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var m=a.target||a.srcElement;if(!(!this._loaded||m._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(m))){var b=a.type;b==="mousedown"&&jo(m),this._fireDOMEvent(a,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,m,b){if(a.type==="click"){var _=o({},a);_.type="preclick",this._fireDOMEvent(_,_.type,b)}var S=this._findEventTargets(a,m);if(b){for(var z=[],Z=0;Z<b.length;Z++)b[Z].listens(m,!0)&&z.push(b[Z]);S=z.concat(S)}if(S.length){m==="contextmenu"&&An(a);var oe=S[0],he={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Ee=oe.getLatLng&&(!oe._radius||oe._radius<=10);he.containerPoint=Ee?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(a),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=Ee?oe.getLatLng():this.layerPointToLatLng(he.layerPoint)}for(Z=0;Z<S.length;Z++)if(S[Z].fire(m,he,!0),he.originalEvent._stopped||S[Z].options.bubblingMouseEvents===!1&&pe(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,m=this._handlers.length;a<m;a++)this._handlers[a].disable()},whenReady:function(a,m){return this._loaded?a.call(m||this,{target:this}):this.on("load",a,m),this},_getMapPanePos:function(){return Ut(this._mapPane)||new Te(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,m){var b=a&&m!==void 0?this._getNewPixelOrigin(a,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,m){var b=this.getSize()._divideBy(2);return this.project(a,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,m,b){var _=this._getNewPixelOrigin(b,m);return this.project(a,m)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,m,b){var _=this._getNewPixelOrigin(b,m);return Be([this.project(a.getSouthWest(),m)._subtract(_),this.project(a.getNorthWest(),m)._subtract(_),this.project(a.getSouthEast(),m)._subtract(_),this.project(a.getNorthEast(),m)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,m,b){if(!b)return a;var _=this.project(a,m),S=this.getSize().divideBy(2),z=new Se(_.subtract(S),_.add(S)),Z=this._getBoundsOffset(z,b,m);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?a:this.unproject(_.add(Z),m)},_limitOffset:function(a,m){if(!m)return a;var b=this.getPixelBounds(),_=new Se(b.min.add(a),b.max.add(a));return a.add(this._getBoundsOffset(_,m))},_getBoundsOffset:function(a,m,b){var _=Be(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),S=_.min.subtract(a.min),z=_.max.subtract(a.max),Z=this._rebound(S.x,-z.x),oe=this._rebound(S.y,-z.y);return new Te(Z,oe)},_rebound:function(a,m){return a+m>0?Math.round(a-m)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(m))},_limitZoom:function(a){var m=this.getMinZoom(),b=this.getMaxZoom(),_=H.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(m,Math.min(b,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,m){var b=this._getCenterOffset(a)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var a=this._proxy=$t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(m){var b=Mr,_=this._proxy.style[b];ai(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),_===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),m=this.getZoom();ai(this._proxy,this.project(a,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(m),S=this._getCenterOffset(a)._divideBy(1-1/_);return b.animate!==!0&&!this.getSize().contains(S)?!1:(K(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(a,m,!0)},this),!0)},_animateZoom:function(a,m,b,_){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=m,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:m,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ma(a,m){return new jt(a,m)}var V=Ie.extend({options:{position:"topright"},initialize:function(a){A(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var m=this._map;return m&&m.removeControl(this),this.options.position=a,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var m=this._container=this.onAdd(a),b=this.getPosition(),_=a._controlCorners[b];return _t(m,"leaflet-control"),b.indexOf("bottom")!==-1?_.insertBefore(m,_.firstChild):_.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),W=function(a){return new V(a)};jt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},m="leaflet-",b=this._controlContainer=$t("div",m+"control-container",this._container);function _(S,z){var Z=m+S+" "+m+z;a[S+z]=$t("div",Z,b)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)vn(this._controlCorners[a]);vn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ue=V.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,m,b,_){return b<_?-1:_<b?1:0}},initialize:function(a,m,b){A(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in m)this._addLayer(m[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return V.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,m){return this._addLayer(a,m),this._map?this._update():this},addOverlay:function(a,m){return this._addLayer(a,m,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var m=this._getLayer(v(a));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",m=this._container=$t("div",a),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),is(m),Li(m);var _=this._section=$t("section",a+"-list");b&&(this._map.on("click",this.collapse,this),et(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=$t("a",a+"-toggle",m);S.href="#",S.title="Layers",S.setAttribute("role","button"),et(S,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){An(z),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=$t("div",a+"-base",_),this._separator=$t("div",a+"-separator",_),this._overlaysList=$t("div",a+"-overlays",_),m.appendChild(_)},_getLayer:function(a){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&v(this._layers[m].layer)===a)return this._layers[m]},_addLayer:function(a,m,b){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(c(function(_,S){return this.options.sortFunction(_.layer,S.layer,_.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ys(this._baseLayersList),ys(this._overlaysList),this._layerControlInputs=[];var a,m,b,_,S=0;for(b=0;b<this._layers.length;b++)_=this._layers[b],this._addItem(_),m=m||_.overlay,a=a||!_.overlay,S+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=m&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var m=this._getLayer(v(a.target)),b=m.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(a,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(m?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=b,_.firstChild},_addItem:function(a){var m=document.createElement("label"),b=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=b):_=this._createRadioElement("leaflet-base-layers_"+v(this),b),this._layerControlInputs.push(_),_.layerId=v(a.layer),et(_,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var z=document.createElement("span");m.appendChild(z),z.appendChild(_),z.appendChild(S);var Z=a.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,m,b,_=[],S=[];this._handlingClick=!0;for(var z=a.length-1;z>=0;z--)m=a[z],b=this._getLayer(m.layerId).layer,m.checked?_.push(b):m.checked||S.push(b);for(z=0;z<S.length;z++)this._map.hasLayer(S[z])&&this._map.removeLayer(S[z]);for(z=0;z<_.length;z++)this._map.hasLayer(_[z])||this._map.addLayer(_[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,m,b,_=this._map.getZoom(),S=a.length-1;S>=0;S--)m=a[S],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&_<b.options.minZoom||b.options.maxZoom!==void 0&&_>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,et(a,"click",An),this.expand();var m=this;setTimeout(function(){bn(a,"click",An),m._preventClick=!1})}}),ge=function(a,m,b){return new ue(a,m,b)},Ve=V.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var m="leaflet-control-zoom",b=$t("div",m+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,m,b,_,S){var z=$t("a",b,_);return z.innerHTML=a,z.href="#",z.title=m,z.setAttribute("role","button"),z.setAttribute("aria-label",m),is(z),et(z,"click",ui),et(z,"click",S,this),et(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var a=this._map,m="leaflet-disabled";Yt(this._zoomInButton,m),Yt(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(_t(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(_t(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});jt.mergeOptions({zoomControl:!0}),jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ve,this.addControl(this.zoomControl))});var st=function(a){return new Ve(a)},Ze=V.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var m="leaflet-control-scale",b=$t("div",m),_=this.options;return this._addScales(_,m+"-line",b),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,m,b){a.metric&&(this._mScale=$t("div",m,b)),a.imperial&&(this._iScale=$t("div",m,b))},_update:function(){var a=this._map,m=a.getSize().y/2,b=a.distance(a.containerPointToLatLng([0,m]),a.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var m=this._getRoundNum(a),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/a)},_updateImperial:function(a){var m=a*3.2808399,b,_,S;m>5280?(b=m/5280,_=this._getRoundNum(b),this._updateScale(this._iScale,_+" mi",_/b)):(S=this._getRoundNum(m),this._updateScale(this._iScale,S+" ft",S/m))},_updateScale:function(a,m,b){a.style.width=Math.round(this.options.maxWidth*b)+"px",a.innerHTML=m},_getRoundNum:function(a){var m=Math.pow(10,(Math.floor(a)+"").length-1),b=a/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),ft=function(a){return new Ze(a)},zt='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jt=V.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?zt+" ":"")+"Leaflet</a>"},initialize:function(a){A(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=$t("div","leaflet-control-attribution"),is(this._container);for(var m in a._layers)a._layers[m].getAttribution&&this.addAttribution(a._layers[m].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var m in this._attributions)this._attributions[m]&&a.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),a.length&&b.push(a.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});jt.mergeOptions({attributionControl:!0}),jt.addInitHook(function(){this.options.attributionControl&&new Jt().addTo(this)});var hn=function(a){return new Jt(a)};V.Layers=ue,V.Zoom=Ve,V.Scale=Ze,V.Attribution=Jt,W.layers=ge,W.zoom=st,W.scale=ft,W.attribution=hn;var Gt=Ie.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(a,m){return a.addHandler(m,this),this};var Cn={Events:nt},Dn=H.touch?"touchstart mousedown":"mousedown",St=_e.extend({options:{clickTolerance:3},initialize:function(a,m,b,_){A(this,_),this._element=a,this._dragStartTarget=m||a,this._preventOutline=b},enable:function(){this._enabled||(et(this._dragStartTarget,Dn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(St._dragging===this&&this.finishDrag(!0),bn(this._dragStartTarget,Dn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!fo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){St._dragging===this&&this.finishDrag();return}if(!(St._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(St._dragging=this,this._preventOutline&&jo(this._element),Ot(),ns(),!this._moving)){this.fire("down");var m=a.touches?a.touches[0]:a,b=Kr(this._element);this._startPoint=new Te(m.clientX,m.clientY),this._startPos=Ut(this._element),this._parentScale=rs(b);var _=a.type==="mousedown";et(document,_?"mousemove":"touchmove",this._onMove,this),et(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var m=a.touches&&a.touches.length===1?a.touches[0]:a,b=new Te(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,An(a),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),$n(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Yt(document.body,"leaflet-dragging"),this._lastTarget&&(Yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bn(document,"mousemove touchmove",this._onMove,this),bn(document,"mouseup touchend touchcancel",this._onUp,this),po(),Ni();var m=this._moved&&this._moving;this._moving=!1,St._dragging=!1,m&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ns(a,m,b){var _,S=[1,4,2,8],z,Z,oe,he,Ee,qe,dt,Lt;for(z=0,qe=a.length;z<qe;z++)a[z]._code=sr(a[z],m);for(oe=0;oe<4;oe++){for(dt=S[oe],_=[],z=0,qe=a.length,Z=qe-1;z<qe;Z=z++)he=a[z],Ee=a[Z],he._code&dt?Ee._code&dt||(Lt=Js(Ee,he,dt,m,b),Lt._code=sr(Lt,m),_.push(Lt)):(Ee._code&dt&&(Lt=Js(Ee,he,dt,m,b),Lt._code=sr(Lt,m),_.push(Lt)),_.push(he));a=_}return a}function zs(a,m){var b,_,S,z,Z,oe,he,Ee,qe;if(!a||a.length===0)throw new Error("latlngs not passed");zn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var dt=bt([0,0]),Lt=Bt(a),kr=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());kr<1700&&(dt=Ps(a));var Ir=a.length,ls=[];for(b=0;b<Ir;b++){var di=bt(a[b]);ls.push(m.project(bt([di.lat-dt.lat,di.lng-dt.lng])))}for(oe=he=Ee=0,b=0,_=Ir-1;b<Ir;_=b++)S=ls[b],z=ls[_],Z=S.y*z.x-z.y*S.x,he+=(S.x+z.x)*Z,Ee+=(S.y+z.y)*Z,oe+=Z*3;oe===0?qe=ls[0]:qe=[he/oe,Ee/oe];var nl=m.unproject(Oe(qe));return bt([nl.lat+dt.lat,nl.lng+dt.lng])}function Ps(a){for(var m=0,b=0,_=0,S=0;S<a.length;S++){var z=bt(a[S]);m+=z.lat,b+=z.lng,_++}return bt([m/_,b/_])}var Wa={__proto__:null,clipPolygon:Ns,polygonCenter:zs,centroid:Ps};function Ti(a,m){if(!m||!a.length)return a.slice();var b=m*m;return a=uc(a,b),a=Us(a,b),a}function go(a,m,b){return Math.sqrt(Fo(a,m,b,!0))}function Mo(a,m,b){return Fo(a,m,b)}function Us(a,m){var b=a.length,_=typeof Uint8Array!=void 0+""?Uint8Array:Array,S=new _(b);S[0]=S[b-1]=1,Ka(a,S,m,0,b-1);var z,Z=[];for(z=0;z<b;z++)S[z]&&Z.push(a[z]);return Z}function Ka(a,m,b,_,S){var z=0,Z,oe,he;for(oe=_+1;oe<=S-1;oe++)he=Fo(a[oe],a[_],a[S],!0),he>z&&(Z=oe,z=he);z>b&&(m[Z]=1,Ka(a,m,b,_,Z),Ka(a,m,b,Z,S))}function uc(a,m){for(var b=[a[0]],_=1,S=0,z=a.length;_<z;_++)eu(a[_],a[S])>m&&(b.push(a[_]),S=_);return S<z-1&&b.push(a[z-1]),b}var Za;function ha(a,m,b,_,S){var z=_?Za:sr(a,b),Z=sr(m,b),oe,he,Ee;for(Za=Z;;){if(!(z|Z))return[a,m];if(z&Z)return!1;oe=z||Z,he=Js(a,m,oe,b,S),Ee=sr(he,b),oe===z?(a=he,z=Ee):(m=he,Z=Ee)}}function Js(a,m,b,_,S){var z=m.x-a.x,Z=m.y-a.y,oe=_.min,he=_.max,Ee,qe;return b&8?(Ee=a.x+z*(he.y-a.y)/Z,qe=he.y):b&4?(Ee=a.x+z*(oe.y-a.y)/Z,qe=oe.y):b&2?(Ee=he.x,qe=a.y+Z*(he.x-a.x)/z):b&1&&(Ee=oe.x,qe=a.y+Z*(oe.x-a.x)/z),new Te(Ee,qe,S)}function sr(a,m){var b=0;return a.x<m.min.x?b|=1:a.x>m.max.x&&(b|=2),a.y<m.min.y?b|=4:a.y>m.max.y&&(b|=8),b}function eu(a,m){var b=m.x-a.x,_=m.y-a.y;return b*b+_*_}function Fo(a,m,b,_){var S=m.x,z=m.y,Z=b.x-S,oe=b.y-z,he=Z*Z+oe*oe,Ee;return he>0&&(Ee=((a.x-S)*Z+(a.y-z)*oe)/he,Ee>1?(S=b.x,z=b.y):Ee>0&&(S+=Z*Ee,z+=oe*Ee)),Z=a.x-S,oe=a.y-z,_?Z*Z+oe*oe:new Te(S,z)}function zn(a){return!ee(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function g(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),zn(a)}function D(a,m){var b,_,S,z,Z,oe,he,Ee;if(!a||a.length===0)throw new Error("latlngs not passed");zn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var qe=bt([0,0]),dt=Bt(a),Lt=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());Lt<1700&&(qe=Ps(a));var kr=a.length,Ir=[];for(b=0;b<kr;b++){var ls=bt(a[b]);Ir.push(m.project(bt([ls.lat-qe.lat,ls.lng-qe.lng])))}for(b=0,_=0;b<kr-1;b++)_+=Ir[b].distanceTo(Ir[b+1])/2;if(_===0)Ee=Ir[0];else for(b=0,z=0;b<kr-1;b++)if(Z=Ir[b],oe=Ir[b+1],S=Z.distanceTo(oe),z+=S,z>_){he=(z-_)/S,Ee=[oe.x-he*(oe.x-Z.x),oe.y-he*(oe.y-Z.y)];break}var di=m.unproject(Oe(Ee));return bt([di.lat+qe.lat,di.lng+qe.lng])}var k={__proto__:null,simplify:Ti,pointToSegmentDistance:go,closestPointOnSegment:Mo,clipSegment:ha,_getEdgeIntersection:Js,_getBitCode:sr,_sqClosestPointOnSegment:Fo,isFlat:zn,_flat:g,polylineCenter:D},O={project:function(a){return new Te(a.lng,a.lat)},unproject:function(a){return new Tt(a.y,a.x)},bounds:new Se([-180,-90],[180,90])},ie={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var m=Math.PI/180,b=this.R,_=a.lat*m,S=this.R_MINOR/b,z=Math.sqrt(1-S*S),Z=z*Math.sin(_),oe=Math.tan(Math.PI/4-_/2)/Math.pow((1-Z)/(1+Z),z/2);return _=-b*Math.log(Math.max(oe,1e-10)),new Te(a.lng*m*b,_)},unproject:function(a){for(var m=180/Math.PI,b=this.R,_=this.R_MINOR/b,S=Math.sqrt(1-_*_),z=Math.exp(-a.y/b),Z=Math.PI/2-2*Math.atan(z),oe=0,he=.1,Ee;oe<15&&Math.abs(he)>1e-7;oe++)Ee=S*Math.sin(Z),Ee=Math.pow((1-Ee)/(1+Ee),S/2),he=Math.PI/2-2*Math.atan(z*Ee)-Z,Z+=he;return new Tt(Z*m,a.x*m/b)}},me={__proto__:null,LonLat:O,Mercator:ie,SphericalMercator:Kn},Ue=o({},Wn,{code:"EPSG:3395",projection:ie,transformation:function(){var a=.5/(Math.PI*ie.R);return Zn(a,.5,-a,.5)}()}),kt=o({},Wn,{code:"EPSG:4326",projection:O,transformation:Zn(1/180,1,-1/180,.5)}),Pn=o({},Rn,{projection:O,transformation:Zn(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,m){var b=m.lng-a.lng,_=m.lat-a.lat;return Math.sqrt(b*b+_*_)},infinite:!0});Rn.Earth=Wn,Rn.EPSG3395=Ue,Rn.EPSG3857=Tn,Rn.EPSG900913=er,Rn.EPSG4326=kt,Rn.Simple=Pn;var Je=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var m=a.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});jt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var m=v(a);return this._layers[m]?this:(this._layers[m]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var m=v(a);return this._layers[m]?(this._loaded&&a.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,m){for(var b in this._layers)a.call(m,this._layers[b]);return this},_addLayers:function(a){a=a?ee(a)?a:[a]:[];for(var m=0,b=a.length;m<b;m++)this.addLayer(a[m])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var m=v(a);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,m=-1/0,b=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var S=this._zoomBoundLayers[_].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),m=S.maxZoom===void 0?m:Math.max(m,S.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=a===1/0?void 0:a,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yn=Je.extend({initialize:function(a,m){A(this,m),this._layers={};var b,_;if(a)for(b=0,_=a.length;b<_;b++)this.addLayer(a[b])},addLayer:function(a){var m=this.getLayerId(a);return this._layers[m]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var m=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(a){var m=typeof a=="number"?a:this.getLayerId(a);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var m=Array.prototype.slice.call(arguments,1),b,_;for(b in this._layers)_=this._layers[b],_[a]&&_[a].apply(_,m);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,m){for(var b in this._layers)a.call(m,this._layers[b]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),xr=function(a,m){return new yn(a,m)},Sr=yn.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),yn.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),yn.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new mt;for(var m in this._layers){var b=this._layers[m];a.extend(b.getBounds?b.getBounds():b.getLatLng())}return a}}),os=function(a,m){return new Sr(a,m)},Ei=Ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){A(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,m){var b=this._getIconUrl(a);if(!b){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,m){var b=this.options,_=b[m+"Size"];typeof _=="number"&&(_=[_,_]);var S=Oe(_),z=Oe(m==="shadow"&&b.shadowAnchor||b.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+m+" "+(b.className||""),z&&(a.style.marginLeft=-z.x+"px",a.style.marginTop=-z.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,m){return m=m||document.createElement("img"),m.src=a,m},_getIconUrl:function(a){return H.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function tu(a){return new Ei(a)}var nu=Ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof nu.imagePath!="string"&&(nu.imagePath=this._detectIconPath()),(this.options.imagePath||nu.imagePath)+Ei.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var m=function(b,_,S){var z=_.exec(b);return z&&z[S]};return a=m(a,/^url\((['"])?(.+)\1\)$/,2),a&&m(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=$t("div","leaflet-default-icon-path",document.body),m=bs(a,"background-image")||bs(a,"backgroundImage");if(document.body.removeChild(a),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),cc=Gt.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new St(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var m=this._marker,b=m._map,_=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,z=Ut(m._icon),Z=b.getPixelBounds(),oe=b.getPixelOrigin(),he=Be(Z.min._subtract(oe).add(S),Z.max._subtract(oe).subtract(S));if(!he.contains(z)){var Ee=Oe((Math.max(he.max.x,z.x)-he.max.x)/(Z.max.x-he.max.x)-(Math.min(he.min.x,z.x)-he.min.x)/(Z.min.x-he.min.x),(Math.max(he.max.y,z.y)-he.max.y)/(Z.max.y-he.max.y)-(Math.min(he.min.y,z.y)-he.min.y)/(Z.min.y-he.min.y)).multiplyBy(_);b.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),$n(m._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=K(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,a)))},_onDrag:function(a){var m=this._marker,b=m._shadow,_=Ut(m._icon),S=m._map.layerPointToLatLng(_);b&&$n(b,_),m._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,m.fire("move",a).fire("drag",a)},_onDragEnd:function(a){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),dc=Je.extend({options:{icon:new nu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,m){A(this,m),this._latlng=bt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var m=this._latlng;return this._latlng=bt(a),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=a.icon.createIcon(this._icon),_=!1;b!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(b.title=a.title),b.tagName==="IMG"&&(b.alt=a.alt||"")),_t(b,m),a.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(b,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),z=!1;S!==this._shadow&&(this._removeShadow(),z=!0),S&&(_t(S,m),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&z&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bn(this._icon,"focus",this._panOnFocus,this),vn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vn(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&$n(this._icon,a),this._shadow&&$n(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var m=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Bn(this._icon,a),this._shadow&&Bn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var m=this.options.icon.options,b=m.iconSize?Oe(m.iconSize):Oe(0,0),_=m.iconAnchor?Oe(m.iconAnchor):Oe(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:b.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xb(a,m){return new dc(a,m)}var Bo=Je.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return A(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ru=Bo.extend({options:{fill:!0,radius:10},initialize:function(a,m){A(this,m),this._latlng=bt(a),this._radius=this.options.radius},setLatLng:function(a){var m=this._latlng;return this._latlng=bt(a),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var m=a&&a.radius||this._radius;return Bo.prototype.setStyle.call(this,a),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,m=this._radiusY||a,b=this._clickTolerance(),_=[a+b,m+b];this._pxBounds=new Se(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _b(a,m){return new ru(a,m)}var um=ru.extend({initialize:function(a,m,b){if(typeof m=="number"&&(m=o({},b,{radius:m})),A(this,m),this._latlng=bt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Bo.prototype.setStyle,_project:function(){var a=this._latlng.lng,m=this._latlng.lat,b=this._map,_=b.options.crs;if(_.distance===Wn.distance){var S=Math.PI/180,z=this._mRadius/Wn.R/S,Z=b.project([m+z,a]),oe=b.project([m-z,a]),he=Z.add(oe).divideBy(2),Ee=b.unproject(he).lat,qe=Math.acos((Math.cos(z*S)-Math.sin(m*S)*Math.sin(Ee*S))/(Math.cos(m*S)*Math.cos(Ee*S)))/S;(isNaN(qe)||qe===0)&&(qe=z/Math.cos(Math.PI/180*m)),this._point=he.subtract(b.getPixelOrigin()),this._radius=isNaN(qe)?0:he.x-b.project([Ee,a-qe]).x,this._radiusY=he.y-Z.y}else{var dt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(dt).x}this._updateBounds()}});function Nb(a,m,b){return new um(a,m,b)}var Xs=Bo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,m){A(this,m),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var m=1/0,b=null,_=Fo,S,z,Z=0,oe=this._parts.length;Z<oe;Z++)for(var he=this._parts[Z],Ee=1,qe=he.length;Ee<qe;Ee++){S=he[Ee-1],z=he[Ee];var dt=_(a,S,z,!0);dt<m&&(m=dt,b=_(a,S,z))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return D(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,m){return m=m||this._defaultShape(),a=bt(a),m.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new mt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return zn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var m=[],b=zn(a),_=0,S=a.length;_<S;_++)b?(m[_]=bt(a[_]),this._bounds.extend(m[_])):m[_]=this._convertLatLngs(a[_]);return m},_project:function(){var a=new Se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),m=new Te(a,a);this._rawPxBounds&&(this._pxBounds=new Se([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(a,m,b){var _=a[0]instanceof Tt,S=a.length,z,Z;if(_){for(Z=[],z=0;z<S;z++)Z[z]=this._map.latLngToLayerPoint(a[z]),b.extend(Z[z]);m.push(Z)}else for(z=0;z<S;z++)this._projectLatlngs(a[z],m,b)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,_,S,z,Z,oe,he;for(b=0,S=0,z=this._rings.length;b<z;b++)for(he=this._rings[b],_=0,Z=he.length;_<Z-1;_++)oe=ha(he[_],he[_+1],a,_,!0),oe&&(m[S]=m[S]||[],m[S].push(oe[0]),(oe[1]!==he[_+1]||_===Z-2)&&(m[S].push(oe[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,m=this.options.smoothFactor,b=0,_=a.length;b<_;b++)a[b]=Ti(a[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,m){var b,_,S,z,Z,oe,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(b=0,z=this._parts.length;b<z;b++)for(oe=this._parts[b],_=0,Z=oe.length,S=Z-1;_<Z;S=_++)if(!(!m&&_===0)&&go(a,oe[S],oe[_])<=he)return!0;return!1}});function Qa(a,m){return new Xs(a,m)}Xs._flat=g;var $o=Xs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var m=Xs.prototype._convertLatLngs.call(this,a),b=m.length;return b>=2&&m[0]instanceof Tt&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(a){Xs.prototype._setLatLngs.call(this,a),zn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return zn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,m=this.options.weight,b=new Te(m,m);if(a=new Se(a.min.subtract(b),a.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,S=this._rings.length,z;_<S;_++)z=Ns(this._rings[_],a,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var m=!1,b,_,S,z,Z,oe,he,Ee;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(z=0,he=this._parts.length;z<he;z++)for(b=this._parts[z],Z=0,Ee=b.length,oe=Ee-1;Z<Ee;oe=Z++)_=b[Z],S=b[oe],_.y>a.y!=S.y>a.y&&a.x<(S.x-_.x)*(a.y-_.y)/(S.y-_.y)+_.x&&(m=!m);return m||Xs.prototype._containsPoint.call(this,a,!0)}});function qf(a,m){return new $o(a,m)}var eo=Sr.extend({initialize:function(a,m){A(this,m),this._layers={},a&&this.addData(a)},addData:function(a){var m=ee(a)?a:a.features,b,_,S;if(m){for(b=0,_=m.length;b<_;b++)S=m[b],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var z=this.options;if(z.filter&&!z.filter(a))return this;var Z=mc(a,z);return Z?(Z.feature=pc(a),Z.defaultOptions=Z.options,this.resetStyle(Z),z.onEachFeature&&z.onEachFeature(a,Z),this.addLayer(Z)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(m){this._setLayerStyle(m,a)},this)},_setLayerStyle:function(a,m){a.setStyle&&(typeof m=="function"&&(m=m(a.feature)),a.setStyle(m))}});function mc(a,m){var b=a.type==="Feature"?a.geometry:a,_=b?b.coordinates:null,S=[],z=m&&m.pointToLayer,Z=m&&m.coordsToLatLng||cm,oe,he,Ee,qe;if(!_&&!b)return null;switch(b.type){case"Point":return oe=Z(_),Gf(z,a,oe,m);case"MultiPoint":for(Ee=0,qe=_.length;Ee<qe;Ee++)oe=Z(_[Ee]),S.push(Gf(z,a,oe,m));return new Sr(S);case"LineString":case"MultiLineString":return he=hc(_,b.type==="LineString"?0:1,Z),new Xs(he,m);case"Polygon":case"MultiPolygon":return he=hc(_,b.type==="Polygon"?1:2,Z),new $o(he,m);case"GeometryCollection":for(Ee=0,qe=b.geometries.length;Ee<qe;Ee++){var dt=mc({geometry:b.geometries[Ee],type:"Feature",properties:a.properties},m);dt&&S.push(dt)}return new Sr(S);case"FeatureCollection":for(Ee=0,qe=b.features.length;Ee<qe;Ee++){var Lt=mc(b.features[Ee],m);Lt&&S.push(Lt)}return new Sr(S);default:throw new Error("Invalid GeoJSON object.")}}function Gf(a,m,b,_){return a?a(m,b):new dc(b,_&&_.markersInheritOptions&&_)}function cm(a){return new Tt(a[1],a[0],a[2])}function hc(a,m,b){for(var _=[],S=0,z=a.length,Z;S<z;S++)Z=m?hc(a[S],m-1,b):(b||cm)(a[S]),_.push(Z);return _}function dm(a,m){return a=bt(a),a.alt!==void 0?[R(a.lng,m),R(a.lat,m),R(a.alt,m)]:[R(a.lng,m),R(a.lat,m)]}function fc(a,m,b,_){for(var S=[],z=0,Z=a.length;z<Z;z++)S.push(m?fc(a[z],zn(a[z])?0:m-1,b,_):dm(a[z],_));return!m&&b&&S.length>0&&S.push(S[0].slice()),S}function Ya(a,m){return a.feature?o({},a.feature,{geometry:m}):pc(m)}function pc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var gc={toGeoJSON:function(a){return Ya(this,{type:"Point",coordinates:dm(this.getLatLng(),a)})}};dc.include(gc),um.include(gc),ru.include(gc),Xs.include({toGeoJSON:function(a){var m=!zn(this._latlngs),b=fc(this._latlngs,m?1:0,!1,a);return Ya(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),$o.include({toGeoJSON:function(a){var m=!zn(this._latlngs),b=m&&!zn(this._latlngs[0]),_=fc(this._latlngs,b?2:m?1:0,!0,a);return m||(_=[_]),Ya(this,{type:(b?"Multi":"")+"Polygon",coordinates:_})}}),yn.include({toMultiPoint:function(a){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(a).geometry.coordinates)}),Ya(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(a){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(a);var b=m==="GeometryCollection",_=[];return this.eachLayer(function(S){if(S.toGeoJSON){var z=S.toGeoJSON(a);if(b)_.push(z.geometry);else{var Z=pc(z);Z.type==="FeatureCollection"?_.push.apply(_,Z.features):_.push(Z)}}}),b?Ya(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Wf(a,m){return new eo(a,m)}var Kf=Wf,vc=Je.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,m,b){this._url=a,this._bounds=Bt(m),A(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&xs(this._image),this},bringToBack:function(){return this._map&&Vs(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Bt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",m=this._image=a?this._url:$t("img");if(_t(m,"leaflet-image-layer"),this._zoomAnimated&&_t(m,"leaflet-zoom-animated"),this.options.className&&_t(m,this.options.className),m.onselectstart=E,m.onmousemove=E,m.onload=c(this.fire,this,"load"),m.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(a){var m=this._map.getZoomScale(a.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ai(this._image,b,m)},_reset:function(){var a=this._image,m=new Se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();$n(a,m.min),a.style.width=b.x+"px",a.style.height=b.y+"px"},_updateOpacity:function(){Bn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Tb=function(a,m,b){return new vc(a,m,b)},Zf=vc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",m=this._image=a?this._url:$t("video");if(_t(m,"leaflet-image-layer"),this._zoomAnimated&&_t(m,"leaflet-zoom-animated"),this.options.className&&_t(m,this.options.className),m.onselectstart=E,m.onmousemove=E,m.onloadeddata=c(this.fire,this,"load"),a){for(var b=m.getElementsByTagName("source"),_=[],S=0;S<b.length;S++)_.push(b[S].src);this._url=b.length>0?_:[m.src];return}ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var Z=$t("source");Z.src=this._url[z],m.appendChild(Z)}}});function Eb(a,m,b){return new Zf(a,m,b)}var bc=vc.extend({_initImage:function(){var a=this._image=this._url;_t(a,"leaflet-image-layer"),this._zoomAnimated&&_t(a,"leaflet-zoom-animated"),this.options.className&&_t(a,this.options.className),a.onselectstart=E,a.onmousemove=E}});function fa(a,m,b){return new bc(a,m,b)}var as=Je.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,m){a&&(a instanceof Tt||ee(a))?(this._latlng=bt(a),A(this,m)):(A(this,a),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Bn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Bn(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Bn(this._container,0),this._removeTimeout=setTimeout(c(vn,void 0,this._container),200)):vn(this._container),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=bt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xs(this._container),this},bringToBack:function(){return this._map&&Vs(this._container),this},_prepareOpen:function(a){var m=this._source;if(!m._map)return!1;if(m instanceof Sr){m=null;var b=this._source._layers;for(var _ in b)if(b[_]._map){m=b[_];break}if(!m)return!1;this._source=m}if(!a)if(m.getCenter)a=m.getCenter();else if(m.getLatLng)a=m.getLatLng();else if(m.getBounds)a=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")a.innerHTML=m;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),m=Oe(this.options.offset),b=this._getAnchor();this._zoomAnimated?$n(this._container,a.add(b)):m=m.add(a).add(b);var _=this._containerBottom=-m.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=_+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});jt.include({_initOverlay:function(a,m,b,_){var S=m;return S instanceof a||(S=new a(_).setContent(m)),b&&S.setLatLng(b),S}}),Je.include({_initOverlay:function(a,m,b,_){var S=b;return S instanceof a?(A(S,_),S._source=this):(S=m&&!_?m:new a(_,this),S.setContent(b)),S}});var iu=as.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,as.prototype.openOn.call(this,a)},onAdd:function(a){as.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Bo||this._source.on("preclick",ji))},onRemove:function(a){as.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Bo||this._source.off("preclick",ji))},getEvents:function(){var a=as.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",m=this._container=$t("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=$t("div",a+"-content-wrapper",m);if(this._contentNode=$t("div",a+"-content",b),is(m),Li(this._contentNode),et(m,"contextmenu",ji),this._tipContainer=$t("div",a+"-tip-container",m),this._tip=$t("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=$t("a",a+"-close-button",m);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',et(_,"click",function(S){An(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,m=a.style;m.width="",m.whiteSpace="nowrap";var b=a.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var _=a.offsetHeight,S=this.options.maxHeight,z="leaflet-popup-scrolled";S&&_>S?(m.height=S+"px",_t(a,z)):Yt(a,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var m=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),b=this._getAnchor();$n(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,m=parseInt(bs(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,_=this._containerWidth,S=new Te(this._containerLeft,-b-this._containerBottom);S._add(Ut(this._container));var z=a.layerPointToContainerPoint(S),Z=Oe(this.options.autoPanPadding),oe=Oe(this.options.autoPanPaddingTopLeft||Z),he=Oe(this.options.autoPanPaddingBottomRight||Z),Ee=a.getSize(),qe=0,dt=0;z.x+_+he.x>Ee.x&&(qe=z.x+_-Ee.x+he.x),z.x-qe-oe.x<0&&(qe=z.x-oe.x),z.y+b+he.y>Ee.y&&(dt=z.y+b-Ee.y+he.y),z.y-dt-oe.y<0&&(dt=z.y-oe.y),(qe||dt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([qe,dt]))}},_getAnchor:function(){return Oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ja=function(a,m){return new iu(a,m)};jt.mergeOptions({closePopupOnClick:!0}),jt.include({openPopup:function(a,m,b){return this._initOverlay(iu,a,m,b).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Je.include({bindPopup:function(a,m){return this._popup=this._initOverlay(iu,this._popup,a,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Sr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){ui(a);var m=a.layer||a.target;if(this._popup._source===m&&!(m instanceof Bo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=m,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var yc=as.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){as.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){as.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=as.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",m=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$t("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var m,b,_=this._map,S=this._container,z=_.latLngToContainerPoint(_.getCenter()),Z=_.layerPointToContainerPoint(a),oe=this.options.direction,he=S.offsetWidth,Ee=S.offsetHeight,qe=Oe(this.options.offset),dt=this._getAnchor();oe==="top"?(m=he/2,b=Ee):oe==="bottom"?(m=he/2,b=0):oe==="center"?(m=he/2,b=Ee/2):oe==="right"?(m=0,b=Ee/2):oe==="left"?(m=he,b=Ee/2):Z.x<z.x?(oe="right",m=0,b=Ee/2):(oe="left",m=he+(qe.x+dt.x)*2,b=Ee/2),a=a.subtract(Oe(m,b,!0)).add(qe).add(dt),Yt(S,"leaflet-tooltip-right"),Yt(S,"leaflet-tooltip-left"),Yt(S,"leaflet-tooltip-top"),Yt(S,"leaflet-tooltip-bottom"),_t(S,"leaflet-tooltip-"+oe),$n(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Bn(this._container,a)},_animateZoom:function(a){var m=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(m)},_getAnchor:function(){return Oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Db=function(a,m){return new yc(a,m)};jt.include({openTooltip:function(a,m,b){return this._initOverlay(yc,a,m,b).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Je.include({bindTooltip:function(a,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yc,this._tooltip,a,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var m=a?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Sr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var m=typeof a.getElement=="function"&&a.getElement();m&&(et(m,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),et(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var m=typeof a.getElement=="function"&&a.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var m=a.latlng,b,_;this._tooltip.options.sticky&&a.originalEvent&&(b=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(m)}});var Qf=Ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var m=a&&a.tagName==="DIV"?a:document.createElement("div"),b=this.options;if(b.html instanceof Element?(ys(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var _=Oe(b.bgPos);m.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Rb(a){return new Qf(a)}Ei.Default=nu;var su=Je.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){A(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),vn(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof Te?a:new Te(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var m=this.getPane().children,b=-a(-1/0,1/0),_=0,S=m.length,z;_<S;_++)z=m[_].style.zIndex,m[_]!==this._container&&z&&(b=a(b,+z));isFinite(b)&&(this.options.zIndex=b+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){Bn(this._container,this.options.opacity);var a=+new Date,m=!1,b=!1;for(var _ in this._tiles){var S=this._tiles[_];if(!(!S.current||!S.loaded)){var z=Math.min(1,(a-S.loaded)/200);Bn(S.el,z),z<1?m=!0:(S.active?b=!0:this._onOpaqueTile(S),S.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(X(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=$t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,m=this.options.maxZoom;if(a!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===a?(this._levels[b].el.style.zIndex=m-Math.abs(a-b),this._onUpdateLevel(b)):(vn(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var _=this._levels[a],S=this._map;return _||(_=this._levels[a]={},_.el=$t("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=m,_.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,S.getCenter(),S.getZoom()),E(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var a,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)m=this._tiles[a],m.retain=m.current;for(a in this._tiles)if(m=this._tiles[a],m.current&&!m.active){var _=m.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var m in this._tiles)this._tiles[m].coords.z===a&&this._removeTile(m)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)vn(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,m,b,_){var S=Math.floor(a/2),z=Math.floor(m/2),Z=b-1,oe=new Te(+S,+z);oe.z=+Z;var he=this._tileCoordsToKey(oe),Ee=this._tiles[he];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),Z>_?this._retainParent(S,z,Z,_):!1)},_retainChildren:function(a,m,b,_){for(var S=2*a;S<2*a+2;S++)for(var z=2*m;z<2*m+2;z++){var Z=new Te(S,z);Z.z=b+1;var oe=this._tileCoordsToKey(Z),he=this._tiles[oe];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);b+1<_&&this._retainChildren(S,z,b+1,_)}},_resetView:function(a){var m=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var m=this.options;return m.minNativeZoom!==void 0&&a<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<a?m.maxNativeZoom:a},_setView:function(a,m,b,_){var S=Math.round(m);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var z=this.options.updateWhenZooming&&S!==this._tileZoom;(!_||z)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(a,m)},_setZoomTransforms:function(a,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],a,m)},_setZoomTransform:function(a,m,b){var _=this._map.getZoomScale(b,a.zoom),S=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(m,b)).round();H.any3d?ai(a.el,S,_):$n(a.el,S)},_resetGrid:function(){var a=this._map,m=a.options.crs,b=this._tileSize=this.getTileSize(),_=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,m.wrapLng[0]],_).x/b.x),Math.ceil(a.project([0,m.wrapLng[1]],_).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([m.wrapLat[0],0],_).y/b.x),Math.ceil(a.project([m.wrapLat[1],0],_).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),_=m.getZoomScale(b,this._tileZoom),S=m.project(a,this._tileZoom).floor(),z=m.getSize().divideBy(_*2);return new Se(S.subtract(z),S.add(z))},_update:function(a){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(a===void 0&&(a=m.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(_),z=S.getCenter(),Z=[],oe=this.options.keepBuffer,he=new Se(S.getBottomLeft().subtract([oe,-oe]),S.getTopRight().add([oe,-oe]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var qe=this._tiles[Ee].coords;(qe.z!==this._tileZoom||!he.contains(new Te(qe.x,qe.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(a,b);return}for(var dt=S.min.y;dt<=S.max.y;dt++)for(var Lt=S.min.x;Lt<=S.max.x;Lt++){var kr=new Te(Lt,dt);if(kr.z=this._tileZoom,!!this._isValidTile(kr)){var Ir=this._tiles[this._tileCoordsToKey(kr)];Ir?Ir.current=!0:Z.push(kr)}}if(Z.sort(function(di,nl){return di.distanceTo(z)-nl.distanceTo(z)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ls=document.createDocumentFragment();for(Lt=0;Lt<Z.length;Lt++)this._addTile(Z[Lt],ls);this._level.el.appendChild(ls)}}}},_isValidTile:function(a){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(a.x<b.min.x||a.x>b.max.x)||!m.wrapLat&&(a.y<b.min.y||a.y>b.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return Bt(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var m=this._map,b=this.getTileSize(),_=a.scaleBy(b),S=_.add(b),z=m.unproject(_,a.z),Z=m.unproject(S,a.z);return[z,Z]},_tileCoordsToBounds:function(a){var m=this._tileCoordsToNwSe(a),b=new mt(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var m=a.split(":"),b=new Te(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(a){var m=this._tiles[a];m&&(vn(m.el),delete this._tiles[a],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){_t(a,"leaflet-tile");var m=this.getTileSize();a.style.width=m.x+"px",a.style.height=m.y+"px",a.onselectstart=E,a.onmousemove=E,H.ielt9&&this.options.opacity<1&&Bn(a,this.options.opacity)},_addTile:function(a,m){var b=this._getTilePos(a),_=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),c(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&K(c(this._tileReady,this,a,null,S)),$n(S,b),this._tiles[_]={el:S,coords:a,current:!0},m.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:a});var _=this._tileCoordsToKey(a);b=this._tiles[_],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Bn(b.el,0),X(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(_t(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var m=new Te(this._wrapX?N(a.x,this._wrapX):a.x,this._wrapY?N(a.y,this._wrapY):a.y);return m.z=a.z,m},_pxBoundsToTileRange:function(a){var m=this.getTileSize();return new Se(a.min.unscaleBy(m).floor(),a.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Yf(a){return new su(a)}var Xa=su.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,m){this._url=a,m=A(this,m),m.detectRetina&&H.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,m){return this._url===a&&m===void 0&&(m=!0),this._url=a,m||this.redraw(),this},createTile:function(a,m){var b=document.createElement("img");return et(b,"load",c(this._tileOnLoad,this,m,b)),et(b,"error",c(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(a),b},getTileUrl:function(a){var m={r:H.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-a.y;this.options.tms&&(m.y=b),m["-y"]=b}return J(this._url,o(m,this.options))},_tileOnLoad:function(a,m){H.ielt9?setTimeout(c(a,this,null,m),0):a(null,m)},_tileOnError:function(a,m,b){var _=this.options.errorTileUrl;_&&m.getAttribute("src")!==_&&(m.src=_),a(b,m)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,_=this.options.zoomOffset;return b&&(a=m-a),a+_},_getSubdomain:function(a){var m=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var a,m;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(m=this._tiles[a].el,m.onload=E,m.onerror=E,!m.complete)){m.src=ye;var b=this._tiles[a].coords;vn(m),delete this._tiles[a],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(a){var m=this._tiles[a];if(m)return m.el.setAttribute("src",ye),su.prototype._removeTile.call(this,a)},_tileReady:function(a,m,b){if(!(!this._map||b&&b.getAttribute("src")===ye))return su.prototype._tileReady.call(this,a,m,b)}});function mm(a,m){return new Xa(a,m)}var ci=Xa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,m){this._url=a;var b=o({},this.defaultWmsParams);for(var _ in m)_ in this.options||(b[_]=m[_]);m=A(this,m);var S=m.detectRetina&&H.retina?2:1,z=this.getTileSize();b.width=z.x*S,b.height=z.y*S,this.wmsParams=b},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Xa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var m=this._tileCoordsToNwSe(a),b=this._crs,_=Be(b.project(m[0]),b.project(m[1])),S=_.min,z=_.max,Z=(this._wmsVersion>=1.3&&this._crs===kt?[S.y,S.x,z.y,z.x]:[S.x,S.y,z.x,z.y]).join(","),oe=Xa.prototype.getTileUrl.call(this,a);return oe+M(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(a,m){return o(this.wmsParams,a),m||this.redraw(),this}});function Jf(a,m){return new ci(a,m)}Xa.WMS=ci,mm.wms=Jf;var vo=Je.extend({options:{padding:.1},initialize:function(a){A(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,m){var b=this._map.getZoomScale(m,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,m),z=_.multiplyBy(-b).add(S).subtract(this._map._getNewPixelOrigin(a,m));H.any3d?ai(this._container,z,b):$n(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-a)).round();this._bounds=new Se(b,b.add(m.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xf=vo.extend({options:{tolerance:0},getEvents:function(){var a=vo.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");et(a,"mousemove",this._onMouseMove,this),et(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),et(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,vn(this._container),bn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var m in this._layers)a=this._layers[m],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vo.prototype._update.call(this);var a=this._bounds,m=this._container,b=a.getSize(),_=H.retina?2:1;$n(m,a.min),m.width=_*b.x,m.height=_*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){vo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var m=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var m=a._order,b=m.next,_=m.prev;b?b.prev=_:this._drawLast=_,_?_.next=b:this._drawFirst=b,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var m=a.options.dashArray.split(/[, ]+/),b=[],_,S;for(S=0;S<m.length;S++){if(_=Number(m[S]),isNaN(_))return;b.push(_)}a.options._dashArray=b}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var m=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Se,this._redrawBounds.extend(a._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(a._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var m=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!m||a._pxBounds&&a._pxBounds.intersects(m))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,m){if(this._drawing){var b,_,S,z,Z=a._parts,oe=Z.length,he=this._ctx;if(oe){for(he.beginPath(),b=0;b<oe;b++){for(_=0,S=Z[b].length;_<S;_++)z=Z[b][_],he[_?"lineTo":"moveTo"](z.x,z.y);m&&he.closePath()}this._fillStroke(he,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var m=a._point,b=this._ctx,_=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||_)/_;S!==1&&(b.save(),b.scale(1,S)),b.beginPath(),b.arc(m.x,m.y/S,_,0,Math.PI*2,!1),S!==1&&b.restore(),this._fillStroke(b,a)}},_fillStroke:function(a,m){var b=m.options;b.fill&&(a.globalAlpha=b.fillOpacity,a.fillStyle=b.fillColor||b.color,a.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(a.setLineDash&&a.setLineDash(m.options&&m.options._dashArray||[]),a.globalAlpha=b.opacity,a.lineWidth=b.weight,a.strokeStyle=b.color,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.stroke())},_onClick:function(a){for(var m=this._map.mouseEventToLayerPoint(a),b,_,S=this._drawFirst;S;S=S.next)b=S.layer,b.options.interactive&&b._containsPoint(m)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(b))&&(_=b);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,m)}},_handleMouseOut:function(a){var m=this._hoveredLayer;m&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([m],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,m){if(!this._mouseHoverThrottled){for(var b,_,S=this._drawFirst;S;S=S.next)b=S.layer,b.options.interactive&&b._containsPoint(m)&&(_=b);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(_t(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,m,b){this._map._fireDOMEvent(m,b||m.type,a)},_bringToFront:function(a){var m=a._order;if(m){var b=m.next,_=m.prev;if(b)b.prev=_;else return;_?_.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(a)}},_bringToBack:function(a){var m=a._order;if(m){var b=m.next,_=m.prev;if(_)_.next=b;else return;b?b.prev=_:_&&(this._drawLast=_),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(a)}}});function ep(a){return H.canvas?new Xf(a):null}var ou=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Cb={_initContainer:function(){this._container=$t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vo.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var m=a._container=ou("shape");_t(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",a._path=ou("path"),m.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var m=a._container;this._container.appendChild(m),a.options.interactive&&a.addInteractiveTarget(m)},_removePath:function(a){var m=a._container;vn(m),a.removeInteractiveTarget(m),delete this._layers[v(a)]},_updateStyle:function(a){var m=a._stroke,b=a._fill,_=a.options,S=a._container;S.stroked=!!_.stroke,S.filled=!!_.fill,_.stroke?(m||(m=a._stroke=ou("stroke")),S.appendChild(m),m.weight=_.weight+"px",m.color=_.color,m.opacity=_.opacity,_.dashArray?m.dashStyle=ee(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=_.lineCap.replace("butt","flat"),m.joinstyle=_.lineJoin):m&&(S.removeChild(m),a._stroke=null),_.fill?(b||(b=a._fill=ou("fill")),S.appendChild(b),b.color=_.fillColor||_.color,b.opacity=_.fillOpacity):b&&(S.removeChild(b),a._fill=null)},_updateCircle:function(a){var m=a._point.round(),b=Math.round(a._radius),_=Math.round(a._radiusY||b);this._setPath(a,a._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+_+" 0,"+65535*360)},_setPath:function(a,m){a._path.v=m},_bringToFront:function(a){xs(a._container)},_bringToBack:function(a){Vs(a._container)}},au=H.vml?ou:On,pa=vo.extend({_initContainer:function(){this._container=au("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=au("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vn(this._container),bn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vo.prototype._update.call(this);var a=this._bounds,m=a.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),$n(b,a.min),b.setAttribute("viewBox",[a.min.x,a.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(a){var m=a._path=au("path");a.options.className&&_t(m,a.options.className),a.options.interactive&&_t(m,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){vn(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var m=a._path,b=a.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(a,m){this._setPath(a,jn(a._parts,m))},_updateCircle:function(a){var m=a._point,b=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||b,S="a"+b+","+_+" 0 1,0 ",z=a._empty()?"M0 0":"M"+(m.x-b)+","+m.y+S+b*2+",0 "+S+-b*2+",0 ";this._setPath(a,z)},_setPath:function(a,m){a._path.setAttribute("d",m)},_bringToFront:function(a){xs(a._path)},_bringToBack:function(a){Vs(a._path)}});H.vml&&pa.include(Cb);function el(a){return H.svg||H.vml?new pa(a):null}jt.include({getRenderer:function(a){var m=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var m=this._paneRenderers[a];return m===void 0&&(m=this._createRenderer({pane:a}),this._paneRenderers[a]=m),m},_createRenderer:function(a){return this.options.preferCanvas&&ep(a)||el(a)}});var tp=$o.extend({initialize:function(a,m){$o.prototype.initialize.call(this,this._boundsToLatLngs(a),m)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Bt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function lu(a,m){return new tp(a,m)}pa.create=au,pa.pointsToPath=jn,eo.geometryToLayer=mc,eo.coordsToLatLng=cm,eo.coordsToLatLngs=hc,eo.latLngToCoords=dm,eo.latLngsToCoords=fc,eo.getFeature=Ya,eo.asFeature=pc,jt.mergeOptions({boxZoom:!0});var np=Gt.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ns(),Ot(),this._startPoint=this._map.mouseEventToContainerPoint(a),et(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=$t("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var m=new Se(this._point,this._startPoint),b=m.getSize();$n(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(vn(this._box),Yt(this._container,"leaflet-crosshair")),Ni(),po(),bn(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var m=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jt.addInitHook("addHandler","boxZoom",np),jt.mergeOptions({doubleClickZoom:!0});var rp=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var m=this._map,b=m.getZoom(),_=m.options.zoomDelta,S=a.originalEvent.shiftKey?b-_:b+_;m.options.doubleClickZoom==="center"?m.setZoom(S):m.setZoomAround(a.containerPoint,S)}});jt.addInitHook("addHandler","doubleClickZoom",rp),jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ip=Gt.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new St(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Yt(this._map._container,"leaflet-grab"),Yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Bt(this._map.options.maxBounds);this._offsetLimit=Be(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,m){return a-(a-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;a.x<m.min.x&&(a.x=this._viscousLimit(a.x,m.min.x)),a.y<m.min.y&&(a.y=this._viscousLimit(a.y,m.min.y)),a.x>m.max.x&&(a.x=this._viscousLimit(a.x,m.max.x)),a.y>m.max.y&&(a.y=this._viscousLimit(a.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,m=Math.round(a/2),b=this._initialWorldOffset,_=this._draggable._newPos.x,S=(_-m+b)%a+m-b,z=(_+m+b)%a-m-b,Z=Math.abs(S+b)<Math.abs(z+b)?S:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(a){var m=this._map,b=m.options,_=!b.inertia||a.noInertia||this._times.length<2;if(m.fire("dragend",a),_)m.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,Z=b.easeLinearity,oe=S.multiplyBy(Z/z),he=oe.distanceTo([0,0]),Ee=Math.min(b.inertiaMaxSpeed,he),qe=oe.multiplyBy(Ee/he),dt=Ee/(b.inertiaDeceleration*Z),Lt=qe.multiplyBy(-dt/2).round();!Lt.x&&!Lt.y?m.fire("moveend"):(Lt=m._limitOffset(Lt,m.options.maxBounds),K(function(){m.panBy(Lt,{duration:dt,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});jt.addInitHook("addHandler","dragging",ip),jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xc=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),et(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,m=document.documentElement,b=a.scrollTop||m.scrollTop,_=a.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(_,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var m=this._panKeys={},b=this.keyCodes,_,S;for(_=0,S=b.left.length;_<S;_++)m[b.left[_]]=[-1*a,0];for(_=0,S=b.right.length;_<S;_++)m[b.right[_]]=[a,0];for(_=0,S=b.down.length;_<S;_++)m[b.down[_]]=[0,a];for(_=0,S=b.up.length;_<S;_++)m[b.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var m=this._zoomKeys={},b=this.keyCodes,_,S;for(_=0,S=b.zoomIn.length;_<S;_++)m[b.zoomIn[_]]=a;for(_=0,S=b.zoomOut.length;_<S;_++)m[b.zoomOut[_]]=-a},_addHooks:function(){et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var m=a.keyCode,b=this._map,_;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(_=this._panKeys[m],a.shiftKey&&(_=Oe(_).multiplyBy(3)),b.options.maxBounds&&(_=b._limitOffset(Oe(_),b.options.maxBounds)),b.options.worldCopyJump){var S=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(_)));b.panTo(S)}else b.panBy(_)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;ui(a)}}});jt.addInitHook("addHandler","keyboard",xc),jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _c=Gt.extend({addHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var m=mn(a),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),_),ui(a)},_performZoom:function(){var a=this._map,m=a.getZoom(),b=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,z=b?Math.ceil(S/b)*b:S,Z=a._limitZoom(m+(this._delta>0?z:-z))-m;this._delta=0,this._startTime=null,Z&&(a.options.scrollWheelZoom==="center"?a.setZoom(m+Z):a.setZoomAround(this._lastMousePos,m+Z))}});jt.addInitHook("addHandler","scrollWheelZoom",_c);var tl=600;jt.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var ga=Gt.extend({addHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var m=a.touches[0];this._startPos=this._newPos=new Te(m.clientX,m.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(et(document,"touchend",An),et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),tl),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){bn(document,"touchend",An),bn(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),bn(document,"touchend touchcancel contextmenu",this._cancel,this),bn(document,"touchmove",this._onMove,this)},_onMove:function(a){var m=a.touches[0];this._newPos=new Te(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,m){var b=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});jt.addInitHook("addHandler","tapHold",ga),jt.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var hm=Gt.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),bn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var m=this._map;if(!(!a.touches||a.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(a.touches[0]),_=m.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(_)._divideBy(2))),this._startDist=b.distanceTo(_),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),An(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(a.touches[0]),_=m.mouseEventToContainerPoint(a.touches[1]),S=b.distanceTo(_)/this._startDist;if(this._zoom=m.getScaleZoom(S,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&S<1||this._zoom>m.getMaxZoom()&&S>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var z=b._add(_)._divideBy(2)._subtract(this._centerPoint);if(S===1&&z.x===0&&z.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var Z=c(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(Z,this,!0),An(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),bn(document,"touchmove",this._onTouchMove,this),bn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jt.addInitHook("addHandler","touchZoom",hm),jt.BoxZoom=np,jt.DoubleClickZoom=rp,jt.Drag=ip,jt.Keyboard=xc,jt.ScrollWheelZoom=_c,jt.TapHold=ga,jt.TouchZoom=hm,t.Bounds=Se,t.Browser=H,t.CRS=Rn,t.Canvas=Xf,t.Circle=um,t.CircleMarker=ru,t.Class=Ie,t.Control=V,t.DivIcon=Qf,t.DivOverlay=as,t.DomEvent=Ga,t.DomUtil=ca,t.Draggable=St,t.Evented=_e,t.FeatureGroup=Sr,t.GeoJSON=eo,t.GridLayer=su,t.Handler=Gt,t.Icon=Ei,t.ImageOverlay=vc,t.LatLng=Tt,t.LatLngBounds=mt,t.Layer=Je,t.LayerGroup=yn,t.LineUtil=k,t.Map=jt,t.Marker=dc,t.Mixin=Cn,t.Path=Bo,t.Point=Te,t.PolyUtil=Wa,t.Polygon=$o,t.Polyline=Xs,t.Popup=iu,t.PosAnimation=Lo,t.Projection=me,t.Rectangle=tp,t.Renderer=vo,t.SVG=pa,t.SVGOverlay=bc,t.TileLayer=Xa,t.Tooltip=yc,t.Transformation=Xn,t.Util=j,t.VideoOverlay=Zf,t.bind=c,t.bounds=Be,t.canvas=ep,t.circle=Nb,t.circleMarker=_b,t.control=W,t.divIcon=Rb,t.extend=o,t.featureGroup=os,t.geoJSON=Wf,t.geoJson=Kf,t.gridLayer=Yf,t.icon=tu,t.imageOverlay=Tb,t.latLng=bt,t.latLngBounds=Bt,t.layerGroup=xr,t.map=ma,t.marker=xb,t.point=Oe,t.polygon=qf,t.polyline=Qa,t.popup=Ja,t.rectangle=lu,t.setOptions=A,t.stamp=v,t.svg=el,t.svgOverlay=fa,t.tileLayer=mm,t.tooltip=Db,t.transformation=Zn,t.version=s,t.videoOverlay=Eb;var wb=window.L;t.noConflict=function(){return window.L=wb,this},window.L=t})})(O_,O_.exports);var Yd=O_.exports;function Wv(r,e,t){return Object.freeze({instance:r,context:e,container:t})}function Kv(r,e){return e==null?function(s,o){const u=Q.useRef();return u.current||(u.current=r(s,o)),u}:function(s,o){const u=Q.useRef();u.current||(u.current=r(s,o));const c=Q.useRef(s),{instance:p}=u.current;return Q.useEffect(function(){c.current!==s&&(e(p,s,c.current),c.current=s)},[p,s,o]),u}}function xw(r,e){Q.useEffect(function(){return(e.layerContainer??e.map).addLayer(r.instance),function(){var u;(u=e.layerContainer)==null||u.removeLayer(r.instance),e.map.removeLayer(r.instance)}},[e,r])}function _w(r){return function(t){const s=qv(),o=r(Gv(t,s),s);return pw(s.map,t.attribution),bN(o.current,t.eventHandlers),xw(o.current,s),o}}function SL(r,e){const t=Q.useRef();Q.useEffect(function(){if(e.pathOptions!==t.current){const o=e.pathOptions??{};r.instance.setStyle(o),t.current=o}},[r,e])}function kL(r){return function(t){const s=qv(),o=r(Gv(t,s),s);return bN(o.current,t.eventHandlers),xw(o.current,s),SL(o.current,t),o}}function IL(r,e){const t=Kv(r,e),s=_w(t);return yw(s)}function VL(r,e){const t=Kv(r),s=wL(t,e);return RL(s)}function AL(r,e){const t=Kv(r,e),s=kL(t);return yw(s)}function zL(r,e){const t=Kv(r,e),s=_w(t);return CL(s)}function PL(r,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&r.setOpacity(s),o!=null&&o!==t.zIndex&&r.setZIndex(o)}function Nw(){return qv().map}function j_(){return j_=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},j_.apply(this,arguments)}function UL({bounds:r,boundsOptions:e,center:t,children:s,className:o,id:u,placeholder:c,style:p,whenReady:v,zoom:x,...N},E){const[R]=Q.useState({className:o,id:u,style:p}),[C,P]=Q.useState(null);Q.useImperativeHandle(E,()=>(C==null?void 0:C.map)??null,[C]);const A=Q.useCallback(Y=>{if(Y!==null&&C===null){const J=new Yd.Map(Y,N);t!=null&&x!=null?J.setView(t,x):r!=null&&J.fitBounds(r,e),v!=null&&J.whenReady(v),P(DL(J))}},[]);Q.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const M=C?Ol.createElement(bw,{value:C},s):c??null;return Ol.createElement("div",j_({},R,{ref:A}),M)}const OL=Q.forwardRef(UL),Mh=IL(function({position:e,...t},s){const o=new Yd.Marker(e,t);return Wv(o,gw(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),jL=AL(function({positions:e,...t},s){const o=new Yd.Polyline(e,t);return Wv(o,gw(s,{overlayContainer:o}))},function(e,t,s){t.positions!==s.positions&&e.setLatLngs(t.positions)}),Fh=VL(function(e,t){const s=new Yd.Popup(e,t.overlayContainer);return Wv(s,t)},function(e,t,{position:s},o){Q.useEffect(function(){const{instance:c}=e;function p(x){x.popup===c&&(c.update(),o(!0))}function v(x){x.popup===c&&o(!1)}return t.map.on({popupopen:p,popupclose:v}),t.overlayContainer==null?(s!=null&&c.setLatLng(s),c.openOn(t.map)):t.overlayContainer.bindPopup(c),function(){var N;t.map.off({popupopen:p,popupclose:v}),(N=t.overlayContainer)==null||N.unbindPopup(),t.map.removeLayer(c)}},[e,t,o,s])}),LL=zL(function({url:e,...t},s){const o=new Yd.TileLayer(e,Gv(t,s));return Wv(o,s)},function(e,t,s){PL(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});const cf=r=>new Yd.Icon({iconUrl:`data:image/svg+xml;base64,${btoa(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${r}">
      <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/>
      <circle cx="12" cy="9" r="3" fill="white"/>
    </svg>
  `)}`,iconSize:[30,40],iconAnchor:[15,40],popupAnchor:[0,-40]}),ML=cf("#DC2626"),FL=cf("#2563EB"),BL=cf("#10B981"),$L=({center:r})=>{const e=Nw();return Q.useEffect(()=>{e.setView(r,e.getZoom())},[r,e]),null},HL=({isFullscreen:r=!1})=>{const e=Nw();return Q.useEffect(()=>{const t=setTimeout(()=>{e.invalidateSize()},100);return()=>clearTimeout(t)},[e,r]),null},qL=({sceneLocation:r,hospitalLocation:e,currentLocation:t,selectedRoute:s,selectedHospital:o,showFullscreenButton:u=!0,className:c=""})=>{const p=[35.6762,139.6503],[v,x]=Q.useState(p),[N,E]=Q.useState(!1);Q.useEffect(()=>{r?x([r.latitude,r.longitude]):e?x([e.latitude,e.longitude]):t&&x([t.latitude,t.longitude])},[r,e,t]),Q.useEffect(()=>{if(N){const C=setTimeout(()=>{},200);return()=>clearTimeout(C)}},[N]);const R=(C=!1)=>{var P;return h.jsxDEV("div",{className:`h-full w-full relative ${C?"":c}`,children:[h.jsxDEV(OL,{center:v,zoom:C?15:13,className:`h-full w-full ${C?"":"rounded-lg"}`,style:{minHeight:C?"100vh":"300px"},children:[h.jsxDEV(LL,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:115,columnNumber:9},globalThis),h.jsxDEV($L,{center:v},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:120,columnNumber:9},globalThis),h.jsxDEV(HL,{isFullscreen:C},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:121,columnNumber:9},globalThis),r&&h.jsxDEV(Mh,{position:[r.latitude,r.longitude],icon:ML,children:h.jsxDEV(Fh,{children:h.jsxDEV("div",{className:"text-sm",children:[h.jsxDEV("strong",{children:"現場"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:131,columnNumber:17},globalThis),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:131,columnNumber:36},globalThis),"緯度: ",r.latitude.toFixed(6),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:132,columnNumber:56},globalThis),"経度: ",r.longitude.toFixed(6)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:130,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:129,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:125,columnNumber:11},globalThis),(e||o)&&h.jsxDEV(Mh,{position:[(o==null?void 0:o.latitude)||e.latitude,(o==null?void 0:o.longitude)||e.longitude],icon:FL,children:h.jsxDEV(Fh,{children:h.jsxDEV("div",{className:"text-sm",children:[h.jsxDEV("strong",{children:(o==null?void 0:o.name)||"搬送先病院"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:150,columnNumber:17},globalThis),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:150,columnNumber:69},globalThis),o&&h.jsxDEV(h.Fragment,{children:[o.address,h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:153,columnNumber:47},globalThis),"📞 ",o.phone,h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:154,columnNumber:48},globalThis),"🏥 ",o.specialties.slice(0,3).join(", "),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:155,columnNumber:77},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:152,columnNumber:19},globalThis),"緯度: ",((o==null?void 0:o.latitude)||e.latitude).toFixed(6),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:158,columnNumber:92},globalThis),"経度: ",((o==null?void 0:o.longitude)||e.longitude).toFixed(6)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:149,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:148,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:141,columnNumber:11},globalThis),t&&h.jsxDEV(Mh,{position:[t.latitude,t.longitude],icon:BL,children:h.jsxDEV(Fh,{children:h.jsxDEV("div",{className:"text-sm",children:[h.jsxDEV("strong",{children:"現在地"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:173,columnNumber:17},globalThis),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:173,columnNumber:37},globalThis),"緯度: ",t.latitude.toFixed(6),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:174,columnNumber:58},globalThis),"経度: ",t.longitude.toFixed(6)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:172,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:171,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:167,columnNumber:11},globalThis),s&&s.coordinates&&s.coordinates.length>1&&h.jsxDEV(h.Fragment,{children:[C&&s&&console.log("フルスクリーンでルート表示:",s.coordinates.length,"座標"),h.jsxDEV(jL,{positions:s.coordinates.map(A=>[A.latitude,A.longitude]),color:C?"#FF6B35":"#3B82F6",weight:C?6:4,opacity:.9},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:186,columnNumber:13},globalThis),h.jsxDEV(Mh,{position:[s.coordinates[0].latitude,s.coordinates[0].longitude],icon:cf("#00FF00"),children:h.jsxDEV(Fh,{children:h.jsxDEV("div",{className:"text-sm",children:[h.jsxDEV("strong",{children:["ルート開始点 ",C?"(フルスクリーン)":""]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:199,columnNumber:19},globalThis),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:199,columnNumber:80},globalThis),"緯度: ",s.coordinates[0].latitude.toFixed(6),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:200,columnNumber:73},globalThis),"経度: ",s.coordinates[0].longitude.toFixed(6),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:201,columnNumber:74},globalThis),"座標数: ",s.coordinates.length]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:198,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:197,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:193,columnNumber:13},globalThis),h.jsxDEV(Mh,{position:[s.coordinates[s.coordinates.length-1].latitude,s.coordinates[s.coordinates.length-1].longitude],icon:cf("#FF0000"),children:h.jsxDEV(Fh,{children:h.jsxDEV("div",{className:"text-sm",children:[h.jsxDEV("strong",{children:["ルート終了点 ",C?"(フルスクリーン)":""]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:212,columnNumber:19},globalThis),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:212,columnNumber:80},globalThis),"緯度: ",s.coordinates[s.coordinates.length-1].latitude.toFixed(6),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:213,columnNumber:108},globalThis),"経度: ",s.coordinates[s.coordinates.length-1].longitude.toFixed(6),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:214,columnNumber:109},globalThis),"座標数: ",s.coordinates.length]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:211,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:210,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:206,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:183,columnNumber:11},globalThis)]},C?"fullscreen-map":"normal-map",!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:108,columnNumber:7},globalThis),u&&!C&&h.jsxDEV("button",{onClick:()=>E(!0),className:"absolute top-2 right-2 z-[1000] bg-blue-600 hover:bg-blue-700 text-white shadow-lg rounded-lg p-3 transition-colors border border-blue-600",title:"地図を全画面表示",children:h.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:251,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:250,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:245,columnNumber:9},globalThis),C&&h.jsxDEV("div",{className:"absolute bottom-4 left-4 z-[1000] bg-white shadow-lg rounded-lg p-3 border border-gray-200",children:[h.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"凡例"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:259,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-1 text-xs",children:[r&&h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("div",{className:"w-3 h-3 bg-red-600 rounded-full"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:263,columnNumber:17},globalThis),h.jsxDEV("span",{children:"現場"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:264,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:262,columnNumber:15},globalThis),(e||o)&&h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("div",{className:"w-3 h-3 bg-blue-600 rounded-full"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:269,columnNumber:17},globalThis),h.jsxDEV("span",{children:"搬送先病院"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:270,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:268,columnNumber:15},globalThis),t&&h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("div",{className:"w-3 h-3 bg-green-600 rounded-full"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:275,columnNumber:17},globalThis),h.jsxDEV("span",{children:"現在地"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:276,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:274,columnNumber:15},globalThis),s&&h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("div",{className:"w-4 h-1 bg-blue-500 rounded"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:281,columnNumber:17},globalThis),h.jsxDEV("span",{children:"最適ルート"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:282,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:280,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:260,columnNumber:11},globalThis),h.jsxDEV("div",{className:"mt-3 pt-2 border-t border-gray-200",children:h.jsxDEV("div",{className:"text-xs text-gray-500 space-y-1",children:[h.jsxDEV("div",{children:"🖱️ ドラッグ: 地図移動"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:296,columnNumber:15},globalThis),h.jsxDEV("div",{children:"🔍 スクロール: ズーム"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:297,columnNumber:15},globalThis),h.jsxDEV("div",{children:"📍 マーカークリック: 詳細表示"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:298,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:295,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:294,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:258,columnNumber:9},globalThis),C&&h.jsxDEV("div",{className:"absolute top-4 right-4 z-[1000] flex flex-col space-y-2",children:[h.jsxDEV("button",{onClick:()=>{x(r?[r.latitude,r.longitude]:p)},className:"bg-white shadow-lg rounded-lg p-2 hover:bg-gray-50 transition-colors border border-gray-200",title:"現場中心に表示",children:h.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:316,columnNumber:15},globalThis),h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:317,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:315,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:307,columnNumber:11},globalThis),h.jsxDEV("div",{className:"bg-gray-800 text-white text-xs p-2 rounded-lg max-w-48",children:[h.jsxDEV("div",{children:["ルート: ",s?"✓":"✗"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:323,columnNumber:13},globalThis),h.jsxDEV("div",{children:["座標数: ",((P=s==null?void 0:s.coordinates)==null?void 0:P.length)||0]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:324,columnNumber:13},globalThis),!s&&h.jsxDEV("div",{className:"mt-2 text-yellow-300",children:"※ ルート最適化を実行してください"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:327,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:322,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:306,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:107,columnNumber:5},globalThis)};return h.jsxDEV(h.Fragment,{children:[R(!1),h.jsxDEV(yL,{isOpen:N,onClose:()=>E(!1),size:"full",title:"地図 - 全画面表示",children:h.jsxDEV("div",{className:"h-full",children:R(!0)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:348,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:342,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/MapComponent.tsx",lineNumber:338,columnNumber:5},globalThis)},v_=()=>{const r=new Date;return{id:`vital-${Date.now()}`,timestamp:{toDate:()=>r,toMillis:()=>r.getTime(),seconds:Math.floor(r.getTime()/1e3),nanoseconds:0},hr:60+Math.floor(Math.random()*40),bp_s:110+Math.floor(Math.random()*30),bp_d:60+Math.floor(Math.random()*20),spo2:94+Math.floor(Math.random()*6),recordedBy:"demo-user",caseId:""}},GL=({caseId:r,className:e=""})=>{const[t,s]=Q.useState([]),[o,u]=Q.useState(!1),[c,p]=Q.useState({hr:"",bp_s:"",bp_d:"",spo2:""});Q.useEffect(()=>{{const N=[v_(),v_(),v_()];s(N)}},[]);const v=()=>{if(!c.hr||!c.bp_s||!c.bp_d||!c.spo2){alert("すべての項目を入力してください");return}const N={id:`vital-${Date.now()}`,timestamp:{toDate:()=>new Date,toMillis:()=>Date.now(),seconds:Math.floor(Date.now()/1e3),nanoseconds:0},hr:parseInt(c.hr),bp_s:parseInt(c.bp_s),bp_d:parseInt(c.bp_d),spo2:parseInt(c.spo2),recordedBy:"current-user",caseId:r};s([N,...t]),p({hr:"",bp_s:"",bp_d:"",spo2:""}),u(!1)},x=N=>(N.toDate?N.toDate():new Date(N.seconds*1e3)).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});return h.jsxDEV("div",{className:`${e}`,children:[h.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[h.jsxDEV("h4",{className:"text-sm font-medium text-gray-900",children:"バイタルサイン"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:91,columnNumber:9},globalThis),h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>u(!o),children:"記録追加"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:92,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:90,columnNumber:7},globalThis),o&&h.jsxDEV("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[h.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-xs text-gray-600 mb-1",children:"心拍数 (bpm)"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:105,columnNumber:15},globalThis),h.jsxDEV("input",{type:"number",value:c.hr,onChange:N=>p({...c,hr:N.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"70"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:106,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:104,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-xs text-gray-600 mb-1",children:"SpO2 (%)"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:115,columnNumber:15},globalThis),h.jsxDEV("input",{type:"number",value:c.spo2,onChange:N=>p({...c,spo2:N.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"98"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:116,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:114,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-xs text-gray-600 mb-1",children:"収縮期血圧"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:125,columnNumber:15},globalThis),h.jsxDEV("input",{type:"number",value:c.bp_s,onChange:N=>p({...c,bp_s:N.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"120"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:126,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:124,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-xs text-gray-600 mb-1",children:"拡張期血圧"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:135,columnNumber:15},globalThis),h.jsxDEV("input",{type:"number",value:c.bp_d,onChange:N=>p({...c,bp_d:N.target.value}),className:"w-full px-2 py-1 text-sm border rounded",placeholder:"80"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:136,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:134,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:103,columnNumber:11},globalThis),h.jsxDEV("div",{className:"flex justify-end space-x-2 mt-3",children:[h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>{u(!1),p({hr:"",bp_s:"",bp_d:"",spo2:""})},children:"キャンセル"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:146,columnNumber:13},globalThis),h.jsxDEV(an,{size:"sm",onClick:v,children:"保存"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:156,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:145,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:102,columnNumber:9},globalThis),h.jsxDEV("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.length===0?h.jsxDEV("p",{className:"text-sm text-gray-500 text-center py-4",children:"バイタルサインの記録がありません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:165,columnNumber:11},globalThis):t.map(N=>h.jsxDEV("div",{className:"bg-gray-50 rounded p-3 text-sm",children:h.jsxDEV("div",{className:"flex justify-between items-start",children:[h.jsxDEV("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"HR:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:174,columnNumber:21},globalThis)," ",h.jsxDEV("span",{className:"font-medium",children:[N.hr," bpm"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:175,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:173,columnNumber:19},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"SpO2:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:178,columnNumber:21},globalThis)," ",h.jsxDEV("span",{className:"font-medium",children:[N.spo2,"%"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:179,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:177,columnNumber:19},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"BP:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:182,columnNumber:21},globalThis)," ",h.jsxDEV("span",{className:"font-medium",children:[N.bp_s,"/",N.bp_d," mmHg"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:183,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:181,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:172,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-xs text-gray-500",children:x(N.timestamp)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:188,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:171,columnNumber:15},globalThis)},N.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:170,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:163,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/VitalSignsComponent.tsx",lineNumber:89,columnNumber:5},globalThis)},WL=["現場到着しました","患者接触しました","搬送開始します","病院到着しました","処置開始しました","追加支援が必要です"],KL=()=>{const r=new Date;return[{id:"msg-1",timestamp:{toDate:()=>new Date(r.getTime()-15*60*1e3),toMillis:()=>r.getTime()-15*60*1e3,seconds:Math.floor((r.getTime()-15*60*1e3)/1e3),nanoseconds:0},senderId:"doctor-001",senderName:"山田 太郎",text:"現場に向かっています。到着予定時刻は10:15です。",caseId:"",messageType:"text"},{id:"msg-2",timestamp:{toDate:()=>new Date(r.getTime()-10*60*1e3),toMillis:()=>r.getTime()-10*60*1e3,seconds:Math.floor((r.getTime()-10*60*1e3)/1e3),nanoseconds:0},senderId:"hospital-001",senderName:"佐藤 花子",text:"了解しました。受け入れ準備を開始します。",caseId:"",messageType:"text"},{id:"msg-3",timestamp:{toDate:()=>new Date(r.getTime()-5*60*1e3),toMillis:()=>r.getTime()-5*60*1e3,seconds:Math.floor((r.getTime()-5*60*1e3)/1e3),nanoseconds:0},senderId:"doctor-001",senderName:"山田 太郎",text:"現場到着しました",caseId:"",messageType:"preset"}]},ZL=({caseId:r,className:e=""})=>{const{userInfo:t}=Kl(),[s,o]=Q.useState([]),[u,c]=Q.useState(""),[p,v]=Q.useState(!1),[x,N]=Q.useState(!1),[E,R]=Q.useState(null),C=Q.useRef(null);Q.useEffect(()=>{o(KL())},[]),Q.useEffect(()=>{if(typeof window<"u"&&"webkitSpeechRecognition"in window){const ee=window.webkitSpeechRecognition,pe=new ee;pe.continuous=!1,pe.interimResults=!1,pe.lang="ja-JP",pe.onresult=ye=>{const te=ye.results[0][0].transcript;c(te),N(!1)},pe.onend=()=>{N(!1)},pe.onerror=ye=>{console.error("Speech recognition error:",ye.error),N(!1)},R(pe)}},[]),Q.useEffect(()=>{var ee;(ee=C.current)==null||ee.scrollIntoView({behavior:"smooth"})},[s]);const P=ee=>(ee.toDate?ee.toDate():new Date(ee.seconds*1e3)).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),A=(ee,pe="text")=>{if(!ee.trim())return;const ye={id:`msg-${Date.now()}`,timestamp:{toDate:()=>new Date,toMillis:()=>Date.now(),seconds:Math.floor(Date.now()/1e3),nanoseconds:0},senderId:(t==null?void 0:t.uid)||"demo-user",senderName:(t==null?void 0:t.name)||"デモユーザー",text:ee.trim(),caseId:r,messageType:pe};o([...s,ye]),c(""),v(!1)},M=ee=>{ee.key==="Enter"&&!ee.shiftKey&&(ee.preventDefault(),A(u))},Y=()=>{E&&!x&&(N(!0),E.start())},J=()=>{E&&x&&(E.stop(),N(!1))};return h.jsxDEV("div",{className:`flex flex-col h-full ${e}`,children:[h.jsxDEV("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2 min-h-0",children:[s.length===0?h.jsxDEV("p",{className:"text-sm text-gray-500 text-center py-8",children:"メッセージがありません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:178,columnNumber:11},globalThis):s.map(ee=>{const pe=ee.senderId===(t==null?void 0:t.uid);return h.jsxDEV("div",{className:`flex ${pe?"justify-end":"justify-start"}`,children:h.jsxDEV("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${pe?"bg-medical-primary text-white":"bg-gray-200 text-gray-900"}`,children:[h.jsxDEV("div",{className:"text-xs opacity-75 mb-1",children:[ee.senderName," - ",P(ee.timestamp)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:196,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-sm break-words",children:[ee.messageType==="preset"&&h.jsxDEV("span",{className:"inline-block mr-1",children:"📌"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:201,columnNumber:23},globalThis),ee.text]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:199,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:189,columnNumber:17},globalThis)},ee.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:185,columnNumber:15},globalThis)}),h.jsxDEV("div",{ref:C},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:210,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:176,columnNumber:7},globalThis),p&&h.jsxDEV("div",{className:"mb-2 p-2 bg-gray-50 rounded-lg",children:[h.jsxDEV("div",{className:"text-xs text-gray-600 mb-2",children:"定型メッセージ:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:216,columnNumber:11},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:WL.map(ee=>h.jsxDEV("button",{onClick:()=>A(ee,"preset"),className:"text-left text-sm px-3 py-2 bg-white border rounded hover:bg-gray-50 transition-colors",children:ee},ee,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:219,columnNumber:15},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:217,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:215,columnNumber:9},globalThis),h.jsxDEV("div",{className:"border-t pt-4",children:[h.jsxDEV("div",{className:"flex space-x-2",children:[h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>v(!p),className:"flex-shrink-0",children:"定型"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:234,columnNumber:11},globalThis),E&&h.jsxDEV(an,{size:"sm",variant:x?"danger":"outline",onClick:x?J:Y,className:"flex-shrink-0",title:x?"録音停止":"音声入力",children:x?h.jsxDEV("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("rect",{x:"7",y:"7",width:"6",height:"6",rx:"1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:254,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:253,columnNumber:17},globalThis):h.jsxDEV("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:258,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:257,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:245,columnNumber:13},globalThis),h.jsxDEV("input",{type:"text",value:u,onChange:ee=>c(ee.target.value),onKeyPress:M,placeholder:x?"音声入力中...":"メッセージを入力...",className:"flex-1 px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",disabled:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:264,columnNumber:11},globalThis),h.jsxDEV(an,{size:"sm",onClick:()=>A(u),disabled:!u.trim()||x,children:"送信"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:273,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:233,columnNumber:9},globalThis),x&&h.jsxDEV("div",{className:"mt-2 text-xs text-gray-600 flex items-center",children:[h.jsxDEV("div",{className:"w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:285,columnNumber:13},globalThis),"音声を認識しています..."]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:284,columnNumber:11},globalThis),!E&&h.jsxDEV("div",{className:"mt-2 text-xs text-gray-500",children:"※ このブラウザでは音声認識がサポートされていません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:292,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:232,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/ChatComponent.tsx",lineNumber:174,columnNumber:5},globalThis)},QL=["バイタル測定","酸素投与開始","静脈路確保","心電図モニタリング開始","体位変換","体温管理","創部処置","疼痛管理","薬剤投与","気道確保"],YL=()=>{const r=new Date;return[{id:"treatment-1",timestamp:{toDate:()=>new Date(r.getTime()-20*60*1e3),toMillis:()=>r.getTime()-20*60*1e3,seconds:Math.floor((r.getTime()-20*60*1e3)/1e3),nanoseconds:0},name:"バイタル測定",details:"HR: 85bpm, BP: 120/80mmHg, SpO2: 98%",recordedBy:"山田 太郎",caseId:""},{id:"treatment-2",timestamp:{toDate:()=>new Date(r.getTime()-15*60*1e3),toMillis:()=>r.getTime()-15*60*1e3,seconds:Math.floor((r.getTime()-15*60*1e3)/1e3),nanoseconds:0},name:"酸素投与開始",details:"マスク 4L/min",recordedBy:"山田 太郎",caseId:""}]},JL=({caseId:r,className:e=""})=>{const[t,s]=Q.useState([]),[o,u]=Q.useState(!1),[c,p]=Q.useState(!1),[v,x]=Q.useState({name:"",details:""});Q.useEffect(()=>{s(YL())},[]);const N=C=>(C.toDate?C.toDate():new Date(C.seconds*1e3)).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),E=(C,P="")=>{if(!C.trim()){alert("処置名を入力してください");return}const A={id:`treatment-${Date.now()}`,timestamp:{toDate:()=>new Date,toMillis:()=>Date.now(),seconds:Math.floor(Date.now()/1e3),nanoseconds:0},name:C.trim(),details:P.trim(),recordedBy:"current-user",caseId:r};s([A,...t]),x({name:"",details:""}),u(!1),p(!1)},R=C=>{x({...v,name:C}),p(!1)};return h.jsxDEV("div",{className:`${e}`,children:[h.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[h.jsxDEV("h4",{className:"text-sm font-medium text-gray-900",children:"処置記録"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:116,columnNumber:9},globalThis),h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>u(!o),children:"記録追加"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:117,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:115,columnNumber:7},globalThis),o&&h.jsxDEV("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[h.jsxDEV("div",{className:"space-y-3",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-xs text-gray-600 mb-1",children:"処置名"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:130,columnNumber:15},globalThis),h.jsxDEV("div",{className:"flex space-x-2",children:[h.jsxDEV("input",{type:"text",value:v.name,onChange:C=>x({...v,name:C.target.value}),className:"flex-1 px-2 py-1 text-sm border rounded",placeholder:"処置名を入力"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:132,columnNumber:17},globalThis),h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>p(!c),children:"選択"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:139,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:131,columnNumber:15},globalThis),c&&h.jsxDEV("div",{className:"mt-2 p-2 bg-white border rounded max-h-32 overflow-y-auto",children:[h.jsxDEV("div",{className:"text-xs text-gray-600 mb-1",children:"処置を選択:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:150,columnNumber:19},globalThis),h.jsxDEV("div",{className:"space-y-1",children:QL.map(C=>h.jsxDEV("button",{onClick:()=>R(C),className:"block w-full text-left text-sm px-2 py-1 hover:bg-gray-100 rounded",children:C},C,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:153,columnNumber:23},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:151,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:149,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:129,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-xs text-gray-600 mb-1",children:"詳細・備考"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:167,columnNumber:15},globalThis),h.jsxDEV("textarea",{value:v.details,onChange:C=>x({...v,details:C.target.value}),className:"w-full px-2 py-1 text-sm border rounded resize-none",rows:2,placeholder:"詳細や数値など"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:168,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:166,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:128,columnNumber:11},globalThis),h.jsxDEV("div",{className:"flex justify-end space-x-2 mt-3",children:[h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>{u(!1),p(!1),x({name:"",details:""})},children:"キャンセル"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:179,columnNumber:13},globalThis),h.jsxDEV(an,{size:"sm",onClick:()=>E(v.name,v.details),children:"保存"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:190,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:178,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:127,columnNumber:9},globalThis),h.jsxDEV("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.length===0?h.jsxDEV("p",{className:"text-sm text-gray-500 text-center py-4",children:"処置記録がありません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:202,columnNumber:11},globalThis):t.map(C=>h.jsxDEV("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[h.jsxDEV("div",{className:"flex justify-between items-start mb-1",children:[h.jsxDEV("div",{className:"font-medium text-gray-900",children:C.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:209,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-xs text-gray-500",children:N(C.timestamp)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:210,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:208,columnNumber:15},globalThis),C.details&&h.jsxDEV("div",{className:"text-gray-600 text-xs mb-1",children:C.details},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:215,columnNumber:17},globalThis),h.jsxDEV("div",{className:"text-xs text-gray-500",children:["記録者: ",C.recordedBy]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:219,columnNumber:15},globalThis)]},C.id,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:207,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:200,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/TreatmentComponent.tsx",lineNumber:114,columnNumber:5},globalThis)},XL=(r={})=>{const[e,t]=Q.useState({location:null,error:null,loading:!0}),{enableHighAccuracy:s=!0,timeout:o=1e4,maximumAge:u=6e4,watch:c=!1}=r;return Q.useEffect(()=>{if(!navigator.geolocation){t({location:null,error:"Geolocation is not supported by this browser.",loading:!1});return}const v=R=>{t({location:{latitude:R.coords.latitude,longitude:R.coords.longitude,accuracy:R.coords.accuracy},error:null,loading:!1})},x=R=>{let C="Unknown error occurred.";switch(R.code){case R.PERMISSION_DENIED:C="位置情報へのアクセスが拒否されました。";break;case R.POSITION_UNAVAILABLE:C="位置情報を取得できませんでした。";break;case R.TIMEOUT:C="位置情報の取得がタイムアウトしました。";break}t({location:null,error:C,loading:!1})},N={enableHighAccuracy:s,timeout:o,maximumAge:u};t(R=>({...R,loading:!0}));let E;return c?E=navigator.geolocation.watchPosition(v,x,N):navigator.geolocation.getCurrentPosition(v,x,N),()=>{E!==void 0&&navigator.geolocation.clearWatch(E)}},[s,o,u,c]),{...e,getCurrentPosition:()=>{if(!navigator.geolocation){t(v=>({...v,error:"Geolocation is not supported by this browser.",loading:!1}));return}t(v=>({...v,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(v=>{t({location:{latitude:v.coords.latitude,longitude:v.coords.longitude,accuracy:v.coords.accuracy},error:null,loading:!1})},v=>{let x="Unknown error occurred.";switch(v.code){case v.PERMISSION_DENIED:x="位置情報へのアクセスが拒否されました。";break;case v.POSITION_UNAVAILABLE:x="位置情報を取得できませんでした。";break;case v.TIMEOUT:x="位置情報の取得がタイムアウトしました。";break}t({location:null,error:x,loading:!1})},{enableHighAccuracy:s,timeout:o,maximumAge:u})}}},eM=({className:r="",onLocationUpdate:e})=>{const[t,s]=Q.useState(!1),{location:o,error:u,loading:c,getCurrentPosition:p}=XL({watch:t,enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4});Q.useEffect(()=>{o&&e&&e(o)},[o,e]);const v=()=>{s(!t)},x=()=>{p()},N=R=>R.toFixed(6),E=()=>new Date().toLocaleTimeString("ja-JP");return h.jsxDEV("div",{className:`bg-white rounded-lg border p-4 ${r}`,children:[h.jsxDEV("div",{className:"flex justify-between items-start mb-4",children:[h.jsxDEV("h4",{className:"text-sm font-medium text-gray-900",children:"現在地追跡"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:47,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex space-x-2",children:[h.jsxDEV(an,{size:"sm",variant:"outline",onClick:x,disabled:c,children:"更新"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:49,columnNumber:11},globalThis),h.jsxDEV(an,{size:"sm",variant:t?"danger":"primary",onClick:v,children:t?"停止":"開始"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:57,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:48,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:46,columnNumber:7},globalThis),c&&h.jsxDEV("div",{className:"text-sm text-gray-600 mb-2",children:"位置情報を取得中..."},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:68,columnNumber:9},globalThis),u&&h.jsxDEV("div",{className:"text-sm text-red-600 mb-2",children:["エラー: ",u]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:74,columnNumber:9},globalThis),o&&h.jsxDEV("div",{className:"space-y-2",children:[h.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"緯度:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:83,columnNumber:15},globalThis),h.jsxDEV("div",{className:"font-mono",children:N(o.latitude)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:84,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:82,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"経度:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:87,columnNumber:15},globalThis),h.jsxDEV("div",{className:"font-mono",children:N(o.longitude)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:88,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:86,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:81,columnNumber:11},globalThis),o.accuracy&&h.jsxDEV("div",{className:"text-xs text-gray-500",children:["精度: ±",Math.round(o.accuracy),"m"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:93,columnNumber:13},globalThis),h.jsxDEV("div",{className:"text-xs text-gray-500",children:["最終更新: ",E()]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:98,columnNumber:11},globalThis),t&&h.jsxDEV("div",{className:"flex items-center text-xs text-green-600",children:[h.jsxDEV("div",{className:"w-2 h-2 bg-green-600 rounded-full mr-2 animate-pulse"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:104,columnNumber:15},globalThis),"追跡中"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:103,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:80,columnNumber:9},globalThis),!o&&!c&&!u&&h.jsxDEV("div",{className:"text-sm text-gray-500 text-center py-4",children:"位置情報を取得してください"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:112,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/LocationTracker.tsx",lineNumber:45,columnNumber:5},globalThis)};class tM{constructor(){ra(this,"mockData",[{id:"building-1",name:"東京駅",type:"station",address:"東京都千代田区丸の内1丁目",floors:3,basement:4,elevators:[{id:"elv-1",location:"丸の内中央口",capacity:20,maxWeight:1350,floors:[-4,-3,-2,-1,1,2,3],isAccessible:!0,status:"working"},{id:"elv-2",location:"八重洲中央口",capacity:15,maxWeight:1e3,floors:[-2,-1,1,2],isAccessible:!0,status:"working"}],staircases:[{id:"stair-1",location:"丸の内北口階段",type:"normal",floors:[-1,1,2],width:"wide"},{id:"stair-2",location:"八重洲南口階段",type:"normal",floors:[-1,1],width:"standard"}],exits:[{id:"exit-1",name:"丸の内中央口",type:"main",floor:1,direction:"西側",isAccessible:!0,nearbyLandmarks:["皇居","丸ビル"]},{id:"exit-2",name:"八重洲中央口",type:"main",floor:1,direction:"東側",isAccessible:!0,nearbyLandmarks:["大丸東京店","グランルーフ"]},{id:"exit-3",name:"丸の内北口",type:"main",floor:1,direction:"北西",isAccessible:!0,nearbyLandmarks:["KITTE","東京中央郵便局"]}],accessibility:{wheelchairAccessible:!0,elevatorToAllFloors:!0,accessibleParking:!1,accessibleRestrooms:!0,guidanceForVisuallyImpaired:!0},emergencyContact:"03-3212-2345",location:this.createMockGeoPoint(35.6812,139.7671),lastUpdated:new Date("2024-01-15")},{id:"building-2",name:"新宿パークタワー",type:"office",address:"東京都新宿区西新宿3丁目7-1",floors:52,basement:3,elevators:[{id:"elv-3",location:"低層用エレベーター",capacity:20,maxWeight:1350,floors:[-3,-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],isAccessible:!0,status:"working"},{id:"elv-4",location:"高層用エレベーター",capacity:20,maxWeight:1350,floors:[1,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],isAccessible:!0,status:"working"},{id:"elv-5",location:"非常用エレベーター",capacity:17,maxWeight:1150,floors:[-3,-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],isAccessible:!0,status:"working"}],staircases:[{id:"stair-3",location:"北側非常階段",type:"emergency",floors:[-3,-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],width:"standard"},{id:"stair-4",location:"南側非常階段",type:"emergency",floors:[-3,-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],width:"standard"}],exits:[{id:"exit-4",name:"メインエントランス",type:"main",floor:1,direction:"南側",isAccessible:!0,nearbyLandmarks:["新宿中央公園","ハイアットリージェンシー東京"]},{id:"exit-5",name:"北側出口",type:"emergency",floor:1,direction:"北側",isAccessible:!1}],accessibility:{wheelchairAccessible:!0,elevatorToAllFloors:!0,accessibleParking:!0,accessibleRestrooms:!0,guidanceForVisuallyImpaired:!1},emergencyContact:"03-5322-1234",location:this.createMockGeoPoint(35.6879,139.6917),lastUpdated:new Date("2024-02-01")},{id:"building-3",name:"渋谷スカイ",type:"shopping",address:"東京都渋谷区渋谷2丁目24-12",floors:14,basement:2,elevators:[{id:"elv-6",location:"中央エレベーター",capacity:24,maxWeight:1600,floors:[-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13,14],isAccessible:!0,status:"working"}],staircases:[{id:"stair-5",location:"エスカレーター",type:"escalator",floors:[-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13,14],width:"wide"}],exits:[{id:"exit-6",name:"JR渋谷駅直結",type:"main",floor:2,direction:"東側",isAccessible:!0,nearbyLandmarks:["渋谷駅","ハチ公"]}],accessibility:{wheelchairAccessible:!0,elevatorToAllFloors:!0,accessibleParking:!1,accessibleRestrooms:!0,guidanceForVisuallyImpaired:!0},location:this.createMockGeoPoint(35.658,139.7016),lastUpdated:new Date("2024-01-20")}])}createMockGeoPoint(e,t){return{latitude:e,longitude:t,isEqual:s=>Math.abs(e-s.latitude)<1e-4&&Math.abs(t-s.longitude)<1e-4}}calculateDistance(e,t){const o=e.latitude*Math.PI/180,u=t.latitude*Math.PI/180,c=(t.latitude-e.latitude)*Math.PI/180,p=(t.longitude-e.longitude)*Math.PI/180,v=Math.sin(c/2)*Math.sin(c/2)+Math.cos(o)*Math.cos(u)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}async getBuildingInfoByLocation(e,t={}){console.log("Building service: Getting building info for location",e);try{return ja.demoMode?this.getMockBuildingInfo(e,t):{building:null,confidence:0}}catch(s){return console.error("Failed to get building info:",s),{building:null,confidence:0}}}getMockBuildingInfo(e,t){const s=t.radius||100;let o=null,u=1/0;for(const c of this.mockData){const p=this.calculateDistance(e,c.location);if(p<=s&&p<u){if(t.buildingTypes&&!t.buildingTypes.includes(c.type)||t.requireAccessibility&&!c.accessibility.wheelchairAccessible)continue;o=c,u=p}}return{building:o,distance:o?u:void 0,confidence:o?Math.max(.1,1-u/s):0}}async searchBuildings(e){console.log("Building service: Searching buildings with query",e);try{return ja.demoMode?this.mockData.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.address.toLowerCase().includes(e.toLowerCase())):[]}catch(t){return console.error("Failed to search buildings:",t),[]}}async updateBuildingInfo(e,t){console.log("Building service: Updating building info",e,t);try{if(ja.demoMode){const s=this.mockData.findIndex(o=>o.id===e);s!==-1&&(this.mockData[s]={...this.mockData[s],...t});return}}catch(s){throw console.error("Failed to update building info:",s),s}}}const nM=new tM,rM=({elevator:r})=>{const e=o=>{switch(o){case"working":return"text-green-600 bg-green-50";case"maintenance":return"text-yellow-600 bg-yellow-50";case"unknown":default:return"text-gray-600 bg-gray-50"}},t=o=>{switch(o){case"working":return"稼働中";case"maintenance":return"メンテナンス中";case"unknown":default:return"状況不明"}},s=o=>{const u=[...o].sort((x,N)=>x-N),c=[];let p=u[0],v=u[0];for(let x=1;x<u.length;x++)if(u[x]===v+1)v=u[x];else{if(p===v)c.push(p===0?"G":p<0?`B${Math.abs(p)}`:`${p}`);else{const N=p===0?"G":p<0?`B${Math.abs(p)}`:`${p}`,E=v===0?"G":v<0?`B${Math.abs(v)}`:`${v}`;c.push(`${N}-${E}`)}p=u[x],v=u[x]}if(p===v)c.push(p===0?"G":p<0?`B${Math.abs(p)}`:`${p}`);else{const x=p===0?"G":p<0?`B${Math.abs(p)}`:`${p}`,N=v===0?"G":v<0?`B${Math.abs(v)}`:`${v}`;c.push(`${x}-${N}`)}return c.join(", ")+"F"};return h.jsxDEV("div",{className:"bg-gray-50 rounded p-3 text-xs",children:[h.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[h.jsxDEV("div",{className:"flex-1",children:[h.jsxDEV("div",{className:"font-medium text-gray-900",children:r.location},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:70,columnNumber:11},globalThis),h.jsxDEV("div",{className:"text-gray-600 mt-1",children:["定員: ",r.capacity,"人 | 最大: ",r.maxWeight,"kg"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:71,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:69,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[r.isAccessible&&h.jsxDEV("div",{className:"flex items-center text-blue-600",children:[h.jsxDEV("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:80,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:79,columnNumber:15},globalThis),h.jsxDEV("span",{children:"車椅子対応"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:82,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:78,columnNumber:13},globalThis),r.status&&h.jsxDEV("span",{className:`px-2 py-1 rounded text-xs font-medium ${e(r.status)}`,children:t(r.status)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:87,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:76,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:68,columnNumber:7},globalThis),h.jsxDEV("div",{className:"text-gray-600",children:[h.jsxDEV("span",{className:"font-medium",children:"停止階:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:95,columnNumber:9},globalThis)," ",s(r.floors)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:94,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ElevatorInfoCard.tsx",lineNumber:67,columnNumber:5},globalThis)},iM=({staircase:r})=>{const e=p=>{switch(p){case"escalator":return h.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5-5 5M6 12h12"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:14,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:13,columnNumber:11},globalThis);case"emergency":return h.jsxDEV("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:20,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:19,columnNumber:11},globalThis);default:return h.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:26,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:25,columnNumber:11},globalThis)}},t=p=>{switch(p){case"escalator":return"エスカレーター";case"emergency":return"非常階段";default:return"一般階段"}},s=p=>{switch(p){case"escalator":return"text-blue-600";case"emergency":return"text-red-600";default:return"text-gray-600"}},o=p=>{switch(p){case"narrow":return"狭い";case"wide":return"広い";default:return"標準"}},u=p=>{switch(p){case"narrow":return"text-red-600";case"wide":return"text-green-600";default:return"text-gray-600"}},c=p=>{const v=[...p].sort((R,C)=>R-C),x=[];let N=v[0],E=v[0];for(let R=1;R<v.length;R++)if(v[R]===E+1)E=v[R];else{if(N===E)x.push(N===0?"G":N<0?`B${Math.abs(N)}`:`${N}`);else{const C=N===0?"G":N<0?`B${Math.abs(N)}`:`${N}`,P=E===0?"G":E<0?`B${Math.abs(E)}`:`${E}`;x.push(`${C}-${P}`)}N=v[R],E=v[R]}if(N===E)x.push(N===0?"G":N<0?`B${Math.abs(N)}`:`${N}`);else{const R=N===0?"G":N<0?`B${Math.abs(N)}`:`${N}`,C=E===0?"G":E<0?`B${Math.abs(E)}`:`${E}`;x.push(`${R}-${C}`)}return x.join(", ")+"F"};return h.jsxDEV("div",{className:"bg-gray-50 rounded p-3 text-xs",children:[h.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[h.jsxDEV("div",{className:"flex-1",children:[h.jsxDEV("div",{className:"font-medium text-gray-900",children:r.location},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:113,columnNumber:11},globalThis),h.jsxDEV("div",{className:"text-gray-600 mt-1",children:["接続階: ",c(r.floors)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:114,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:112,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-3",children:[h.jsxDEV("div",{className:`flex items-center ${s(r.type)}`,children:[e(r.type),h.jsxDEV("span",{className:"ml-1",children:t(r.type)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:122,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:120,columnNumber:11},globalThis),h.jsxDEV("div",{className:`${u(r.width)}`,children:["幅: ",o(r.width)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:125,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:119,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:111,columnNumber:7},globalThis),r.type==="emergency"&&h.jsxDEV("div",{className:"mt-2 p-2 bg-red-50 rounded text-red-700",children:h.jsxDEV("div",{className:"flex items-center text-xs",children:[h.jsxDEV("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:135,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:134,columnNumber:13},globalThis),"緊急時専用"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:133,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:132,columnNumber:9},globalThis),r.type==="escalator"&&h.jsxDEV("div",{className:"mt-2 p-2 bg-blue-50 rounded text-blue-700",children:h.jsxDEV("div",{className:"flex items-center text-xs",children:[h.jsxDEV("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:146,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:145,columnNumber:13},globalThis),"ストレッチャー移送時は利用不可"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:144,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:143,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/StaircaseInfoCard.tsx",lineNumber:110,columnNumber:5},globalThis)},sM=({exit:r})=>{const e=u=>{switch(u){case"main":return h.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:14,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:13,columnNumber:11},globalThis);case"emergency":return h.jsxDEV("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:20,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:19,columnNumber:11},globalThis);case"service":return h.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:26,columnNumber:13},globalThis),h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:27,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:25,columnNumber:11},globalThis);default:return h.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:33,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:32,columnNumber:11},globalThis)}},t=u=>{switch(u){case"main":return"メイン出入口";case"emergency":return"非常口";case"service":return"サービス出入口";default:return"出入口"}},s=u=>{switch(u){case"main":return"text-blue-600 bg-blue-50";case"emergency":return"text-red-600 bg-red-50";case"service":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},o=u=>u===0?"G階":u<0?`B${Math.abs(u)}階`:`${u}階`;return h.jsxDEV("div",{className:"bg-gray-50 rounded p-3 text-xs",children:[h.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[h.jsxDEV("div",{className:"flex-1",children:[h.jsxDEV("div",{className:"flex items-center space-x-2 mb-1",children:[h.jsxDEV("div",{className:"font-medium text-gray-900",children:r.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:76,columnNumber:13},globalThis),r.isAccessible&&h.jsxDEV("div",{className:"flex items-center text-blue-600",children:[h.jsxDEV("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:80,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:79,columnNumber:17},globalThis),h.jsxDEV("span",{children:"バリアフリー"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:82,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:78,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:75,columnNumber:11},globalThis),h.jsxDEV("div",{className:"text-gray-600",children:[o(r.floor)," | ",r.direction]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:87,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:74,columnNumber:9},globalThis),h.jsxDEV("div",{className:`flex items-center px-2 py-1 rounded text-xs font-medium ${s(r.type)}`,children:[e(r.type),h.jsxDEV("span",{className:"ml-1",children:t(r.type)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:94,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:92,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:73,columnNumber:7},globalThis),r.nearbyLandmarks&&r.nearbyLandmarks.length>0&&h.jsxDEV("div",{className:"mt-2 p-2 bg-green-50 rounded",children:h.jsxDEV("div",{className:"text-green-700",children:[h.jsxDEV("span",{className:"font-medium",children:"近くの目印:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:101,columnNumber:13},globalThis)," ",r.nearbyLandmarks.join(", ")]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:100,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:99,columnNumber:9},globalThis),r.type==="emergency"&&h.jsxDEV("div",{className:"mt-2 p-2 bg-red-50 rounded text-red-700",children:h.jsxDEV("div",{className:"flex items-center text-xs",children:[h.jsxDEV("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:110,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:109,columnNumber:13},globalThis),"緊急時専用出入口"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:108,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:107,columnNumber:9},globalThis),r.type==="main"&&h.jsxDEV("div",{className:"mt-2 p-2 bg-blue-50 rounded text-blue-700",children:h.jsxDEV("div",{className:"flex items-center text-xs",children:[h.jsxDEV("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:121,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:120,columnNumber:13},globalThis),"患者搬送推奨ルート"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:119,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:118,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/ExitInfoCard.tsx",lineNumber:72,columnNumber:5},globalThis)},oM=({accessibility:r,className:e=""})=>{const s=(()=>{let v=0;return r.wheelchairAccessible&&v++,r.elevatorToAllFloors&&v++,r.accessibleParking&&v++,r.accessibleRestrooms&&v++,r.guidanceForVisuallyImpaired&&v++,v})(),o=5,u=()=>{const v=s/o;return v>=.8?"bg-green-100 text-green-800 border-green-200":v>=.6?"bg-yellow-100 text-yellow-800 border-yellow-200":v>=.4?"bg-orange-100 text-orange-800 border-orange-200":"bg-red-100 text-red-800 border-red-200"},c=()=>{const v=s/o;return v>=.8?"バリアフリー対応":v>=.6?"一部バリアフリー":v>=.4?"限定的対応":"要注意"},p=()=>r.wheelchairAccessible?h.jsxDEV("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/AccessibilityBadge.tsx",lineNumber:46,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/AccessibilityBadge.tsx",lineNumber:45,columnNumber:9},globalThis):h.jsxDEV("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/AccessibilityBadge.tsx",lineNumber:52,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/AccessibilityBadge.tsx",lineNumber:51,columnNumber:7},globalThis);return h.jsxDEV("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${u()} ${e}`,children:[p(),h.jsxDEV("span",{className:"ml-1",children:c()},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/AccessibilityBadge.tsx",lineNumber:60,columnNumber:7},globalThis),h.jsxDEV("span",{className:"ml-1 opacity-75",children:["(",s,"/",o,")"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/AccessibilityBadge.tsx",lineNumber:61,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/AccessibilityBadge.tsx",lineNumber:58,columnNumber:5},globalThis)},aM=({location:r,className:e=""})=>{const[t,s]=Q.useState(null),[o,u]=Q.useState(!1),[c,p]=Q.useState(null),[v,x]=Q.useState(!1);Q.useEffect(()=>{N()},[r]);const N=async()=>{if(r){u(!0),p(null);try{const P=await nM.getBuildingInfoByLocation(r,{radius:200});s(P)}catch(P){console.error("Failed to load building info:",P),p("建物情報の取得に失敗しました")}finally{u(!1)}}},E=P=>P?P<1e3?`${Math.round(P)}m`:`${(P/1e3).toFixed(1)}km`:"",R=P=>P>=.8?"text-green-600":P>=.5?"text-yellow-600":"text-red-600";if(o)return h.jsxDEV("div",{className:`bg-white rounded-lg border p-4 ${e}`,children:h.jsxDEV("div",{className:"flex items-center justify-center py-4",children:[h.jsxDEV(zo,{size:"sm"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:67,columnNumber:11},globalThis),h.jsxDEV("span",{className:"ml-2 text-sm text-gray-600",children:"建物情報を取得中..."},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:68,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:66,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:65,columnNumber:7},globalThis);if(c)return h.jsxDEV("div",{className:`bg-white rounded-lg border p-4 ${e}`,children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:h.jsxDEV("h4",{className:"text-sm font-medium text-gray-900",children:"建物情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:78,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:77,columnNumber:9},globalThis),h.jsxDEV("div",{className:"text-sm text-red-600",children:c},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:80,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:76,columnNumber:7},globalThis);if(!(t!=null&&t.building))return h.jsxDEV("div",{className:`bg-white rounded-lg border p-4 ${e}`,children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:h.jsxDEV("h4",{className:"text-sm font-medium text-gray-900",children:"建物情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:89,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:88,columnNumber:9},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-500",children:"現場周辺に建物情報が見つかりませんでした"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:91,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:87,columnNumber:7},globalThis);const C=t.building;return h.jsxDEV("div",{className:`bg-white rounded-lg border p-4 border-red-500 ${e}`,style:{backgroundColor:"#fff2f2"},children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[h.jsxDEV("div",{className:"flex-1",children:[h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("h4",{className:"text-sm font-medium text-gray-900",children:C.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:105,columnNumber:13},globalThis),h.jsxDEV(oM,{accessibility:C.accessibility},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:106,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:104,columnNumber:11},globalThis),h.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:C.address},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:108,columnNumber:11},globalThis),t.distance&&h.jsxDEV("div",{className:"text-xs text-gray-500",children:["現場から",E(t.distance),h.jsxDEV("span",{className:`ml-1 ${R(t.confidence)}`,children:["(信頼度: ",Math.round(t.confidence*100),"%)"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:114,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:112,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:103,columnNumber:9},globalThis),h.jsxDEV("button",{onClick:()=>x(!v),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsxDEV("svg",{className:`h-4 w-4 transition-transform ${v?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:130,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:124,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:120,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:102,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-xs mb-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-500",children:"建物種別:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:138,columnNumber:11},globalThis),h.jsxDEV("div",{className:"font-medium",children:[C.type==="office"&&"オフィスビル",C.type==="hospital"&&"病院",C.type==="station"&&"駅",C.type==="shopping"&&"商業施設",C.type==="residential"&&"住宅",C.type==="school"&&"学校",C.type==="other"&&"その他"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:139,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:137,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-500",children:"階層:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:150,columnNumber:11},globalThis),h.jsxDEV("div",{className:"font-medium",children:[C.basement?`B${C.basement}F-`:"",C.floors,"F"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:151,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:149,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:136,columnNumber:7},globalThis),C.emergencyContact&&h.jsxDEV("div",{className:"mb-4 p-2 bg-red-50 rounded text-xs",children:[h.jsxDEV("span",{className:"text-red-600 font-medium",children:"緊急時連絡先:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:160,columnNumber:11},globalThis),h.jsxDEV("div",{className:"text-red-800 font-mono",children:C.emergencyContact},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:161,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:159,columnNumber:9},globalThis),v&&h.jsxDEV("div",{className:"space-y-4 border-t pt-4",children:[C.elevators.length>0&&h.jsxDEV("div",{children:[h.jsxDEV("h5",{className:"text-sm font-medium text-gray-800 mb-2",children:"エレベーター"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:171,columnNumber:15},globalThis),h.jsxDEV("div",{className:"space-y-2",children:C.elevators.map(P=>h.jsxDEV(rM,{elevator:P},P.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:174,columnNumber:19},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:172,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:170,columnNumber:13},globalThis),C.staircases.length>0&&h.jsxDEV("div",{children:[h.jsxDEV("h5",{className:"text-sm font-medium text-gray-800 mb-2",children:"階段・エスカレーター"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:183,columnNumber:15},globalThis),h.jsxDEV("div",{className:"space-y-2",children:C.staircases.map(P=>h.jsxDEV(iM,{staircase:P},P.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:186,columnNumber:19},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:184,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:182,columnNumber:13},globalThis),C.exits.length>0&&h.jsxDEV("div",{children:[h.jsxDEV("h5",{className:"text-sm font-medium text-gray-800 mb-2",children:"出入口"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:195,columnNumber:15},globalThis),h.jsxDEV("div",{className:"space-y-2",children:C.exits.map(P=>h.jsxDEV(sM,{exit:P},P.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:198,columnNumber:19},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:196,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:194,columnNumber:13},globalThis),C.lastUpdated&&h.jsxDEV("div",{className:"text-xs text-gray-400 pt-2 border-t",children:["最終更新: ",C.lastUpdated.toLocaleDateString("ja-JP")]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:206,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:167,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/BuildingInfo/BuildingInfoComponent.tsx",lineNumber:101,columnNumber:5},globalThis)},Xh=[{id:"hospital-001",name:"東京科学大学病院",latitude:35.699374,longitude:139.762881,address:"東京都文京区湯島1-5-45",phone:"03-3813-6111",emergencyLevel:"tertiary",specialties:["救急科","外科","内科","循環器科","脳神経外科","整形外科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-002",name:"東京大学医学部附属病院",latitude:35.7016,longitude:139.7658,address:"東京都文京区本郷7-3-1",phone:"03-3815-5411",emergencyLevel:"tertiary",specialties:["救急科","外科","内科","循環器科","脳神経外科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-003",name:"順天堂大学医学部附属順天堂医院",latitude:35.7022,longitude:139.7644,address:"東京都文京区本郷3-1-3",phone:"03-3813-3111",emergencyLevel:"tertiary",specialties:["救急科","外科","内科","整形外科","脳神経外科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-006",name:"日本医科大学付属病院",latitude:35.7069,longitude:139.7533,address:"東京都文京区千駄木1-1-5",phone:"03-3822-2131",emergencyLevel:"secondary",specialties:["救急科","外科","内科","小児科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-007",name:"慈恵会医科大学附属病院",latitude:35.6678,longitude:139.7456,address:"東京都港区西新橋3-25-8",phone:"03-3433-1111",emergencyLevel:"tertiary",specialties:["救急科","外科","内科","循環器科","脳神経外科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-008",name:"聖路加国際病院",latitude:35.6724,longitude:139.7745,address:"東京都中央区明石町9-1",phone:"03-3541-5151",emergencyLevel:"secondary",specialties:["救急科","外科","内科","産婦人科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-009",name:"東京都立墨東病院",latitude:35.7118,longitude:139.8267,address:"東京都墨田区江東橋4-23-15",phone:"03-3633-6151",emergencyLevel:"tertiary",specialties:["救急科","外科","内科","外傷科","熱傷科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-010",name:"国立国際医療研究センター病院",latitude:35.7011,longitude:139.728,address:"東京都新宿区戸山1-21-1",phone:"03-3202-7181",emergencyLevel:"tertiary",specialties:["救急科","外科","内科","感染症科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-011",name:"東京医科大学病院",latitude:35.6959,longitude:139.7254,address:"東京都新宿区西新宿6-7-1",phone:"03-3342-6111",emergencyLevel:"secondary",specialties:["救急科","外科","内科","循環器科"],hasER:!0,hasICU:!0,acceptsTrauma:!0},{id:"hospital-012",name:"虎の門病院",latitude:35.6694,longitude:139.7478,address:"東京都港区虎ノ門2-2-2",phone:"03-3588-1111",emergencyLevel:"secondary",specialties:["救急科","外科","内科","循環器科"],hasER:!0,hasICU:!0,acceptsTrauma:!1}],lM=({selectedHospital:r,onHospitalSelect:e,className:t=""})=>{var P;const[s,o]=Q.useState([]),[u,c]=Q.useState(""),[p,v]=Q.useState(!1),[x,N]=Q.useState([]);Q.useEffect(()=>{console.log("HospitalSelector: Loading all hospitals..."),console.log("HospitalSelector: emergencyHospitals array:",Xh);const A=Xh.map(Y=>({...Y,distance:0})),M=A.find(Y=>Y.name==="東京科学大学病院");console.log("東京科学大学病院が見つかりました:",M),console.log("HospitalSelector: All hospitals loaded:",A.length,A.map(Y=>Y.name)),o(A),N(A)},[]),Q.useEffect(()=>{if(!u)N(s);else{const A=s.filter(M=>M.name.toLowerCase().includes(u.toLowerCase())||M.address.toLowerCase().includes(u.toLowerCase())||M.specialties.some(Y=>Y.toLowerCase().includes(u.toLowerCase())));N(A)}},[u,s]);const E=A=>{e(A),c(A.name),v(!1)},R=A=>{switch(A){case"tertiary":return h.jsxDEV("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"三次救急"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:66,columnNumber:16},globalThis);case"secondary":return h.jsxDEV("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"二次救急"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:68,columnNumber:16},globalThis);case"primary":return h.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"一次救急"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:70,columnNumber:16},globalThis);default:return null}},C=A=>{const M={救急科:"🚑",外科:"🔪",内科:"💊",循環器科:"❤️",脳神経外科:"🧠",整形外科:"🦴",小児科:"👶",産婦人科:"👩",外傷科:"🩹",熱傷科:"🔥",感染症科:"🦠"};return A.slice(0,3).map(Y=>M[Y]||"🏥").join(" ")};return h.jsxDEV("div",{className:`relative ${t}`,children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搬送先病院"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:96,columnNumber:7},globalThis),h.jsxDEV("div",{className:"relative",children:[h.jsxDEV("input",{type:"text",value:r?r.name:u,onChange:A=>{c(A.target.value),v(!0)},onFocus:()=>v(!0),placeholder:"病院を検索または選択...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:101,columnNumber:9},globalThis),h.jsxDEV("button",{type:"button",onClick:()=>v(!p),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:h.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:119,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:118,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:113,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:100,columnNumber:7},globalThis),r&&!p&&h.jsxDEV("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("span",{className:"font-medium text-blue-900",children:r.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:129,columnNumber:15},globalThis),R(r.emergencyLevel)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:128,columnNumber:13},globalThis),h.jsxDEV("span",{className:"text-sm text-gray-600",children:[(P=r.distance)==null?void 0:P.toFixed(1),"km"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:132,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:127,columnNumber:11},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-600",children:[h.jsxDEV("div",{children:r.address},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:137,columnNumber:13},globalThis),h.jsxDEV("div",{className:"mt-1",children:[h.jsxDEV("span",{className:"mr-2",children:C(r.specialties)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:139,columnNumber:15},globalThis),r.specialties.slice(0,3).join(", "),r.specialties.length>3&&` 他${r.specialties.length-3}科`]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:138,columnNumber:13},globalThis),h.jsxDEV("div",{className:"mt-1 flex space-x-3 text-xs",children:[r.hasER&&h.jsxDEV("span",{className:"text-green-600",children:"✓ ER"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:144,columnNumber:42},globalThis),r.hasICU&&h.jsxDEV("span",{className:"text-green-600",children:"✓ ICU"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:145,columnNumber:43},globalThis),r.acceptsTrauma&&h.jsxDEV("span",{className:"text-green-600",children:"✓ 外傷対応"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:146,columnNumber:50},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:143,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:136,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:126,columnNumber:9},globalThis),p&&h.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:x.length===0?h.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"病院が見つかりません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:156,columnNumber:13},globalThis):h.jsxDEV("div",{className:"py-1",children:x.map(A=>{var M;return h.jsxDEV("button",{onClick:()=>E(A),className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("span",{className:"font-medium",children:A.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:169,columnNumber:23},globalThis),R(A.emergencyLevel)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:168,columnNumber:21},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[h.jsxDEV("span",{children:[(M=A.distance)==null?void 0:M.toFixed(1),"km"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:173,columnNumber:23},globalThis),h.jsxDEV("span",{className:"text-xs",children:["📞 ",A.phone]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:174,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:172,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:167,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-600 mb-1",children:A.address},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:178,columnNumber:19},globalThis),h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("div",{className:"text-sm text-gray-500",children:[h.jsxDEV("span",{className:"mr-2",children:C(A.specialties)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:184,columnNumber:23},globalThis),A.specialties.slice(0,2).join(", "),A.specialties.length>2&&` 他${A.specialties.length-2}科`]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:183,columnNumber:21},globalThis),h.jsxDEV("div",{className:"flex space-x-2 text-xs",children:[A.hasER&&h.jsxDEV("span",{className:"text-green-600",children:"ER"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:190,columnNumber:42},globalThis),A.hasICU&&h.jsxDEV("span",{className:"text-green-600",children:"ICU"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:191,columnNumber:43},globalThis),A.acceptsTrauma&&h.jsxDEV("span",{className:"text-green-600",children:"外傷"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:192,columnNumber:50},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:189,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:182,columnNumber:19},globalThis)]},A.id,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:162,columnNumber:17},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:160,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:154,columnNumber:9},globalThis),p&&h.jsxDEV("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:204,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/HospitalSelector.tsx",lineNumber:95,columnNumber:5},globalThis)},Ou={TRAFFIC_API:{baseUrl:"https://api.jartic-open-traffic.org/geoserver",username:"traffic",password:"traffic"},DRM_PF_API:{baseUrl:"https://pf.drm.jp",authEndpoint:"/api/0/auth",routeEndpoint:"/api/9/route"}};class uM{constructor(){ra(this,"drmPfToken",null);ra(this,"tokenExpiry",null)}async getTrafficData(e,t=30){try{const s=new Date;s.setMinutes(s.getMinutes()-t);const o=new Date(s.getTime()+9*60*60*1e3),u=this.formatTimeCode(o),c=new URLSearchParams({service:"WFS",version:"2.0.0",request:"GetFeature",typeNames:"t_travospublic_measure_5m",srsName:"EPSG:4326",outputFormat:"application/json",exceptions:"application/json",cql_filter:`時間コード=${u} AND 道路種別=3 AND BBOX(ジオメトリ,${e.west},${e.south},${e.east},${e.north},'EPSG:4326')`}),p=await fetch(`${Ou.TRAFFIC_API.baseUrl}?${c}`,{method:"GET",headers:{Authorization:`Basic ${btoa(`${Ou.TRAFFIC_API.username}:${Ou.TRAFFIC_API.password}`)}`}});if(!p.ok)throw new Error(`Traffic API error: ${p.status} ${p.statusText}`);return await p.json()}catch(s){throw console.error("Failed to fetch traffic data:",s),s}}async getTrafficDataAroundPoint(e,t=3){const s=t/111,o=t/(111*Math.abs(Math.cos(e.latitude*Math.PI/180))),u={west:e.longitude-o,south:e.latitude-s,east:e.longitude+o,north:e.latitude+s};return this.getTrafficData(u)}async authenticateDrmPf(){if(this.drmPfToken&&this.tokenExpiry&&new Date<this.tokenExpiry)return this.drmPfToken;try{console.log("Authenticating with DRM-PF API...");const e=await fetch(`${Ou.DRM_PF_API.baseUrl}${Ou.DRM_PF_API.authEndpoint}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login_id:{}.VITE_DRM_PF_LOGIN_ID||"demo_login",password:{}.VITE_DRM_PF_PASSWORD||"demo_password"})});if(!e.ok)throw new Error(`DRM-PF auth error: ${e.status} ${e.statusText}`);const t=await e.json();if(this.drmPfToken=t.access_token,!this.drmPfToken)throw new Error("No access token received from DRM-PF API");return this.tokenExpiry=new Date,this.tokenExpiry.setMinutes(this.tokenExpiry.getMinutes()+60),console.log("✅ DRM-PF authentication successful"),this.drmPfToken}catch(e){throw console.error("❌ DRM-PF authentication failed:",e),e}}async getRouteOptions(e){try{console.log("🔍 Requesting DRM-PF route from:",e.startLat,e.startLon,"to:",e.endLat,e.endLon);const t=await this.authenticateDrmPf(),s=new URLSearchParams({start_lat:e.startLat.toString(),start_lon:e.startLon.toString(),goal_lat:e.endLat.toString(),goal_lon:e.endLon.toString(),crs:"EPSG:4326",...e.searchType==="time"&&{optimize:"time"},...e.searchType==="distance"&&{optimize:"distance"}}),o=await fetch(`${Ou.DRM_PF_API.baseUrl}${Ou.DRM_PF_API.routeEndpoint}?${s}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!o.ok){const c=await o.text();throw new Error(`DRM-PF route error: ${o.status} ${o.statusText} - ${c}`)}const u=await o.json();return console.log("✅ DRM-PF route response received"),this.transformDrmPfResponse(u,e)}catch(t){throw console.error("❌ Failed to get DRM-PF route options:",t),t}}transformDrmPfResponse(e,t){try{const s=e.geo_data;if(!s||!s.coordinates)throw new Error("No route geometry in DRM-PF response");const u=(s.type==="LineString"?s.coordinates:s.type==="MultiLineString"?s.coordinates.flat():[]).map(([x,N])=>({lat:N,lon:x})),c=this.calculateRouteDistance(u),p=c/(40*1e3/3600),v={routeId:`drm_pf_${Date.now()}`,totalDistance:c,totalTime:p,points:u,links:[]};return console.log(`📏 DRM-PF route: ${Math.round(c)}m, ${Math.round(p)}s, ${u.length} points`),{routes:[v]}}catch(s){throw console.error("Failed to transform DRM-PF response:",s),s}}calculateRouteDistance(e){let t=0;for(let s=0;s<e.length-1;s++)t+=this.calculateDistance(e[s].lat,e[s].lon,e[s+1].lat,e[s+1].lon);return t}calculateTrafficDensity(e,t,s=1e3){let o=0,u=0;return e.features.forEach(c=>{const[p,v]=c.geometry.coordinates;if(this.calculateDistance(t.latitude,t.longitude,v,p)<=s){const N=c.properties,E=N.上り小型交通量+N.上り大型交通量+N.下り小型交通量+N.下り大型交通量;o+=E,u++}}),u>0?o/u:0}formatTimeCode(e){const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),u=String(e.getHours()).padStart(2,"0"),c=String(Math.floor(e.getMinutes()/5)*5).padStart(2,"0");return`${t}${s}${o}${u}${c}`}calculateDistance(e,t,s,o){const c=(s-e)*Math.PI/180,p=(o-t)*Math.PI/180,v=Math.sin(c/2)*Math.sin(c/2)+Math.cos(e*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}createMockTrafficData(e){const t=[];for(let o=e.south;o<=e.north;o+=.01)for(let u=e.west;u<=e.east;u+=.01){const c=Math.random()*100,p=this.getTimeBasedTrafficMultiplier();t.push({type:"Feature",properties:{観測点コード:`MOCK_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,時間コード:this.formatTimeCode(new Date),道路種別:3,上り小型交通量:Math.floor(c*p*.7),上り大型交通量:Math.floor(c*p*.1),下り小型交通量:Math.floor(c*p*.7),下り大型交通量:Math.floor(c*p*.1),ジオメトリ:{type:"Point",coordinates:[u,o]}},geometry:{type:"Point",coordinates:[u,o]}})}return{type:"FeatureCollection",features:t}}getTimeBasedTrafficMultiplier(){const e=new Date().getHours();return e>=7&&e<=9||e>=17&&e<=19?2:e>=6&&e<=10||e>=16&&e<=20?1.5:e>=22||e<=5?.3:1}}const v2=new uM;class cM{constructor(){ra(this,"networkCache",new Map);ra(this,"pathfindingCache",new Map)}async getRoadNetwork(e){const t=`${e.south},${e.west},${e.north},${e.east}`;if(this.networkCache.has(t))return console.log("📋 Using cached road network data"),this.networkCache.get(t);try{console.log("🌐 Fetching OSM road network data for area:",e);const s=`
        [out:json][timeout:25];
        (
          way["highway"~"^(primary|secondary|tertiary|unclassified|residential)$"](${e.south},${e.west},${e.north},${e.east});
          way["highway"~"^(trunk|motorway)$"](${e.south},${e.west},${e.north},${e.east});
        );
        (._;>;);
        out geom;
      `;console.log("🔍 Querying Overpass API...");const u=await fetch("https://overpass-api.de/api/interpreter",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`data=${encodeURIComponent(s)}`});if(!u.ok)throw console.warn(`⚠️ Overpass API error: ${u.status} ${u.statusText}`),new Error(`Overpass API error: ${u.status}`);const c=await u.json();console.log("📦 Received OSM data, parsing network...");const p=this.parseOverpassData(c);if(p.nodes.size>0&&p.edges.size>0)return this.networkCache.set(t,p),console.log(`✅ Loaded OSM road network: ${p.nodes.size} nodes, ${p.edges.size} edges`),p;throw console.warn("⚠️ Empty network from Overpass API, using mock network"),new Error("Empty network data received")}catch(s){return console.error("❌ Failed to fetch road network from Overpass API:",s),console.log("🔄 Generating mock road network as fallback..."),this.generateMockNetwork(e)}}parseOverpassData(e){const t=new Map,s=new Map,o=new Map;return e.elements.filter(u=>u.type==="node").forEach(u=>{const c={id:u.id.toString(),latitude:u.lat,longitude:u.lon,type:"waypoint"};t.set(c.id,c)}),e.elements.filter(u=>{var c;return u.type==="way"&&((c=u.tags)==null?void 0:c.highway)}).forEach(u=>{var M;const c=this.classifyRoadType(u.tags.highway),p=this.getMaxSpeed(u.tags.highway,u.tags.maxspeed),v=u.tags.oneway==="yes",x=u.tags.toll==="yes",N=((M=u.geometry)==null?void 0:M.map(Y=>({latitude:Y.lat,longitude:Y.lon})))||[];if(N.length<2)return;let E=0;for(let Y=0;Y<N.length-1;Y++)E+=this.calculateDistance(N[Y].latitude,N[Y].longitude,N[Y+1].latitude,N[Y+1].longitude);const R=`way_${u.id}`,C=u.nodes[0].toString(),P=u.nodes[u.nodes.length-1].toString(),A={id:R,fromNodeId:C,toNodeId:P,distance:E,maxSpeed:p,roadType:c,wayType:u.tags.highway,coordinates:N,oneWay:v,tollRoad:x};if(s.set(R,A),[C,P].forEach(Y=>{o.has(Y)||o.set(Y,[]),o.get(Y).push(R)}),o.get(C).length>1&&t.has(C)){const Y=t.get(C);Y.type="intersection"}if(o.get(P).length>1&&t.has(P)){const Y=t.get(P);Y.type="intersection"}}),{nodes:t,edges:s,nodeEdges:o}}async findPath(e,t,s,o="time"){const u=`${t.latitude},${t.longitude}-${s.latitude},${s.longitude}-${o}`;if(this.pathfindingCache.has(u))return this.pathfindingCache.get(u);try{const c=this.findNearestNode(e,t),p=this.findNearestNode(e,s);if(!c||!p)return console.warn("Could not find nearest nodes for pathfinding"),null;console.log(`Pathfinding from node ${c.id} to ${p.id}`);const v=this.dijkstraPath(e,c,p,o);return v&&this.pathfindingCache.set(u,v),v}catch(c){return console.error("Pathfinding failed:",c),null}}dijkstraPath(e,t,s,o){const u=new Map,c=new Map,p=new Set;for(e.nodes.forEach((v,x)=>{u.set(x,x===t.id?0:1/0),c.set(x,null),p.add(x)});p.size>0;){let v="",x=1/0;for(const E of p){const R=u.get(E);R<x&&(x=R,v=E)}if(!v||x===1/0)break;if(p.delete(v),v===s.id)return this.reconstructPath(e,c,t,s);const N=e.nodeEdges.get(v)||[];for(const E of N){const R=e.edges.get(E),C=R.fromNodeId===v?R.toNodeId:R.fromNodeId;if(!p.has(C)||R.oneWay&&R.toNodeId===v)continue;const P=o==="distance"?R.distance:R.distance/(R.maxSpeed*1e3/3600),A=u.get(v)+P;A<u.get(C)&&(u.set(C,A),c.set(C,{nodeId:v,edgeId:E}))}}return null}reconstructPath(e,t,s,o){const u=[],c=[],p=[];let v=o.id;for(;v;){const E=e.nodes.get(v);u.unshift(E);const R=t.get(v);if(R){const C=e.edges.get(R.edgeId);c.unshift(C);const P=C.fromNodeId===R.nodeId?C.coordinates:[...C.coordinates].reverse();p.length===0?p.push(...P):p.push(...P.slice(1))}v=(R==null?void 0:R.nodeId)||null}const x=c.reduce((E,R)=>E+R.distance,0),N=c.reduce((E,R)=>{const C=R.maxSpeed*1e3/3600;return E+R.distance/C},0);return{nodes:u,edges:c,totalDistance:x,estimatedTime:N,coordinates:p}}findNearestNode(e,t){let s=null,o=1/0;return e.nodes.forEach(u=>{const c=this.calculateDistance(t.latitude,t.longitude,u.latitude,u.longitude);c<o&&(o=c,s=u)}),s}classifyRoadType(e){return{motorway:"highway",trunk:"highway",primary:"primary",secondary:"secondary",tertiary:"tertiary",unclassified:"tertiary",residential:"residential"}[e]||"residential"}getMaxSpeed(e,t){if(t){const o=parseInt(t);if(!isNaN(o))return o}return{motorway:100,trunk:80,primary:60,secondary:50,tertiary:40,unclassified:30,residential:30}[e]||30}calculateDistance(e,t,s,o){const c=(s-e)*Math.PI/180,p=(o-t)*Math.PI/180,v=Math.sin(c/2)*Math.sin(c/2)+Math.cos(e*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}generateMockNetwork(e){const t=new Map,s=new Map,o=new Map,u=.005;let c=1,p=1;for(let x=e.south;x<=e.north;x+=u)for(let N=e.west;N<=e.east;N+=u){const E=`node_${c++}`;t.set(E,{id:E,latitude:x,longitude:N,type:"intersection"})}const v=Array.from(t.values());return v.forEach(x=>{v.filter(E=>E.id===x.id?!1:this.calculateDistance(x.latitude,x.longitude,E.latitude,E.longitude)<600).forEach(E=>{const R=`edge_${p++}`,C=this.calculateDistance(x.latitude,x.longitude,E.latitude,E.longitude),P={id:R,fromNodeId:x.id,toNodeId:E.id,distance:C,maxSpeed:40,roadType:"secondary",wayType:"secondary",coordinates:[{latitude:x.latitude,longitude:x.longitude},{latitude:E.latitude,longitude:E.longitude}],oneWay:!1,tollRoad:!1};s.set(R,P),[x.id,E.id].forEach(A=>{o.has(A)||o.set(A,[]),o.get(A).push(R)})})}),console.log(`Generated mock network: ${t.size} nodes, ${s.size} edges`),{nodes:t,edges:s,nodeEdges:o}}}const b2=new cM;class dM{constructor(){ra(this,"activeRoutes",new Map);ra(this,"updateIntervals",new Map)}async optimizeRoute(e){const t=`route_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{const s=await this.getRouteAreaTrafficData(e.origin,e.destination),o=await this.getRouteOptionsFromAPI(e),u=await this.analyzeRoutesWithTraffic(o,s),c=this.selectRecommendedRoute(u,e.routePreference),p=this.calculateEstimatedArrivalTime(c,e.departureTime||new Date),v={requestId:t,routes:u,recommendedRoute:c,trafficUpdateTime:new Date,estimatedArrivalTime:p,alternativeRoutesCount:u.length-1};return this.activeRoutes.set(t,c),v}catch(s){throw console.error("Route optimization failed:",s),s}}startRouteMonitoring(e,t,s=5){this.stopRouteMonitoring(e);const o=setInterval(async()=>{try{const u=this.activeRoutes.get(e);if(!u){this.stopRouteMonitoring(e);return}const c=await this.checkRouteUpdates(u);c&&t(c)}catch(u){console.error("Route monitoring error:",u)}},s*60*1e3);this.updateIntervals.set(e,o)}stopRouteMonitoring(e){const t=this.updateIntervals.get(e);t&&(clearInterval(t),this.updateIntervals.delete(e)),this.activeRoutes.delete(e)}async getRouteAreaTrafficData(e,t){{const s=this.calculateRouteBounds(e,t,5);return v2.createMockTrafficData(s)}}async getRouteOptionsFromAPI(e){return console.log("🚗 Starting OSMnx-style route search from:",e.origin,"to:",e.destination),await this.generateRoadBasedRoutes(e)}async generateRoadBasedRoutes(e){const t=[],{origin:s,destination:o}=e;console.log("🛣️ Starting OSMnx-style routing from:",s,"to:",o),console.log("🔄 Trying OSRM API for real road-based routing...");const u=await this.tryExternalRoutingAPIs(s,o);if(u.length>0)return console.log(`✅ OSRM API routing successful: ${u.length} routes`),u;try{console.log("🗺️ Attempting OSMnx-style road network routing...");const p=this.calculateRouteBounds(s,o,3),v=await b2.getRoadNetwork(p);if(v.nodes.size>10){console.log(`📊 Loaded OSM road network: ${v.nodes.size} nodes, ${v.edges.size} edges`);const x=[{preference:"time",name:"最速ルート（OSM道路網）",description:"Time-optimized shortest path"},{preference:"distance",name:"最短距離ルート（OSM道路網）",description:"Distance-optimized shortest path"}];for(let N=0;N<x.length;N++){const E=x[N];try{const R=await b2.findPath(v,s,o,E.preference);if(R&&R.coordinates.length>2){console.log(`✅ Found ${E.preference} path: ${R.coordinates.length} points, ${Math.round(R.totalDistance)}m`);const C={id:`osmnx_route_${N}`,name:E.name,points:R.coordinates,distance:R.totalDistance,baseTime:R.estimatedTime,links:R.edges.map(P=>({linkId:P.id,distance:P.distance,roadType:P.roadType,maxSpeed:P.maxSpeed})),routingMethod:"osmnx_style",pathDescription:E.description};t.push(C)}}catch(R){console.warn(`⚠️ OSMnx pathfinding failed for ${E.preference}:`,R)}}if(t.length>0)return console.log(`📍 Generated ${t.length} OSMnx-style network routes`),t}else console.warn("⚠️ Insufficient OSM road network data for area")}catch(p){console.warn("⚠️ OSMnx-style road network routing failed:",p)}console.log("🔄 All network methods failed, creating enhanced road estimates...");const c=this.generateMultipleEstimatedRoutes(s,o);return t.push(...c),console.log(`📍 Generated ${t.length} total routes using fallback methods`),t}async tryExternalRoutingAPIs(e,t){const s=[],o=[{method:"osrm",profile:"driving"},{method:"graphhopper",profile:"car"},{method:"estimated",profile:"urban"}];for(const{method:u,profile:c}of o)try{let p=null;if(u==="osrm"?p=await this.getOSRMRoute(e,t,c):u==="graphhopper"?p=await this.getGraphHopperRoute(e,t,c):u==="estimated"&&(p=this.generateEstimatedRoadRoute(e,t)),p&&p.coordinates.length>2){console.log(`✅ ${u.toUpperCase()} route successful:`,p.coordinates.length,"points"),[{name:`最速ルート（${u==="estimated"?"道路推定":"API"}）`,factor:1},{name:`高速道路優先（${u==="estimated"?"道路推定":"API"}）`,factor:.9},{name:`一般道優先（${u==="estimated"?"道路推定":"API"}）`,factor:1.1}].forEach((x,N)=>{const E={id:`${u}_route_${N}`,name:x.name,points:p.coordinates,distance:p.distance*x.factor,baseTime:p.duration*x.factor,links:[],routingMethod:u};s.push(E)});break}}catch(p){console.warn(`⚠️ ${u.toUpperCase()} routing failed:`,p);continue}return s}async analyzeRoutesWithTraffic(e,t){const s=[];for(let o=0;o<e.length;o++){const u=e[o],c=this.analyzeTrafficImpact(u.points,t),p=this.calculateRouteSegments(u.points,c),v={id:u.id,name:u.name||`Route ${o+1}`,segments:p,totalDistance:u.distance,totalTime:u.baseTime,estimatedTimeWithTraffic:p.reduce((x,N)=>x+N.estimatedTime,0),trafficDelayFactor:c.delayFactor,coordinates:u.points,routeType:this.determineRouteType(c),confidence:c.confidence};s.push(v)}return s}analyzeTrafficImpact(e,t){let s=0,o=0,u=0;return e.forEach(c=>{const p=v2.calculateTrafficDensity(t,c,1e3);if(p>0){const v=1+p/100*.5;s+=v,o+=.8,u++}else s+=1,o+=.3,u++}),{delayFactor:u>0?s/u:1,confidence:u>0?o/u:.5,trafficPoints:u}}calculateRouteSegments(e,t){const s=[];for(let o=0;o<e.length-1;o++){const u=e[o],c=e[o+1],p=this.calculateDistance(u.latitude,u.longitude,c.latitude,c.longitude),x=p/15*t.delayFactor;s.push({startPoint:u,endPoint:c,distance:p,estimatedTime:x,trafficLevel:this.categorizeTrafficLevel(t.delayFactor),roadType:this.determineRoadType(p)})}return s}selectRecommendedRoute(e,t){switch(t){case"fastest":return e.reduce((s,o)=>o.estimatedTimeWithTraffic<s.estimatedTimeWithTraffic?o:s);case"most_stable":return e.reduce((s,o)=>o.confidence>s.confidence?o:s);case"shortest":return e.reduce((s,o)=>o.totalDistance<s.totalDistance?o:s);default:return e.reduce((s,o)=>o.estimatedTimeWithTraffic<s.estimatedTimeWithTraffic?o:s)}}async checkRouteUpdates(e){try{const t=await this.getRouteAreaTrafficData(e.coordinates[0],e.coordinates[e.coordinates.length-1]),s=this.analyzeTrafficImpact(e.coordinates,t),o=e.totalTime*s.delayFactor,c=Math.abs(o-e.estimatedTimeWithTraffic)/e.estimatedTimeWithTraffic;return c>.1?{routeId:e.id,updateTime:new Date,newEstimatedTime:o,trafficIncidents:[],severityLevel:c>.3?"critical":c>.2?"warning":"info"}:null}catch(t){return console.error("Route update check failed:",t),null}}calculateDistance(e,t,s,o){const c=(s-e)*Math.PI/180,p=(o-t)*Math.PI/180,v=Math.sin(c/2)*Math.sin(c/2)+Math.cos(e*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}calculateRouteBounds(e,t,s){const o=s/111,u=s/(111*Math.abs(Math.cos(e.latitude*Math.PI/180)));return{west:Math.min(e.longitude,t.longitude)-u,south:Math.min(e.latitude,t.latitude)-o,east:Math.max(e.longitude,t.longitude)+u,north:Math.max(e.latitude,t.latitude)+o}}async getOSRMRoute(e,t,s="driving"){try{console.log(`🗺️ Attempting OSRM route from [${e.latitude}, ${e.longitude}] to [${t.latitude}, ${t.longitude}]`);const o="https://router.project-osrm.org/route/v1/driving",u=`${e.longitude},${e.latitude};${t.longitude},${t.latitude}`,c=`${o}/${u}?overview=full&geometries=geojson`;console.log("🔍 OSRM request URL:",c);const p=await fetch(c,{method:"GET",headers:{Accept:"application/json"}});if(p.ok){const N=await p.json();if(console.log("✅ OSRM response received:",N),N.routes&&N.routes.length>0){const E=N.routes[0],R=E.geometry;if(R&&R.coordinates&&R.coordinates.length>0){const C=R.coordinates.map(([P,A])=>({latitude:A,longitude:P}));return console.log(`✅ OSRM route successful: ${C.length} points, ${Math.round(E.distance)}m, ${Math.round(E.duration)}s`),{coordinates:C,distance:E.distance,duration:E.duration}}}}else console.warn("⚠️ OSRM API error:",p.status,p.statusText);const v=await this.getGraphHopperRoute(e,t,s);if(v)return console.log("✅ GraphHopper route found with",v.coordinates.length,"points"),v;const x=this.generateEstimatedRoadRoute(e,t);return x?(console.log("📍 Using estimated road route with",x.coordinates.length,"points"),x):(console.warn("⚠️ All routing methods failed"),null)}catch(o){return console.error("❌ Route service error:",o),null}}async getGraphHopperRoute(e,t,s){try{console.log("Trying GraphHopper API...");const o="https://graphhopper.com/api/1/route",u=new URLSearchParams;u.append("point",`${e.latitude},${e.longitude}`),u.append("point",`${t.latitude},${t.longitude}`),u.append("vehicle","car"),u.append("locale","ja"),u.append("instructions","false"),u.append("calc_points","true"),u.append("debug","false"),u.append("elevation","false"),u.append("points_encoded","false"),console.log(`GraphHopper API for ${s} profile`);const c=await fetch(`${o}?${u}`,{method:"GET",headers:{Accept:"application/json"}});if(c.ok){const p=await c.json();if(console.log("GraphHopper response:",p),p.paths&&p.paths.length>0){const v=p.paths[0];return{coordinates:v.points.coordinates.map(N=>({latitude:N[1],longitude:N[0]})),distance:v.distance,duration:v.time/1e3}}}else{const p=await c.text();console.error("GraphHopper API error:",c.status,p)}}catch(o){console.warn("GraphHopper failed:",o)}return null}generateEstimatedRoadRoute(e,t){try{console.log("Generating estimated road route...");const s=this.generateEnhancedRoadPoints(e,t,"balanced");let o=0;for(let c=0;c<s.length-1;c++)o+=this.calculateDistance(s[c].latitude,s[c].longitude,s[c+1].latitude,s[c+1].longitude);const u=o/(25*1e3/3600);return{coordinates:s,distance:o,duration:u}}catch(s){return console.error("Estimated route generation failed:",s),null}}generateMultipleEstimatedRoutes(e,t){const s=[],o=this.calculateDistance(e.latitude,e.longitude,t.latitude,t.longitude);return[{name:"最速推定ルート（幹線道路優先）",distanceFactor:1.3,speedFactor:1.1,pathStyle:"arterial"},{name:"安定推定ルート（バランス重視）",distanceFactor:1.4,speedFactor:1,pathStyle:"balanced"},{name:"迂回推定ルート（渋滞回避）",distanceFactor:1.6,speedFactor:.9,pathStyle:"alternative"}].forEach((c,p)=>{const v=this.generateEnhancedRoadPoints(e,t,c.pathStyle),x=o*c.distanceFactor,E=25*c.speedFactor,R=x/1e3/E*3600;s.push({id:`estimated_route_${p}`,name:c.name,points:v,distance:x,baseTime:R,links:[],routingMethod:"enhanced_estimation"})}),s}generateEnhancedRoadPoints(e,t,s){const o=[e],u=this.calculateDistance(e.latitude,e.longitude,t.latitude,t.longitude),p=Math.max(20,Math.floor(u/200)),v=this.generateRoadWaypoints(e,t,s);for(let x=1;x<p;x++){const N=x/p,E=Math.floor(N*(v.length-1)),R=N*(v.length-1)-E;if(E>=v.length-1)break;const C=v[E],P=v[E+1],A=this.bezierInterpolation(C,P,R);o.push(A)}return o.push(t),o}generateRoadWaypoints(e,t,s){const o=[e],u=t.latitude-e.latitude,c=t.longitude-e.longitude,p=Math.max(3,Math.floor(Math.abs(u)+Math.abs(c))*500);for(let v=1;v<p;v++){const x=v/p;let N=e.latitude+u*x,E=e.longitude+c*x;switch(s){case"arterial":x<.3?(E=e.longitude+c*.1,N=e.latitude+u*x/.3*.7):x<.7?(N=e.latitude+u*.7,E=e.longitude+c*(x-.3)/.4*.8):(N=e.latitude+u*(.7+(x-.7)/.3*.3),E=e.longitude+c*(.8+(x-.7)/.3*.2));break;case"alternative":const R=Math.sin(x*Math.PI)*.003,C=Math.cos(x*Math.PI*1.5)*.002;N+=R,E+=C;break;case"balanced":default:const P=Math.sin(x*Math.PI*.8)*.001,A=Math.cos(x*Math.PI*.6)*8e-4;N+=P,E+=A;break}o.push({latitude:N,longitude:E})}return o.push(t),o}bezierInterpolation(e,t,s){const o=t.latitude-e.latitude,u=t.longitude-e.longitude,c={latitude:e.latitude+o*.3+u*.1,longitude:e.longitude+u*.3-o*.1},p={latitude:e.latitude+o*.7-u*.1,longitude:e.longitude+u*.7+o*.1},v=1-s,x=s*s,N=v*v,E=N*v,R=x*s,C=E*e.latitude+3*N*s*c.latitude+3*v*x*p.latitude+R*t.latitude,P=E*e.longitude+3*N*s*c.longitude+3*v*x*p.longitude+R*t.longitude;return{latitude:C,longitude:P}}categorizeTrafficLevel(e){return e<1.1?"low":e<1.3?"medium":e<1.6?"high":"congested"}determineRoadType(e){return e>5e3?"highway":e>1e3?"arterial":"local"}determineRouteType(e){return e.confidence>.8?"most_stable":e.delayFactor<1.2?"fastest":"shortest"}calculateEstimatedArrivalTime(e,t){const s=new Date(t);return s.setSeconds(s.getSeconds()+e.estimatedTimeWithTraffic),s}async saveRoutePerformance(e){try{if(ja.demoMode){const t=localStorage.getItem("routePerformance")||"[]",s=JSON.parse(t);s.push(e),localStorage.setItem("routePerformance",JSON.stringify(s))}}catch(t){console.error("Failed to save route performance:",t)}}async getRouteAnalytics(){try{if(ja.demoMode){const e=localStorage.getItem("routePerformance")||"[]",t=JSON.parse(e);if(t.length===0)return this.generateMockAnalytics();const s=t.length,o=t.reduce((c,p)=>c+p.accuracy,0)/s,u=t.reduce((c,p)=>c+Math.max(0,p.plannedTime-p.actualTime),0);return{averageAccuracy:o,totalRoutesOptimized:s,timeSaved:u,mostEfficientTimeSlots:this.calculateEfficientTimeSlots(t),problematicAreas:[]}}return this.generateMockAnalytics()}catch(e){return console.error("Failed to get route analytics:",e),this.generateMockAnalytics()}}generateMockAnalytics(){return{averageAccuracy:.85,totalRoutesOptimized:47,timeSaved:1420,mostEfficientTimeSlots:[{hour:6,averageSpeed:45,reliability:.9},{hour:10,averageSpeed:40,reliability:.85},{hour:14,averageSpeed:38,reliability:.8},{hour:22,averageSpeed:50,reliability:.95}],problematicAreas:[{location:{latitude:35.6762,longitude:139.6503},frequency:12,averageDelay:180},{location:{latitude:35.7028,longitude:139.7753},frequency:8,averageDelay:120}]}}calculateEfficientTimeSlots(e){const t=new Map;e.forEach(o=>{const u=new Date(o.completedAt).getHours();t.has(u)||t.set(u,{speeds:[],accuracies:[]});const c=o.plannedTime>0?1e3/o.plannedTime*3.6:30;t.get(u).speeds.push(c),t.get(u).accuracies.push(o.accuracy)});const s=[];for(const[o,u]of t.entries()){const c=u.speeds.reduce((v,x)=>v+x,0)/u.speeds.length,p=u.accuracies.reduce((v,x)=>v+x,0)/u.accuracies.length;s.push({hour:o,averageSpeed:c,reliability:p})}return s.sort((o,u)=>u.reliability-o.reliability).slice(0,4)}}const Wh=new dM,mM=(r={})=>{const[e,t]=Q.useState(!1),[s,o]=Q.useState(null),[u,c]=Q.useState(null),[p,v]=Q.useState([]),[x,N]=Q.useState(null),[E,R]=Q.useState(!1),C=Q.useRef(null),P=Q.useRef(!1),{autoUpdate:A=!0,updateInterval:M=5,onRouteUpdate:Y,onError:J}=r,ee=Q.useCallback(async X=>{t(!0),N(null);try{const j=await Wh.optimizeRoute(X);return o(j),c(j.recommendedRoute),C.current=new Date,A&&setTimeout(()=>ye(),1e3),j}catch(j){const Ie=j instanceof Error?j.message:"Route optimization failed";return N(Ie),J==null||J(j instanceof Error?j:new Error(Ie)),null}finally{t(!1)}},[A,J]),pe=Q.useCallback(X=>{if(!s)return;const j=s.routes.find(Ie=>Ie.id===X);j&&(c(j),o(Ie=>Ie?{...Ie,recommendedRoute:j}:null),E&&(te(),setTimeout(()=>ye(),1e3)))},[s,E]),ye=Q.useCallback(()=>{!u||!s||P.current||(P.current=!0,R(!0),Wh.startRouteMonitoring(s.requestId,X=>{v(j=>[X,...j].slice(0,10)),Y==null||Y(X),X.alternativeRecommendation&&c(X.alternativeRecommendation)},M))},[u,s,M,Y]),te=Q.useCallback(()=>{!s||!P.current||(Wh.stopRouteMonitoring(s.requestId),P.current=!1,R(!1))},[s]),F=Q.useCallback(()=>{N(null)},[]),$=Q.useCallback(async(X,j=[])=>{if(!(!u||!s||!C.current))try{const Ie=u.estimatedTimeWithTraffic,ct=Math.max(0,1-Math.abs(X-Ie)/Ie),nt={routeId:u.id,caseId:s.requestId,plannedTime:Ie,actualTime:X,accuracy:ct,trafficConditions:u.segments.some(_e=>_e.trafficLevel==="congested")?"heavy":u.segments.some(_e=>_e.trafficLevel==="high")?"moderate":"light",completedAt:new Date,deviations:j};await Wh.saveRoutePerformance(nt),te()}catch(Ie){console.error("Failed to record route performance:",Ie)}},[u,s,te]),q=Q.useCallback(()=>s?s.estimatedArrivalTime:null,[s]),G=Q.useCallback(()=>!u||!s?0:s.routes.reduce((j,Ie)=>Ie.estimatedTimeWithTraffic>j.estimatedTimeWithTraffic?Ie:j).estimatedTimeWithTraffic-u.estimatedTimeWithTraffic,[u,s]),K=Q.useCallback(()=>{if(!u)return null;const X=u.segments.map(j=>j.trafficLevel);return X.some(j=>j==="congested")?"congested":X.some(j=>j==="high")?"high":X.some(j=>j==="medium")?"medium":"low"},[u]);return Q.useEffect(()=>()=>{P.current&&te()},[te]),Q.useEffect(()=>{if(x){const X=setTimeout(()=>N(null),1e4);return()=>clearTimeout(X)}},[x]),{isOptimizing:e,optimizationResult:s,currentRoute:u,routeUpdates:p,error:x,optimizeRoute:ee,selectRoute:pe,startMonitoring:ye,stopMonitoring:te,clearError:F,recordRoutePerformance:$,getETA:q,getTimeSaved:G,getTrafficLevel:K}},Tw=()=>{const[r,e]=Q.useState(null),[t,s]=Q.useState(!1),o=Q.useCallback(async()=>{s(!0);try{const u=await Wh.getRouteAnalytics();e(u)}catch(u){console.error("Failed to load analytics:",u)}finally{s(!1)}},[]);return Q.useEffect(()=>{o()},[o]),{analytics:r,isLoading:t,refreshAnalytics:o}},Ew=({currentLocation:r,sceneLocation:e,onRouteSelected:t,onNavigationStart:s,onHospitalSelected:o,className:u=""})=>{var Te,Zt,Oe;const[c,p]=Q.useState({routePreference:"fastest",vehicleType:"emergency"}),[v,x]=Q.useState(null),[N,E]=Q.useState(!1),[R,C]=Q.useState("current"),{isOptimizing:P,optimizationResult:A,currentRoute:M,routeUpdates:Y,error:J,optimizeRoute:ee,selectRoute:pe,startMonitoring:ye,clearError:te,getETA:F,getTimeSaved:$,getTrafficLevel:q}=mM({autoUpdate:!0,updateInterval:3,onRouteUpdate:Se=>{console.log("Route update received:",Se)}}),{analytics:G}=Tw();Q.useEffect(()=>{if(console.log("Origin type changed:",R),console.log("Current location:",r),console.log("Scene location:",e),R==="scene"&&!e&&r){console.log("Scene location not available, switching to current location"),C("current");return}(()=>{R==="current"&&r?(console.log("Setting origin to current location"),p(Be=>({...Be,origin:{latitude:r.latitude,longitude:r.longitude,name:"現在地"}}))):R==="scene"&&e?(console.log("Setting origin to scene location"),p(Be=>({...Be,origin:{latitude:e.latitude,longitude:e.longitude,name:"現場（患者位置）"}}))):console.log("Cannot set origin - missing location data for type:",R)})()},[R,r,e]),Q.useEffect(()=>{v&&(p(Se=>({...Se,destination:{latitude:v.latitude,longitude:v.longitude,name:v.name}})),o==null||o(v))},[v,o]);const K=async()=>{if(!c.origin||!c.destination){alert("出発地と目的地を設定してください");return}const Se={origin:c.origin,destination:c.destination,routePreference:c.routePreference||"fastest",departureTime:new Date,vehicleType:"emergency"};await ee(Se)},X=Se=>{pe(Se);const Be=A==null?void 0:A.routes.find(mt=>mt.id===Se);Be&&(t==null||t(Be))},j=()=>{M&&(s==null||s(M),ye())},Ie=Se=>{const Be=Math.floor(Se/60),mt=Math.floor(Be/60),Bt=Be%60;return mt>0?`${mt}時間${Bt}分`:`${Be}分`},ct=Se=>Se>=1e3?`${(Se/1e3).toFixed(1)}km`:`${Math.round(Se)}m`,nt=Se=>{switch(Se){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-orange-600 bg-orange-100";case"congested":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},_e=Se=>{switch(Se){case"fastest":return"⚡";case"most_stable":return"🎯";case"shortest":return"📏";default:return"🚗"}};return h.jsxDEV("div",{className:`bg-white rounded-lg shadow-lg p-6 ${u}`,children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[h.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"ルート最適化"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:187,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex space-x-2",children:[h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>E(!N),children:"📊 分析"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:189,columnNumber:11},globalThis),M&&h.jsxDEV(an,{size:"sm",onClick:j,className:"bg-blue-600 text-white",children:"🧭 ナビ開始"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:197,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:188,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:186,columnNumber:7},globalThis),J&&h.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV("span",{className:"text-red-600 mr-2",children:"⚠️"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:213,columnNumber:15},globalThis),h.jsxDEV("span",{className:"text-red-800",children:J},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:214,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:212,columnNumber:13},globalThis),h.jsxDEV(an,{size:"sm",variant:"outline",onClick:te,children:"✕"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:216,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:211,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:210,columnNumber:9},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"出発地"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:226,columnNumber:11},globalThis),h.jsxDEV("div",{className:"mb-2",children:h.jsxDEV("div",{className:"flex space-x-4",children:[h.jsxDEV("label",{className:`flex items-center cursor-pointer ${r?"":"opacity-50"}`,children:[h.jsxDEV("input",{type:"radio",name:"originType",value:"current",checked:R==="current",onChange:()=>C("current"),disabled:!r,className:"mr-2 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:234,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-sm text-gray-700",children:["現在地 ",!r&&"(取得中...)"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:243,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:233,columnNumber:15},globalThis),h.jsxDEV("label",{className:`flex items-center cursor-pointer ${e?"":"opacity-50"}`,children:[h.jsxDEV("input",{type:"radio",name:"originType",value:"scene",checked:R==="scene",onChange:()=>C("scene"),disabled:!e,className:"mr-2 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:248,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-sm text-gray-700",children:["現場（患者位置） ",!e&&"(データなし)"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:257,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:247,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:232,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:231,columnNumber:11},globalThis),h.jsxDEV(We,{type:"text",value:(Te=c.origin)!=null&&Te.name?`${c.origin.name} (${c.origin.latitude.toFixed(4)}, ${c.origin.longitude.toFixed(4)})`:R==="current"?"現在地を取得中...":"現場位置を取得中...",placeholder:"位置を設定中...",readOnly:!0,className:"bg-gray-50"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:264,columnNumber:11},globalThis),h.jsxDEV("div",{className:"mt-1 text-xs text-gray-500",children:["デバッグ: 選択=",R,", 現在地=",r?"有":"無",", 現場=",e?"有":"無"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:280,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:225,columnNumber:9},globalThis),h.jsxDEV("div",{children:h.jsxDEV(lM,{currentLocation:r,selectedHospital:v||void 0,onHospitalSelect:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:287,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:286,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ルート優先度"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:295,columnNumber:11},globalThis),h.jsxDEV("select",{value:c.routePreference,onChange:Se=>p(Be=>({...Be,routePreference:Se.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsxDEV("option",{value:"fastest",children:"最速"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:306,columnNumber:13},globalThis),h.jsxDEV("option",{value:"most_stable",children:"最安定"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:307,columnNumber:13},globalThis),h.jsxDEV("option",{value:"shortest",children:"最短距離"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:308,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:298,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:294,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:224,columnNumber:7},globalThis),h.jsxDEV("div",{className:"flex justify-center mb-6",children:[h.jsxDEV(an,{onClick:K,disabled:P||!c.origin||!c.destination||!v,className:"bg-green-600 text-white px-6 py-2",children:P?h.jsxDEV(zo,{size:"sm"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:319,columnNumber:27},globalThis):"🔍 ルート最適化"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:314,columnNumber:9},globalThis),!v&&h.jsxDEV("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"搬送先病院を選択してください"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:323,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:313,columnNumber:7},globalThis),A&&h.jsxDEV("div",{className:"space-y-6",children:[M&&h.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-blue-900",children:[_e(M.routeType)," ",M.name]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:336,columnNumber:17},globalThis),h.jsxDEV("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${nt(q()||"low")}`,children:[q()==="low"&&"🟢 渋滞少",q()==="medium"&&"🟡 やや混雑",q()==="high"&&"🟠 混雑",q()==="congested"&&"🔴 渋滞"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:339,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:335,columnNumber:15},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"距離:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:349,columnNumber:19},globalThis),h.jsxDEV("div",{className:"font-medium",children:ct(M.totalDistance)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:350,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:348,columnNumber:17},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"所要時間:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:353,columnNumber:19},globalThis),h.jsxDEV("div",{className:"font-medium",children:Ie(M.estimatedTimeWithTraffic)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:354,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:352,columnNumber:17},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"到着予定:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:357,columnNumber:19},globalThis),h.jsxDEV("div",{className:"font-medium",children:((Zt=F())==null?void 0:Zt.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}))||"--:--"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:358,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:356,columnNumber:17},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("span",{className:"text-gray-600",children:"短縮時間:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:361,columnNumber:19},globalThis),h.jsxDEV("div",{className:"font-medium text-green-600",children:$()>0?`+${Ie($())}`:"基準ルート"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:362,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:360,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:347,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:334,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"ルート選択肢"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:372,columnNumber:13},globalThis),h.jsxDEV("div",{className:"space-y-3",children:A.routes.map(Se=>h.jsxDEV("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${(M==null?void 0:M.id)===Se.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>X(Se.id),children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("span",{className:"text-lg",children:_e(Se.routeType)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:386,columnNumber:23},globalThis),h.jsxDEV("span",{className:"font-medium",children:Se.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:387,columnNumber:23},globalThis),h.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs ${Se.confidence>.8?"bg-green-100 text-green-800":Se.confidence>.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["信頼度 ",Math.round(Se.confidence*100),"%"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:388,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:385,columnNumber:21},globalThis),(M==null?void 0:M.id)===Se.id&&h.jsxDEV("span",{className:"text-blue-600 text-sm",children:"✓ 選択中"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:397,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:384,columnNumber:19},globalThis),h.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[h.jsxDEV("div",{children:["距離: ",ct(Se.totalDistance)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:402,columnNumber:21},globalThis),h.jsxDEV("div",{children:["時間: ",Ie(Se.estimatedTimeWithTraffic)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:403,columnNumber:21},globalThis),h.jsxDEV("div",{children:["遅延率: ×",Se.trafficDelayFactor.toFixed(1)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:404,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:401,columnNumber:19},globalThis)]},Se.id,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:375,columnNumber:17},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:373,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:371,columnNumber:11},globalThis),Y.length>0&&h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"リアルタイム更新"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:414,columnNumber:15},globalThis),h.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Y.map((Se,Be)=>h.jsxDEV("div",{className:`p-3 rounded-lg text-sm ${Se.severityLevel==="critical"?"bg-red-50 border border-red-200":Se.severityLevel==="warning"?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"}`,children:h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("div",{children:h.jsxDEV("span",{className:"font-medium",children:[Se.severityLevel==="critical"?"🚨":Se.severityLevel==="warning"?"⚠️":"ℹ️"," ","所要時間更新: ",Ie(Se.newEstimatedTime)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:427,columnNumber:25},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:426,columnNumber:23},globalThis),h.jsxDEV("span",{className:"text-gray-500",children:Se.updateTime.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:433,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:425,columnNumber:21},globalThis)},Be,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:417,columnNumber:19},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:415,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:413,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:331,columnNumber:9},globalThis),N&&G&&h.jsxDEV("div",{className:"mt-6 border-t pt-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"📊 ルート分析"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:448,columnNumber:11},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxDEV("div",{className:"text-sm text-gray-600",children:"予測精度"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:452,columnNumber:15},globalThis),h.jsxDEV("div",{className:"text-xl font-semibold",children:[Math.round(G.averageAccuracy*100),"%"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:453,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:451,columnNumber:13},globalThis),h.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxDEV("div",{className:"text-sm text-gray-600",children:"最適化回数"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:456,columnNumber:15},globalThis),h.jsxDEV("div",{className:"text-xl font-semibold",children:G.totalRoutesOptimized},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:457,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:455,columnNumber:13},globalThis),h.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxDEV("div",{className:"text-sm text-gray-600",children:"短縮時間"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:460,columnNumber:15},globalThis),h.jsxDEV("div",{className:"text-xl font-semibold text-green-600",children:Ie(G.timeSaved)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:461,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:459,columnNumber:13},globalThis),h.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxDEV("div",{className:"text-sm text-gray-600",children:"効率的時間帯"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:464,columnNumber:15},globalThis),h.jsxDEV("div",{className:"text-xl font-semibold",children:[((Oe=G.mostEfficientTimeSlots[0])==null?void 0:Oe.hour)||"--","時"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:465,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:463,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:450,columnNumber:11},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-2",children:"効率的な時間帯"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:471,columnNumber:13},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:G.mostEfficientTimeSlots.map((Se,Be)=>h.jsxDEV("div",{className:"bg-green-50 rounded p-2 text-sm",children:[h.jsxDEV("div",{className:"font-medium",children:[Se.hour,":00-",Se.hour+1,":00"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:475,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-gray-600",children:[Se.averageSpeed.toFixed(0),"km/h, 信頼度",Math.round(Se.reliability*100),"%"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:476,columnNumber:19},globalThis)]},Be,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:474,columnNumber:17},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:472,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:470,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:447,columnNumber:9},globalThis),P&&h.jsxDEV("div",{className:"flex justify-center py-8",children:[h.jsxDEV(zo,{size:"lg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:488,columnNumber:11},globalThis),h.jsxDEV("span",{className:"ml-3 text-gray-600",children:"交通データを取得してルートを最適化中..."},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:489,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:487,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/RouteOptimization/RouteOptimizationComponent.tsx",lineNumber:185,columnNumber:5},globalThis)},hM=()=>{const{caseId:r}=nw(),e=Wl(),{currentCase:t,loading:s,error:o,loadCurrentCase:u,startObservingCase:c,stopObservingCase:p,updateStatus:v}=Hv(),{userInfo:x}=Kl(),N=Q.useRef(!0),[E,R]=Q.useState("vitals"),[C,P]=Q.useState(null),[A,M]=Q.useState(null),[Y,J]=Q.useState(null),ee=async te=>{if(r)try{await v(r,te)}catch(F){console.error("Status update failed:",F),alert("ステータス更新に失敗しました")}},pe=te=>{switch(te){case Ao.DISPATCHED:return{status:Ao.ON_SCENE,label:"現場到着"};case Ao.ON_SCENE:return{status:Ao.TRANSPORTING,label:"搬送開始"};case Ao.TRANSPORTING:return{status:Ao.COMPLETED,label:"搬送完了"};default:return null}},ye=te=>{P(te)};return Q.useEffect(()=>(N.current=!0,r?((async()=>{try{N.current&&(await u(r),N.current&&c(r))}catch(F){console.error("Failed to load case:",F)}})(),()=>{N.current=!1;try{p()}catch(F){console.error("Cleanup error:",F)}}):void 0),[r]),Q.useEffect(()=>()=>{N.current=!1},[]),r?s?h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxDEV(zo,{size:"lg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:95,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:94,columnNumber:7},globalThis):o?h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxDEV("div",{className:"text-center",children:[h.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"エラーが発生しました"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:104,columnNumber:11},globalThis),h.jsxDEV("p",{className:"text-gray-600 mb-6",children:o},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:105,columnNumber:11},globalThis),h.jsxDEV("button",{onClick:()=>{N.current=!1;try{p()}catch(te){console.error("Stop observing error:",te)}setTimeout(()=>{try{e("/cases")}catch(te){console.error("Navigation error:",te),window.location.href="/cases"}},100)},className:"bg-medical-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"事案一覧に戻る"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:106,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:103,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:102,columnNumber:7},globalThis):t?h.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[h.jsxDEV("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[h.jsxDEV("div",{className:"flex items-center space-x-4",children:[h.jsxDEV("button",{onClick:()=>{N.current=!1;try{p()}catch(te){console.error("Stop observing error:",te)}setTimeout(()=>{try{e("/cases")}catch(te){console.error("Navigation error:",te),window.location.href="/cases"}},100)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsxDEV("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:197,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:196,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:175,columnNumber:15},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:t.caseName},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:202,columnNumber:17},globalThis),h.jsxDEV("p",{className:"text-sm text-gray-500",children:["ステータス: ",t.status," | 担当: ",t.teamId]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:203,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:201,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:174,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-4",children:[(()=>{const te=pe(t.status);return te?h.jsxDEV(an,{size:"sm",onClick:()=>ee(te.status),children:te.label},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:213,columnNumber:19},globalThis):null})(),h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>e(`/cases/${r}/registry`),children:"レジストリ入力"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:222,columnNumber:15},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-700",children:h.jsxDEV("span",{className:"font-medium",children:x==null?void 0:x.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:231,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:230,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:209,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:173,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:172,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:171,columnNumber:7},globalThis),h.jsxDEV("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:[h.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"位置情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:244,columnNumber:15},globalThis),h.jsxDEV("div",{className:"h-64",children:h.jsxDEV(qL,{sceneLocation:t.sceneLocation,hospitalLocation:t.hospitalLocation,currentLocation:C||void 0,selectedRoute:A,selectedHospital:Y,showFullscreenButton:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:246,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:245,columnNumber:15},globalThis),h.jsxDEV("div",{className:"mt-3 text-sm text-gray-600",children:h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("div",{className:"flex items-center space-x-4",children:[h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV("div",{className:"w-3 h-3 bg-red-600 rounded-full mr-1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:259,columnNumber:23},globalThis),h.jsxDEV("span",{children:"現場"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:260,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:258,columnNumber:21},globalThis),h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV("div",{className:"w-3 h-3 bg-blue-600 rounded-full mr-1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:263,columnNumber:23},globalThis),h.jsxDEV("span",{children:"搬送先病院"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:264,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:262,columnNumber:21},globalThis),C&&h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV("div",{className:"w-3 h-3 bg-green-600 rounded-full mr-1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:268,columnNumber:25},globalThis),h.jsxDEV("span",{children:"現在地"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:269,columnNumber:25},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:267,columnNumber:23},globalThis),A&&h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV("div",{className:"w-4 h-1 bg-blue-500 rounded mr-1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:274,columnNumber:25},globalThis),h.jsxDEV("span",{children:"ルート"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:275,columnNumber:25},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:273,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:257,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-xs text-gray-500",children:"📱 右上ボタンで全画面表示"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:279,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:256,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:255,columnNumber:15},globalThis),h.jsxDEV("div",{className:"mt-4",children:h.jsxDEV(eM,{onLocationUpdate:ye},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:287,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:286,columnNumber:15},globalThis),t.patientInfo.buildingInfo&&h.jsxDEV("div",{className:"mt-4 bg-blue-50 rounded-lg p-4 border border-blue-200",children:[h.jsxDEV("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"📍 現場情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:293,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-sm text-blue-800",children:[h.jsxDEV("div",{className:"mb-1",children:[h.jsxDEV("span",{className:"font-medium",children:"建物:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:296,columnNumber:23},globalThis)," ",t.patientInfo.buildingInfo.buildingName]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:295,columnNumber:21},globalThis),h.jsxDEV("div",{className:"mb-1",children:[h.jsxDEV("span",{className:"font-medium",children:"階数:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:299,columnNumber:23},globalThis)," ",t.patientInfo.buildingInfo.floor,"階"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:298,columnNumber:21},globalThis),t.patientInfo.buildingInfo.description&&h.jsxDEV("div",{className:"mb-1",children:[h.jsxDEV("span",{className:"font-medium",children:"詳細:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:303,columnNumber:25},globalThis)," ",t.patientInfo.buildingInfo.description]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:302,columnNumber:23},globalThis),t.patientInfo.buildingInfo.accessNotes&&h.jsxDEV("div",{className:"mt-2 p-2 bg-blue-100 rounded",children:[h.jsxDEV("span",{className:"font-medium",children:"アクセス情報:"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:308,columnNumber:25},globalThis),h.jsxDEV("br",{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:308,columnNumber:69},globalThis),t.patientInfo.buildingInfo.accessNotes]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:307,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:294,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:292,columnNumber:17},globalThis),h.jsxDEV("div",{className:"mt-4",children:h.jsxDEV(aM,{location:t.sceneLocation},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:318,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:317,columnNumber:15},globalThis),h.jsxDEV("div",{className:"mt-6 border-t pt-4",children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"🚗 ルート最適化"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:323,columnNumber:17},globalThis),h.jsxDEV(Ew,{currentLocation:C||void 0,sceneLocation:{latitude:t.sceneLocation.latitude,longitude:t.sceneLocation.longitude},onRouteSelected:te=>{var F;console.log("Route selected:",te),console.log("Route coordinates:",te==null?void 0:te.coordinates),console.log("Route coordinates length:",(F=te==null?void 0:te.coordinates)==null?void 0:F.length),M(te)},onNavigationStart:te=>{console.log("Navigation started:",te),alert("ナビゲーションを開始しました")},onHospitalSelected:te=>{console.log("Hospital selected:",te),J(te)}},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:324,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:322,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:243,columnNumber:13},globalThis),h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"患者情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:350,columnNumber:15},globalThis),t.patientInfo.name&&h.jsxDEV("div",{className:"mb-3",children:[h.jsxDEV("span",{className:"text-sm font-medium text-gray-500",children:"氏名: "},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:354,columnNumber:19},globalThis),h.jsxDEV("span",{className:"text-sm text-gray-900",children:t.patientInfo.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:355,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:353,columnNumber:17},globalThis),t.patientInfo.age&&h.jsxDEV("div",{className:"mb-3",children:[h.jsxDEV("span",{className:"text-sm font-medium text-gray-500",children:"年齢: "},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:361,columnNumber:19},globalThis),h.jsxDEV("span",{className:"text-sm text-gray-900",children:[t.patientInfo.age,"歳"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:362,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:360,columnNumber:17},globalThis),t.patientInfo.gender&&h.jsxDEV("div",{className:"mb-3",children:[h.jsxDEV("span",{className:"text-sm font-medium text-gray-500",children:"性別: "},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:368,columnNumber:19},globalThis),h.jsxDEV("span",{className:"text-sm text-gray-900",children:t.patientInfo.gender==="male"?"男性":t.patientInfo.gender==="female"?"女性":"その他"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:369,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:367,columnNumber:17},globalThis),h.jsxDEV("div",{className:"mt-6 border-b border-gray-200",children:h.jsxDEV("nav",{className:"-mb-px flex space-x-8",children:[h.jsxDEV("button",{onClick:()=>R("vitals"),className:`py-2 px-1 border-b-2 font-medium text-sm ${E==="vitals"?"border-medical-primary text-medical-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"バイタル"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:379,columnNumber:19},globalThis),h.jsxDEV("button",{onClick:()=>R("treatments"),className:`py-2 px-1 border-b-2 font-medium text-sm ${E==="treatments"?"border-medical-primary text-medical-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"処置記録"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:389,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:378,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:377,columnNumber:15},globalThis),h.jsxDEV("div",{className:"mt-4",children:E==="vitals"?h.jsxDEV(GL,{caseId:r},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:405,columnNumber:19},globalThis):h.jsxDEV(JL,{caseId:r},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:407,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:403,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:349,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:241,columnNumber:11},globalThis),h.jsxDEV("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"コミュニケーション"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:415,columnNumber:13},globalThis),h.jsxDEV("div",{className:"h-64",children:h.jsxDEV(ZL,{caseId:r},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:417,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:416,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:414,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:240,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:239,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:169,columnNumber:5},globalThis):h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxDEV("div",{className:"text-center",children:[h.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"事案が見つかりません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:138,columnNumber:11},globalThis),h.jsxDEV("p",{className:"text-gray-600 mb-6",children:"指定された事案は存在しないか、アクセス権限がありません。"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:139,columnNumber:11},globalThis),h.jsxDEV("button",{onClick:()=>{N.current=!1;try{p()}catch(te){console.error("Stop observing error:",te)}setTimeout(()=>{try{e("/cases")}catch(te){console.error("Navigation error:",te),window.location.href="/cases"}},100)},className:"bg-medical-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"事案一覧に戻る"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:140,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:137,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:136,columnNumber:7},globalThis):h.jsxDEV(kd,{to:"/cases",replace:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CaseDetailPage.tsx",lineNumber:89,columnNumber:12},globalThis)},b_={latitude:35.701835,longitude:139.763417,name:"基地病院"},fM=[{id:"scene-001",name:"東京大学本郷キャンパス",latitude:35.7122,longitude:139.7629,address:"東京都文京区本郷7-3-1",locationType:"public",landmarks:["安田講堂","赤門","正門"],accessNotes:"正門から入構可能"},{id:"scene-002",name:"上野公園",latitude:35.7156,longitude:139.7745,address:"東京都台東区上野公園",locationType:"public",landmarks:["上野動物園","国立博物館","西郷隆盛像"],accessNotes:"複数の入口あり、噴水広場が目印"},{id:"scene-003",name:"秋葉原駅周辺",latitude:35.6984,longitude:139.7732,address:"東京都千代田区外神田1丁目",locationType:"commercial",landmarks:["秋葉原駅","ヨドバシカメラ","電気街"],accessNotes:"駅前ロータリー利用可能"},{id:"scene-004",name:"皇居東御苑",latitude:35.6862,longitude:139.7571,address:"東京都千代田区千代田1-1",locationType:"public",landmarks:["大手門","三の丸尚蔵館","本丸跡"],accessNotes:"大手門から入場、警備員に要連絡"},{id:"scene-005",name:"銀座中央通り",latitude:35.6706,longitude:139.7641,address:"東京都中央区銀座4丁目",locationType:"commercial",landmarks:["銀座四丁目交差点","三越","和光"],accessNotes:"歩行者天国時間に注意"},{id:"scene-006",name:"東京スカイツリー周辺",latitude:35.7101,longitude:139.8107,address:"東京都墨田区押上1丁目",locationType:"commercial",landmarks:["東京スカイツリー","ソラマチ","押上駅"],accessNotes:"観光バス駐車場利用可能"},{id:"scene-007",name:"日本橋地区",latitude:35.6833,longitude:139.7731,address:"東京都中央区日本橋1丁目",locationType:"commercial",landmarks:["日本橋","三越本店","コレド日本橋"],accessNotes:"首都高下、道路状況に注意"},{id:"scene-008",name:"浅草寺境内",latitude:35.7148,longitude:139.7967,address:"東京都台東区浅草2-3-1",locationType:"public",landmarks:["雷門","五重塔","本堂"],accessNotes:"仲見世通りは車両進入不可"},{id:"scene-009",name:"神田駅周辺",latitude:35.6918,longitude:139.7708,address:"東京都千代田区内神田3丁目",locationType:"commercial",landmarks:["神田駅","神田明神","万世橋"],accessNotes:"駅前タクシー乗り場利用可能"},{id:"scene-010",name:"後楽園・東京ドーム",latitude:35.7056,longitude:139.7523,address:"東京都文京区後楽1丁目",locationType:"public",landmarks:["東京ドーム","後楽園遊園地","ラクーア"],accessNotes:"イベント開催時は交通規制あり"},{id:"scene-011",name:"新宿区役所周辺",latitude:35.6938,longitude:139.7035,address:"東京都新宿区歌舞伎町1丁目",locationType:"public",landmarks:["新宿区役所","新宿中央公園","都庁"],accessNotes:"区役所駐車場利用可能"},{id:"scene-012",name:"築地場外市場",latitude:35.6654,longitude:139.7707,address:"東京都中央区築地4丁目",locationType:"commercial",landmarks:["築地本願寺","場外市場","築地川公園"],accessNotes:"早朝は市場関係車両に注意"},{id:"scene-013",name:"錦糸町駅前",latitude:35.6967,longitude:139.8147,address:"東京都墨田区江東橋3丁目",locationType:"transport",landmarks:["錦糸町駅","アルカキット","オリナス"],accessNotes:"南口ロータリー利用推奨"},{id:"scene-014",name:"品川区役所周辺",latitude:35.6092,longitude:139.7301,address:"東京都品川区広町2丁目",locationType:"public",landmarks:["品川区役所","しながわ中央公園"],accessNotes:"区役所正面駐車場利用可能"},{id:"scene-015",name:"亀戸天神社",latitude:35.697,longitude:139.8256,address:"東京都江東区亀戸3-6-1",locationType:"public",landmarks:["亀戸天神社","スカイツリー展望","藤の花"],accessNotes:"参拝者駐車場あり（祭事時除く）"}],pM=(r,e)=>{const s=(r-b_.latitude)*Math.PI/180,o=(e-b_.longitude)*Math.PI/180,u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(b_.latitude*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},gM=(r=6)=>fM.map(e=>({...e,distance:pM(e.latitude,e.longitude)})).filter(e=>e.distance<=r).sort((e,t)=>e.distance-t.distance),vM=()=>{const r=Wl(),{createCase:e,loading:t}=Hv(),{userInfo:s}=Kl(),[o,u]=Q.useState({caseName:"",patientAge:"",patientGender:"male",patientName:"",sceneLatitude:"",sceneLongitude:"",hospitalLatitude:"",hospitalLongitude:"",description:""}),c=(R,C)=>{u({...o,[R]:C})},p=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(R=>{u({...o,sceneLatitude:R.coords.latitude.toString(),sceneLongitude:R.coords.longitude.toString()})},R=>{console.error("位置情報の取得に失敗しました:",R),alert("位置情報の取得に失敗しました。手動で座標を入力してください。")}):alert("このブラウザでは位置情報がサポートされていません。")},v=R=>{u({...o,sceneLatitude:R.latitude.toString(),sceneLongitude:R.longitude.toString()})},x=R=>{const C=Xh.find(P=>P.id===R);C&&u({...o,hospitalLatitude:C.latitude.toString(),hospitalLongitude:C.longitude.toString()})},N=gM(6),E=async R=>{if(R.preventDefault(),!o.caseName.trim()){alert("事案名を入力してください");return}if(!o.sceneLatitude||!o.sceneLongitude){alert("現場の位置情報を入力してください");return}if(!o.hospitalLatitude||!o.hospitalLongitude){alert("搬送先病院の位置情報を入力してください");return}try{const C=(Y,J)=>({latitude:Y,longitude:J,isEqual:ee=>ee.latitude===Y&&ee.longitude===J,toJSON:()=>({latitude:Y,longitude:J})}),P=Y=>({toDate:()=>Y,toMillis:()=>Y.getTime(),seconds:Math.floor(Y.getTime()/1e3),nanoseconds:Y.getTime()%1e3*1e6}),A={caseName:o.caseName.trim(),status:Ao.DISPATCHED,teamId:(s==null?void 0:s.uid)||"demo-user",patientInfo:{age:o.patientAge?parseInt(o.patientAge):void 0,gender:o.patientGender,name:o.patientName.trim()||void 0},sceneLocation:C(parseFloat(o.sceneLatitude),parseFloat(o.sceneLongitude)),hospitalLocation:C(parseFloat(o.hospitalLatitude),parseFloat(o.hospitalLongitude)),createdAt:P(new Date),updatedAt:P(new Date)},M=await e(A);alert("新規事案を作成しました"),r(`/cases/${M}`)}catch(C){console.error("事案作成エラー:",C),alert("事案の作成に失敗しました")}};return h.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[h.jsxDEV("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[h.jsxDEV("div",{className:"flex items-center space-x-4",children:[h.jsxDEV("button",{onClick:()=>r("/cases"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsxDEV("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:149,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:148,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:144,columnNumber:15},globalThis),h.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"新規事案作成"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:152,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:143,columnNumber:13},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-700",children:h.jsxDEV("span",{className:"font-medium",children:s==null?void 0:s.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:156,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:155,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:142,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:141,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:140,columnNumber:7},globalThis),h.jsxDEV("main",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:h.jsxDEV("form",{onSubmit:E,className:"space-y-6",children:[h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"基本情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:168,columnNumber:15},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxDEV("div",{className:"md:col-span-2",children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["事案名 ",h.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:172,columnNumber:25},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:171,columnNumber:19},globalThis),h.jsxDEV("input",{type:"text",value:o.caseName,onChange:R=>c("caseName",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",placeholder:"例: 2024-06-14 渋谷駅前 交通外傷"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:174,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:170,columnNumber:17},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"担当チーム"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:183,columnNumber:19},globalThis),h.jsxDEV("input",{type:"text",value:(s==null?void 0:s.team)||"",className:"w-full px-3 py-2 border rounded-lg bg-gray-50",disabled:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:186,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:182,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:169,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:167,columnNumber:13},globalThis),h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"患者情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:198,columnNumber:15},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"患者氏名"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:201,columnNumber:19},globalThis),h.jsxDEV("input",{type:"text",value:o.patientName,onChange:R=>c("patientName",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",placeholder:"氏名（任意）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:204,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:200,columnNumber:17},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"年齢"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:213,columnNumber:19},globalThis),h.jsxDEV("input",{type:"number",value:o.patientAge,onChange:R=>c("patientAge",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",placeholder:"年齢",min:"0",max:"150"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:216,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:212,columnNumber:17},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"性別"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:227,columnNumber:19},globalThis),h.jsxDEV("select",{value:o.patientGender,onChange:R=>c("patientGender",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",children:[h.jsxDEV("option",{value:"male",children:"男性"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:235,columnNumber:21},globalThis),h.jsxDEV("option",{value:"female",children:"女性"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:236,columnNumber:21},globalThis),h.jsxDEV("option",{value:"other",children:"その他"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:237,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:230,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:226,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:199,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:197,columnNumber:13},globalThis),h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["現場位置",h.jsxDEV("span",{className:"text-sm text-gray-500 ml-2",children:"(基地病院から6km以内)"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:247,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:245,columnNumber:15},globalThis),h.jsxDEV("div",{className:"space-y-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"事案発生場所を選択"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:253,columnNumber:19},globalThis),h.jsxDEV("select",{value:"",onChange:R=>{const C=N.find(P=>P.id===R.target.value);C&&v(C)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary mb-2",children:[h.jsxDEV("option",{value:"",children:"-- 場所を選択してください --"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:266,columnNumber:21},globalThis),N.map(R=>{var C;return h.jsxDEV("option",{value:R.id,children:[R.name," (",(C=R.distance)==null?void 0:C.toFixed(1),"km) - ",R.address]},R.id,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:268,columnNumber:23},globalThis)})]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:256,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:252,columnNumber:17},globalThis),h.jsxDEV("div",{className:"flex space-x-2 flex-wrap gap-2",children:[h.jsxDEV(an,{type:"button",variant:"outline",size:"sm",onClick:p,children:"📍 現在地を取得"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:276,columnNumber:19},globalThis),N.slice(0,4).map(R=>h.jsxDEV(an,{type:"button",variant:"outline",size:"sm",onClick:()=>v(R),className:"text-xs",children:R.name},R.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:285,columnNumber:21},globalThis))]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:275,columnNumber:17},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["緯度 ",h.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:300,columnNumber:26},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:299,columnNumber:21},globalThis),h.jsxDEV("input",{type:"number",step:"any",value:o.sceneLatitude,onChange:R=>c("sceneLatitude",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",placeholder:"35.658584"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:302,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:298,columnNumber:19},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["経度 ",h.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:313,columnNumber:26},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:312,columnNumber:21},globalThis),h.jsxDEV("input",{type:"number",step:"any",value:o.sceneLongitude,onChange:R=>c("sceneLongitude",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",placeholder:"139.701442"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:315,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:311,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:297,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:251,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:244,columnNumber:13},globalThis),h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"搬送先病院"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:330,columnNumber:15},globalThis),h.jsxDEV("div",{className:"space-y-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"救急対応病院を選択"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:333,columnNumber:19},globalThis),h.jsxDEV("select",{value:"",onChange:R=>{R.target.value&&x(R.target.value)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary mb-2",children:[h.jsxDEV("option",{value:"",children:"-- 病院を選択してください --"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:345,columnNumber:21},globalThis),Xh.map(R=>h.jsxDEV("option",{value:R.id,children:[R.name," (",R.emergencyLevel==="tertiary"?"三次救急":R.emergencyLevel==="secondary"?"二次救急":"一次救急",") - ",R.address]},R.id,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:347,columnNumber:23},globalThis))]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:336,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:332,columnNumber:17},globalThis),h.jsxDEV("div",{className:"flex space-x-2 flex-wrap gap-2",children:Xh.slice(0,3).map(R=>h.jsxDEV(an,{type:"button",variant:"outline",size:"sm",onClick:()=>x(R.id),className:"text-xs",children:R.name},R.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:356,columnNumber:21},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:354,columnNumber:17},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["緯度 ",h.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:371,columnNumber:26},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:370,columnNumber:21},globalThis),h.jsxDEV("input",{type:"number",step:"any",value:o.hospitalLatitude,onChange:R=>c("hospitalLatitude",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",placeholder:"35.665498"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:373,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:369,columnNumber:19},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["経度 ",h.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:384,columnNumber:26},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:383,columnNumber:21},globalThis),h.jsxDEV("input",{type:"number",step:"any",value:o.hospitalLongitude,onChange:R=>c("hospitalLongitude",R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-primary",placeholder:"139.686567"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:386,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:382,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:368,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:331,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:329,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex justify-end space-x-4",children:[h.jsxDEV(an,{type:"button",variant:"outline",onClick:()=>r("/cases"),children:"キャンセル"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:401,columnNumber:15},globalThis),h.jsxDEV(an,{type:"submit",disabled:t,className:"flex items-center",children:[t&&h.jsxDEV(zo,{size:"sm",className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:413,columnNumber:29},globalThis),"事案を作成"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:408,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:400,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:165,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:164,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:163,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/CreateCasePage.tsx",lineNumber:138,columnNumber:5},globalThis)};let nv=null,y2=null,Rd=null;try{ja.demoMode&&(console.log("Demo mode: Using mock Firebase objects"),nv={options:{projectId:"demo-doctorcar"}},y2={currentUser:null,app:nv,onAuthStateChanged:()=>()=>{},signInWithEmailAndPassword:()=>Promise.reject(new Error("Demo mode")),signOut:()=>Promise.resolve()},Rd={collection:()=>({doc:()=>({get:()=>Promise.resolve({exists:!1}),set:()=>Promise.resolve(),update:()=>Promise.resolve()}),get:()=>Promise.resolve({docs:[]})})})}catch(r){console.error("Firebase configuration error:",r),nv={options:{projectId:"fallback-doctorcar"}},y2={currentUser:null,app:nv,onAuthStateChanged:()=>()=>{},signInWithEmailAndPassword:()=>Promise.reject(new Error("Firebase error")),signOut:()=>Promise.resolve()},Rd={collection:()=>({doc:()=>({get:()=>Promise.resolve({exists:!1}),set:()=>Promise.resolve(),update:()=>Promise.resolve()}),get:()=>Promise.resolve({docs:[]})})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},bM=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],c=r[t++],p=r[t++],v=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const u=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,p=c?r[o+1]:0,v=o+2<r.length,x=v?r[o+2]:0,N=u>>2,E=(u&3)<<4|p>>4;let R=(p&15)<<2|x>>6,C=x&63;v||(C=64,c||(R=64)),s.push(t[N],t[E],t[R],t[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Dw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bM(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],p=o<r.length?t[r.charAt(o)]:0;++o;const x=o<r.length?t[r.charAt(o)]:64;++o;const E=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||p==null||x==null||E==null)throw new yM;const R=u<<2|p>>4;if(s.push(R),x!==64){const C=p<<4&240|x>>2;if(s.push(C),E!==64){const P=x<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xM=function(r){const e=Dw(r);return Rw.encodeByteArray(e,!0)},Ev=function(r){return xM(r).replace(/\./g,"")},_M=function(r){try{return Rw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=()=>NM().__FIREBASE_DEFAULTS__,EM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const r={}.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DM=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_M(r[1]);return e&&JSON.parse(e)},Zv=()=>{try{return TM()||EM()||DM()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},RM=r=>{var e,t;return(t=(e=Zv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},CM=r=>{const e=RM(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Cw=()=>{var r;return(r=Zv())===null||r===void 0?void 0:r.config},XB=r=>{var e;return(e=Zv())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r),p="";return[Ev(JSON.stringify(t)),Ev(JSON.stringify(c)),p].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vd())}function kM(){var r;const e=(r=Zv())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IM(){return typeof window<"u"||ww()}function ww(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function t7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n7(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function r7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i7(){const r=Vd();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Sw(){return!kM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kw(){try{return typeof indexedDB=="object"}catch{return!1}}function VM(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="FirebaseError";class Jd extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=AM,Object.setPrototypeOf(this,Jd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iw.prototype.create)}}class Iw{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?zM(u,s):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Jd(o,p,s)}}function zM(r,e){return r.replace(PM,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PM=/\{\$([^}]+)}/g;function s7(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ku(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],c=e[o];if(x2(u)&&x2(c)){if(!Ku(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function x2(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function a7(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function l7(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function u7(r,e){const t=new UM(r,e);return t.subscribe.bind(t)}class UM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");OM(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=y_),o.error===void 0&&(o.error=y_),o.complete===void 0&&(o.complete=y_);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OM(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function y_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(r){return r&&r._delegate?r._delegate:r}class df{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new wM;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MM(e))try{this.getOrInitializeService({instanceIdentifier:Lu})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lu){return this.instances.has(e)}getOptions(e=Lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LM(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Lu){return this.component?this.component.multipleInstances?e:Lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LM(r){return r===Lu?void 0:r}function MM(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=[];var un;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(un||(un={}));const Aw={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},FM=un.INFO,BM={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},$M=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=BM[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zw{constructor(e){this.name=e,this._logLevel=FM,this._logHandler=$M,this._userLogHandler=null,yN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Aw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...e),this._logHandler(this,un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...e),this._logHandler(this,un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,un.INFO,...e),this._logHandler(this,un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,un.WARN,...e),this._logHandler(this,un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...e),this._logHandler(this,un.ERROR,...e)}}function HM(r){yN.forEach(e=>{e.setLogLevel(r)})}function qM(r,e){for(const t of yN){let s=null;e&&e.level&&(s=Aw[e.level]),r===null?t.userLogHandler=null:t.userLogHandler=(o,u,...c)=>{const p=c.map(v=>{if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(v=>v).join(" ");u>=(s??o.logLevel)&&r({level:un[u].toLowerCase(),message:p,args:c,type:o.name})}}}const GM=(r,e)=>e.some(t=>r instanceof t);let _2,N2;function WM(){return _2||(_2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KM(){return N2||(N2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,L_=new WeakMap,Uw=new WeakMap,x_=new WeakMap,xN=new WeakMap;function ZM(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{t(Ul(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Pw.set(t,r)}).catch(()=>{}),xN.set(e,r),e}function QM(r){if(L_.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});L_.set(r,e)}let M_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return L_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Uw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ul(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YM(r){M_=r(M_)}function JM(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(__(this),e,...t);return Uw.set(s,e.sort?e.sort():[e]),Ul(s)}:KM().includes(r)?function(...e){return r.apply(__(this),e),Ul(Pw.get(this))}:function(...e){return Ul(r.apply(__(this),e))}}function XM(r){return typeof r=="function"?JM(r):(r instanceof IDBTransaction&&QM(r),GM(r,WM())?new Proxy(r,M_):r)}function Ul(r){if(r instanceof IDBRequest)return ZM(r);if(x_.has(r))return x_.get(r);const e=XM(r);return e!==r&&(x_.set(r,e),xN.set(e,r)),e}const __=r=>xN.get(r);function e3(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),p=Ul(c);return s&&c.addEventListener("upgradeneeded",v=>{s(Ul(c.result),v.oldVersion,v.newVersion,Ul(c.transaction),v)}),t&&c.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),p.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),p}const t3=["get","getKey","getAll","getAllKeys","count"],n3=["put","add","delete","clear"],N_=new Map;function T2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(N_.get(e))return N_.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=n3.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||t3.includes(t)))return;const u=async function(c,...p){const v=this.transaction(c,o?"readwrite":"readonly");let x=v.store;return s&&(x=x.index(p.shift())),(await Promise.all([x[t](...p),o&&v.done]))[0]};return N_.set(e,u),u}YM(r=>({...r,get:(e,t,s)=>T2(e,t)||r.get(e,t,s),has:(e,t)=>!!T2(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(i3(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function i3(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dv="@firebase/app",F_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new zw("@firebase/app"),s3="@firebase/app-compat",o3="@firebase/analytics-compat",a3="@firebase/analytics",l3="@firebase/app-check-compat",u3="@firebase/app-check",c3="@firebase/auth",d3="@firebase/auth-compat",m3="@firebase/database",h3="@firebase/data-connect",f3="@firebase/database-compat",p3="@firebase/functions",g3="@firebase/functions-compat",v3="@firebase/installations",b3="@firebase/installations-compat",y3="@firebase/messaging",x3="@firebase/messaging-compat",_3="@firebase/performance",N3="@firebase/performance-compat",T3="@firebase/remote-config",E3="@firebase/remote-config-compat",D3="@firebase/storage",R3="@firebase/storage-compat",C3="@firebase/firestore",w3="@firebase/vertexai-preview",S3="@firebase/firestore-compat",k3="firebase",I3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="[DEFAULT]",V3={[Dv]:"fire-core",[s3]:"fire-core-compat",[a3]:"fire-analytics",[o3]:"fire-analytics-compat",[u3]:"fire-app-check",[l3]:"fire-app-check-compat",[c3]:"fire-auth",[d3]:"fire-auth-compat",[m3]:"fire-rtdb",[h3]:"fire-data-connect",[f3]:"fire-rtdb-compat",[p3]:"fire-fn",[g3]:"fire-fn-compat",[v3]:"fire-iid",[b3]:"fire-iid-compat",[y3]:"fire-fcm",[x3]:"fire-fcm-compat",[_3]:"fire-perf",[N3]:"fire-perf-compat",[T3]:"fire-rc",[E3]:"fire-rc-compat",[D3]:"fire-gcs",[R3]:"fire-gcs-compat",[C3]:"fire-fst",[S3]:"fire-fst-compat",[w3]:"fire-vertex","fire-js":"fire-js",[k3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,mf=new Map,hf=new Map;function E2(r,e){try{r.container.addComponent(e)}catch(t){La.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function c7(r,e){r.container.addOrOverwriteComponent(e)}function Cv(r){const e=r.name;if(hf.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;hf.set(e,r);for(const t of Zu.values())E2(t,r);for(const t of mf.values())E2(t,r);return!0}function _N(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function A3(r,e,t=Rv){_N(r,e).clearInstance(t)}function z3(r){return r.options!==void 0}function d7(r){return r.settings!==void 0}function m7(){hf.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Iw("app","Firebase",P3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new df("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3 extends Ow{constructor(e,t,s,o){const u=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,c={name:s,automaticDataCollectionEnabled:u};if(e.apiKey!==void 0)super(e,c,o);else{const p=e;super(p.options,c,o)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:u},t),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Cd(Dv,F_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){M3(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw lo.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=I3;function j3(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Rv,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw lo.create("bad-app-name",{appName:String(o)});if(t||(t=Cw()),!t)throw lo.create("no-options");const u=Zu.get(o);if(u){if(Ku(t,u.options)&&Ku(s,u.config))return u;throw lo.create("duplicate-app",{appName:o})}const c=new Vw(o);for(const v of hf.values())c.addComponent(v);const p=new Ow(t,s,c);return Zu.set(o,p),p}function h7(r,e){if(IM()&&!ww())throw lo.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;z3(r)?t=r.options:t=r;const s=Object.assign(Object.assign({},e),t);s.releaseOnDeref!==void 0&&delete s.releaseOnDeref;const o=x=>[...x].reduce((N,E)=>Math.imul(31,N)+E.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw lo.create("finalization-registry-not-supported",{});const u=""+o(JSON.stringify(s)),c=mf.get(u);if(c)return c.incRefCount(e.releaseOnDeref),c;const p=new Vw(u);for(const x of hf.values())p.addComponent(x);const v=new U3(t,e,u,p);return mf.set(u,v),v}function L3(r=Rv){const e=Zu.get(r);if(!e&&r===Rv&&Cw())return j3();if(!e)throw lo.create("no-app",{appName:r});return e}function f7(){return Array.from(Zu.values())}async function M3(r){let e=!1;const t=r.name;Zu.has(t)?(e=!0,Zu.delete(t)):mf.has(t)&&r.decRefCount()<=0&&(mf.delete(t),e=!0),e&&(await Promise.all(r.container.getProviders().map(s=>s.delete())),r.isDeleted=!0)}function Cd(r,e,t){var s;let o=(s=V3[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(p.join(" "));return}Cv(new df(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function p7(r,e){if(r!==null&&typeof r!="function")throw lo.create("invalid-log-argument");qM(r,e)}function g7(r){HM(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="firebase-heartbeat-database",B3=1,ff="firebase-heartbeat-store";let T_=null;function jw(){return T_||(T_=e3(F3,B3,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ff)}catch(t){console.warn(t)}}}}).catch(r=>{throw lo.create("idb-open",{originalErrorMessage:r.message})})),T_}async function $3(r){try{const t=(await jw()).transaction(ff),s=await t.objectStore(ff).get(Lw(r));return await t.done,s}catch(e){if(e instanceof Jd)La.warn(e.message);else{const t=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});La.warn(t.message)}}}async function D2(r,e){try{const s=(await jw()).transaction(ff,"readwrite");await s.objectStore(ff).put(e,Lw(r)),await s.done}catch(t){if(t instanceof Jd)La.warn(t.message);else{const s=lo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});La.warn(s.message)}}}function Lw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=1024,q3=30*24*60*60*1e3;class G3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new K3(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=R2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const p=new Date(c.date).valueOf();return Date.now()-p<=q3}),this._storage.overwrite(this._heartbeatsCache))}catch(s){La.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R2(),{heartbeatsToSend:s,unsentEntries:o}=W3(this._heartbeatsCache.heartbeats),u=Ev(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return La.warn(t),""}}}function R2(){return new Date().toISOString().substring(0,10)}function W3(r,e=H3){const t=[];let s=r.slice();for(const o of r){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),C2(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),C2(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class K3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?VM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return D2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return D2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function C2(r){return Ev(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(r){Cv(new df("platform-logger",e=>new r3(e),"PRIVATE")),Cv(new df("heartbeat",e=>new G3(e),"PRIVATE")),Cd(Dv,F_,r),Cd(Dv,F_,"esm2017"),Cd("fire-js","")}Z3("");var w2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gu,Mw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,$){function q(){}q.prototype=$.prototype,F.D=$.prototype,F.prototype=new q,F.prototype.constructor=F,F.C=function(G,K,X){for(var j=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)j[Ie-2]=arguments[Ie];return $.prototype[K].apply(G,j)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(F,$,q){q||(q=0);var G=Array(16);if(typeof $=="string")for(var K=0;16>K;++K)G[K]=$.charCodeAt(q++)|$.charCodeAt(q++)<<8|$.charCodeAt(q++)<<16|$.charCodeAt(q++)<<24;else for(K=0;16>K;++K)G[K]=$[q++]|$[q++]<<8|$[q++]<<16|$[q++]<<24;$=F.g[0],q=F.g[1],K=F.g[2];var X=F.g[3],j=$+(X^q&(K^X))+G[0]+3614090360&4294967295;$=q+(j<<7&4294967295|j>>>25),j=X+(K^$&(q^K))+G[1]+3905402710&4294967295,X=$+(j<<12&4294967295|j>>>20),j=K+(q^X&($^q))+G[2]+606105819&4294967295,K=X+(j<<17&4294967295|j>>>15),j=q+($^K&(X^$))+G[3]+3250441966&4294967295,q=K+(j<<22&4294967295|j>>>10),j=$+(X^q&(K^X))+G[4]+4118548399&4294967295,$=q+(j<<7&4294967295|j>>>25),j=X+(K^$&(q^K))+G[5]+1200080426&4294967295,X=$+(j<<12&4294967295|j>>>20),j=K+(q^X&($^q))+G[6]+2821735955&4294967295,K=X+(j<<17&4294967295|j>>>15),j=q+($^K&(X^$))+G[7]+4249261313&4294967295,q=K+(j<<22&4294967295|j>>>10),j=$+(X^q&(K^X))+G[8]+1770035416&4294967295,$=q+(j<<7&4294967295|j>>>25),j=X+(K^$&(q^K))+G[9]+2336552879&4294967295,X=$+(j<<12&4294967295|j>>>20),j=K+(q^X&($^q))+G[10]+4294925233&4294967295,K=X+(j<<17&4294967295|j>>>15),j=q+($^K&(X^$))+G[11]+2304563134&4294967295,q=K+(j<<22&4294967295|j>>>10),j=$+(X^q&(K^X))+G[12]+1804603682&4294967295,$=q+(j<<7&4294967295|j>>>25),j=X+(K^$&(q^K))+G[13]+4254626195&4294967295,X=$+(j<<12&4294967295|j>>>20),j=K+(q^X&($^q))+G[14]+2792965006&4294967295,K=X+(j<<17&4294967295|j>>>15),j=q+($^K&(X^$))+G[15]+1236535329&4294967295,q=K+(j<<22&4294967295|j>>>10),j=$+(K^X&(q^K))+G[1]+4129170786&4294967295,$=q+(j<<5&4294967295|j>>>27),j=X+(q^K&($^q))+G[6]+3225465664&4294967295,X=$+(j<<9&4294967295|j>>>23),j=K+($^q&(X^$))+G[11]+643717713&4294967295,K=X+(j<<14&4294967295|j>>>18),j=q+(X^$&(K^X))+G[0]+3921069994&4294967295,q=K+(j<<20&4294967295|j>>>12),j=$+(K^X&(q^K))+G[5]+3593408605&4294967295,$=q+(j<<5&4294967295|j>>>27),j=X+(q^K&($^q))+G[10]+38016083&4294967295,X=$+(j<<9&4294967295|j>>>23),j=K+($^q&(X^$))+G[15]+3634488961&4294967295,K=X+(j<<14&4294967295|j>>>18),j=q+(X^$&(K^X))+G[4]+3889429448&4294967295,q=K+(j<<20&4294967295|j>>>12),j=$+(K^X&(q^K))+G[9]+568446438&4294967295,$=q+(j<<5&4294967295|j>>>27),j=X+(q^K&($^q))+G[14]+3275163606&4294967295,X=$+(j<<9&4294967295|j>>>23),j=K+($^q&(X^$))+G[3]+4107603335&4294967295,K=X+(j<<14&4294967295|j>>>18),j=q+(X^$&(K^X))+G[8]+1163531501&4294967295,q=K+(j<<20&4294967295|j>>>12),j=$+(K^X&(q^K))+G[13]+2850285829&4294967295,$=q+(j<<5&4294967295|j>>>27),j=X+(q^K&($^q))+G[2]+4243563512&4294967295,X=$+(j<<9&4294967295|j>>>23),j=K+($^q&(X^$))+G[7]+1735328473&4294967295,K=X+(j<<14&4294967295|j>>>18),j=q+(X^$&(K^X))+G[12]+2368359562&4294967295,q=K+(j<<20&4294967295|j>>>12),j=$+(q^K^X)+G[5]+4294588738&4294967295,$=q+(j<<4&4294967295|j>>>28),j=X+($^q^K)+G[8]+2272392833&4294967295,X=$+(j<<11&4294967295|j>>>21),j=K+(X^$^q)+G[11]+1839030562&4294967295,K=X+(j<<16&4294967295|j>>>16),j=q+(K^X^$)+G[14]+4259657740&4294967295,q=K+(j<<23&4294967295|j>>>9),j=$+(q^K^X)+G[1]+2763975236&4294967295,$=q+(j<<4&4294967295|j>>>28),j=X+($^q^K)+G[4]+1272893353&4294967295,X=$+(j<<11&4294967295|j>>>21),j=K+(X^$^q)+G[7]+4139469664&4294967295,K=X+(j<<16&4294967295|j>>>16),j=q+(K^X^$)+G[10]+3200236656&4294967295,q=K+(j<<23&4294967295|j>>>9),j=$+(q^K^X)+G[13]+681279174&4294967295,$=q+(j<<4&4294967295|j>>>28),j=X+($^q^K)+G[0]+3936430074&4294967295,X=$+(j<<11&4294967295|j>>>21),j=K+(X^$^q)+G[3]+3572445317&4294967295,K=X+(j<<16&4294967295|j>>>16),j=q+(K^X^$)+G[6]+76029189&4294967295,q=K+(j<<23&4294967295|j>>>9),j=$+(q^K^X)+G[9]+3654602809&4294967295,$=q+(j<<4&4294967295|j>>>28),j=X+($^q^K)+G[12]+3873151461&4294967295,X=$+(j<<11&4294967295|j>>>21),j=K+(X^$^q)+G[15]+530742520&4294967295,K=X+(j<<16&4294967295|j>>>16),j=q+(K^X^$)+G[2]+3299628645&4294967295,q=K+(j<<23&4294967295|j>>>9),j=$+(K^(q|~X))+G[0]+4096336452&4294967295,$=q+(j<<6&4294967295|j>>>26),j=X+(q^($|~K))+G[7]+1126891415&4294967295,X=$+(j<<10&4294967295|j>>>22),j=K+($^(X|~q))+G[14]+2878612391&4294967295,K=X+(j<<15&4294967295|j>>>17),j=q+(X^(K|~$))+G[5]+4237533241&4294967295,q=K+(j<<21&4294967295|j>>>11),j=$+(K^(q|~X))+G[12]+1700485571&4294967295,$=q+(j<<6&4294967295|j>>>26),j=X+(q^($|~K))+G[3]+2399980690&4294967295,X=$+(j<<10&4294967295|j>>>22),j=K+($^(X|~q))+G[10]+4293915773&4294967295,K=X+(j<<15&4294967295|j>>>17),j=q+(X^(K|~$))+G[1]+2240044497&4294967295,q=K+(j<<21&4294967295|j>>>11),j=$+(K^(q|~X))+G[8]+1873313359&4294967295,$=q+(j<<6&4294967295|j>>>26),j=X+(q^($|~K))+G[15]+4264355552&4294967295,X=$+(j<<10&4294967295|j>>>22),j=K+($^(X|~q))+G[6]+2734768916&4294967295,K=X+(j<<15&4294967295|j>>>17),j=q+(X^(K|~$))+G[13]+1309151649&4294967295,q=K+(j<<21&4294967295|j>>>11),j=$+(K^(q|~X))+G[4]+4149444226&4294967295,$=q+(j<<6&4294967295|j>>>26),j=X+(q^($|~K))+G[11]+3174756917&4294967295,X=$+(j<<10&4294967295|j>>>22),j=K+($^(X|~q))+G[2]+718787259&4294967295,K=X+(j<<15&4294967295|j>>>17),j=q+(X^(K|~$))+G[9]+3951481745&4294967295,F.g[0]=F.g[0]+$&4294967295,F.g[1]=F.g[1]+(K+(j<<21&4294967295|j>>>11))&4294967295,F.g[2]=F.g[2]+K&4294967295,F.g[3]=F.g[3]+X&4294967295}s.prototype.u=function(F,$){$===void 0&&($=F.length);for(var q=$-this.blockSize,G=this.B,K=this.h,X=0;X<$;){if(K==0)for(;X<=q;)o(this,F,X),X+=this.blockSize;if(typeof F=="string"){for(;X<$;)if(G[K++]=F.charCodeAt(X++),K==this.blockSize){o(this,G),K=0;break}}else for(;X<$;)if(G[K++]=F[X++],K==this.blockSize){o(this,G),K=0;break}}this.h=K,this.o+=$},s.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var $=1;$<F.length-8;++$)F[$]=0;var q=8*this.o;for($=F.length-8;$<F.length;++$)F[$]=q&255,q/=256;for(this.u(F),F=Array(16),$=q=0;4>$;++$)for(var G=0;32>G;G+=8)F[q++]=this.g[$]>>>G&255;return F};function u(F,$){var q=p;return Object.prototype.hasOwnProperty.call(q,F)?q[F]:q[F]=$(F)}function c(F,$){this.h=$;for(var q=[],G=!0,K=F.length-1;0<=K;K--){var X=F[K]|0;G&&X==$||(q[K]=X,G=!1)}this.g=q}var p={};function v(F){return-128<=F&&128>F?u(F,function($){return new c([$|0],0>$?-1:0)}):new c([F|0],0>F?-1:0)}function x(F){if(isNaN(F)||!isFinite(F))return E;if(0>F)return M(x(-F));for(var $=[],q=1,G=0;F>=q;G++)$[G]=F/q|0,q*=4294967296;return new c($,0)}function N(F,$){if(F.length==0)throw Error("number format error: empty string");if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(F.charAt(0)=="-")return M(N(F.substring(1),$));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var q=x(Math.pow($,8)),G=E,K=0;K<F.length;K+=8){var X=Math.min(8,F.length-K),j=parseInt(F.substring(K,K+X),$);8>X?(X=x(Math.pow($,X)),G=G.j(X).add(x(j))):(G=G.j(q),G=G.add(x(j)))}return G}var E=v(0),R=v(1),C=v(16777216);r=c.prototype,r.m=function(){if(A(this))return-M(this).m();for(var F=0,$=1,q=0;q<this.g.length;q++){var G=this.i(q);F+=(0<=G?G:4294967296+G)*$,$*=4294967296}return F},r.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(P(this))return"0";if(A(this))return"-"+M(this).toString(F);for(var $=x(Math.pow(F,6)),q=this,G="";;){var K=pe(q,$).g;q=Y(q,K.j($));var X=((0<q.g.length?q.g[0]:q.h)>>>0).toString(F);if(q=K,P(q))return X+G;for(;6>X.length;)X="0"+X;G=X+G}},r.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function P(F){if(F.h!=0)return!1;for(var $=0;$<F.g.length;$++)if(F.g[$]!=0)return!1;return!0}function A(F){return F.h==-1}r.l=function(F){return F=Y(this,F),A(F)?-1:P(F)?0:1};function M(F){for(var $=F.g.length,q=[],G=0;G<$;G++)q[G]=~F.g[G];return new c(q,~F.h).add(R)}r.abs=function(){return A(this)?M(this):this},r.add=function(F){for(var $=Math.max(this.g.length,F.g.length),q=[],G=0,K=0;K<=$;K++){var X=G+(this.i(K)&65535)+(F.i(K)&65535),j=(X>>>16)+(this.i(K)>>>16)+(F.i(K)>>>16);G=j>>>16,X&=65535,j&=65535,q[K]=j<<16|X}return new c(q,q[q.length-1]&-2147483648?-1:0)};function Y(F,$){return F.add(M($))}r.j=function(F){if(P(this)||P(F))return E;if(A(this))return A(F)?M(this).j(M(F)):M(M(this).j(F));if(A(F))return M(this.j(M(F)));if(0>this.l(C)&&0>F.l(C))return x(this.m()*F.m());for(var $=this.g.length+F.g.length,q=[],G=0;G<2*$;G++)q[G]=0;for(G=0;G<this.g.length;G++)for(var K=0;K<F.g.length;K++){var X=this.i(G)>>>16,j=this.i(G)&65535,Ie=F.i(K)>>>16,ct=F.i(K)&65535;q[2*G+2*K]+=j*ct,J(q,2*G+2*K),q[2*G+2*K+1]+=X*ct,J(q,2*G+2*K+1),q[2*G+2*K+1]+=j*Ie,J(q,2*G+2*K+1),q[2*G+2*K+2]+=X*Ie,J(q,2*G+2*K+2)}for(G=0;G<$;G++)q[G]=q[2*G+1]<<16|q[2*G];for(G=$;G<2*$;G++)q[G]=0;return new c(q,0)};function J(F,$){for(;(F[$]&65535)!=F[$];)F[$+1]+=F[$]>>>16,F[$]&=65535,$++}function ee(F,$){this.g=F,this.h=$}function pe(F,$){if(P($))throw Error("division by zero");if(P(F))return new ee(E,E);if(A(F))return $=pe(M(F),$),new ee(M($.g),M($.h));if(A($))return $=pe(F,M($)),new ee(M($.g),$.h);if(30<F.g.length){if(A(F)||A($))throw Error("slowDivide_ only works with positive integers.");for(var q=R,G=$;0>=G.l(F);)q=ye(q),G=ye(G);var K=te(q,1),X=te(G,1);for(G=te(G,2),q=te(q,2);!P(G);){var j=X.add(G);0>=j.l(F)&&(K=K.add(q),X=j),G=te(G,1),q=te(q,1)}return $=Y(F,K.j($)),new ee(K,$)}for(K=E;0<=F.l($);){for(q=Math.max(1,Math.floor(F.m()/$.m())),G=Math.ceil(Math.log(q)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),X=x(q),j=X.j($);A(j)||0<j.l(F);)q-=G,X=x(q),j=X.j($);P(X)&&(X=R),K=K.add(X),F=Y(F,j)}return new ee(K,F)}r.A=function(F){return pe(this,F).h},r.and=function(F){for(var $=Math.max(this.g.length,F.g.length),q=[],G=0;G<$;G++)q[G]=this.i(G)&F.i(G);return new c(q,this.h&F.h)},r.or=function(F){for(var $=Math.max(this.g.length,F.g.length),q=[],G=0;G<$;G++)q[G]=this.i(G)|F.i(G);return new c(q,this.h|F.h)},r.xor=function(F){for(var $=Math.max(this.g.length,F.g.length),q=[],G=0;G<$;G++)q[G]=this.i(G)^F.i(G);return new c(q,this.h^F.h)};function ye(F){for(var $=F.g.length+1,q=[],G=0;G<$;G++)q[G]=F.i(G)<<1|F.i(G-1)>>>31;return new c(q,F.h)}function te(F,$){var q=$>>5;$%=32;for(var G=F.g.length-q,K=[],X=0;X<G;X++)K[X]=0<$?F.i(X+q)>>>$|F.i(X+q+1)<<32-$:F.i(X+q);return new c(K,F.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Mw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=x,c.fromString=N,Gu=c}).apply(typeof w2<"u"?w2:typeof self<"u"?self:typeof window<"u"?window:{});var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fw,Kh,Bw,mv,B_,$w,Hw,qw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,D,k){return g==Array.prototype||g==Object.prototype||(g[D]=k.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof rv=="object"&&rv];for(var D=0;D<g.length;++D){var k=g[D];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var s=t(this);function o(g,D){if(D)e:{var k=s;g=g.split(".");for(var O=0;O<g.length-1;O++){var ie=g[O];if(!(ie in k))break e;k=k[ie]}g=g[g.length-1],O=k[g],D=D(O),D!=O&&D!=null&&e(k,g,{configurable:!0,writable:!0,value:D})}}function u(g,D){g instanceof String&&(g+="");var k=0,O=!1,ie={next:function(){if(!O&&k<g.length){var me=k++;return{value:D(me,g[me]),done:!1}}return O=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}o("Array.prototype.values",function(g){return g||function(){return u(this,function(D,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},p=this||self;function v(g){var D=typeof g;return D=D!="object"?D:g?Array.isArray(g)?"array":D:"null",D=="array"||D=="object"&&typeof g.length=="number"}function x(g){var D=typeof g;return D=="object"&&g!=null||D=="function"}function N(g,D,k){return g.call.apply(g.bind,arguments)}function E(g,D,k){if(!g)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,O),g.apply(D,ie)}}return function(){return g.apply(D,arguments)}}function R(g,D,k){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?N:E,R.apply(null,arguments)}function C(g,D){var k=Array.prototype.slice.call(arguments,1);return function(){var O=k.slice();return O.push.apply(O,arguments),g.apply(this,O)}}function P(g,D){function k(){}k.prototype=D.prototype,g.aa=D.prototype,g.prototype=new k,g.prototype.constructor=g,g.Qb=function(O,ie,me){for(var Ue=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Ue[kt-2]=arguments[kt];return D.prototype[ie].apply(O,Ue)}}function A(g){const D=g.length;if(0<D){const k=Array(D);for(let O=0;O<D;O++)k[O]=g[O];return k}return[]}function M(g,D){for(let k=1;k<arguments.length;k++){const O=arguments[k];if(v(O)){const ie=g.length||0,me=O.length||0;g.length=ie+me;for(let Ue=0;Ue<me;Ue++)g[ie+Ue]=O[Ue]}else g.push(O)}}class Y{constructor(D,k){this.i=D,this.j=k,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function J(g){return/^[\s\xa0]*$/.test(g)}function ee(){var g=p.navigator;return g&&(g=g.userAgent)?g:""}function pe(g){return pe[" "](g),g}pe[" "]=function(){};var ye=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function te(g,D,k){for(const O in g)D.call(k,g[O],O,g)}function F(g,D){for(const k in g)D.call(void 0,g[k],k,g)}function $(g){const D={};for(const k in g)D[k]=g[k];return D}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(g,D){let k,O;for(let ie=1;ie<arguments.length;ie++){O=arguments[ie];for(k in O)g[k]=O[k];for(let me=0;me<q.length;me++)k=q[me],Object.prototype.hasOwnProperty.call(O,k)&&(g[k]=O[k])}}function K(g){var D=1;g=g.split(":");const k=[];for(;0<D&&g.length;)k.push(g.shift()),D--;return g.length&&k.push(g.join(":")),k}function X(g){p.setTimeout(()=>{throw g},0)}function j(){var g=Zt;let D=null;return g.g&&(D=g.g,g.g=g.g.next,g.g||(g.h=null),D.next=null),D}class Ie{constructor(){this.h=this.g=null}add(D,k){const O=ct.get();O.set(D,k),this.h?this.h.next=O:this.g=O,this.h=O}}var ct=new Y(()=>new nt,g=>g.reset());class nt{constructor(){this.next=this.g=this.h=null}set(D,k){this.h=D,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Te=!1,Zt=new Ie,Oe=()=>{const g=p.Promise.resolve(void 0);_e=()=>{g.then(Se)}};var Se=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(k){X(k)}var D=ct;D.j(g),100>D.h&&(D.h++,g.next=D.g,D.g=g)}Te=!1};function Be(){this.s=this.s,this.C=this.C}Be.prototype.s=!1,Be.prototype.ma=function(){this.s||(this.s=!0,this.N())},Be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(g,D){this.type=g,this.g=this.target=D,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var Bt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var g=!1,D=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};p.addEventListener("test",k,D),p.removeEventListener("test",k,D)}catch{}return g}();function Tt(g,D){if(mt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var k=this.type=g.type,O=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=D,D=g.relatedTarget){if(ye){e:{try{pe(D.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(D=null)}}else k=="mouseover"?D=g.fromElement:k=="mouseout"&&(D=g.toElement);this.relatedTarget=D,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:bt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Tt.aa.h.call(this)}}P(Tt,mt);var bt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Rn="closure_listenable_"+(1e6*Math.random()|0),Wn=0;function Jn(g,D,k,O,ie){this.listener=g,this.proxy=null,this.src=D,this.type=k,this.capture=!!O,this.ha=ie,this.key=++Wn,this.da=this.fa=!1}function Kn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Xn(g){this.src=g,this.g={},this.h=0}Xn.prototype.add=function(g,D,k,O,ie){var me=g.toString();g=this.g[me],g||(g=this.g[me]=[],this.h++);var Ue=Tn(g,D,O,ie);return-1<Ue?(D=g[Ue],k||(D.fa=!1)):(D=new Jn(D,this.src,me,!!O,ie),D.fa=k,g.push(D)),D};function Zn(g,D){var k=D.type;if(k in g.g){var O=g.g[k],ie=Array.prototype.indexOf.call(O,D,void 0),me;(me=0<=ie)&&Array.prototype.splice.call(O,ie,1),me&&(Kn(D),g.g[k].length==0&&(delete g.g[k],g.h--))}}function Tn(g,D,k,O){for(var ie=0;ie<g.length;++ie){var me=g[ie];if(!me.da&&me.listener==D&&me.capture==!!k&&me.ha==O)return ie}return-1}var er="closure_lm_"+(1e6*Math.random()|0),On={};function jn(g,D,k,O,ie){if(O&&O.once)return Or(g,D,k,O,ie);if(Array.isArray(D)){for(var me=0;me<D.length;me++)jn(g,D[me],k,O,ie);return null}return k=ir(k),g&&g[Rn]?g.K(D,k,x(O)?!!O.capture:!!O,ie):In(g,D,k,!1,O,ie)}function In(g,D,k,O,ie,me){if(!D)throw Error("Invalid event type");var Ue=x(ie)?!!ie.capture:!!ie,kt=Rr(g);if(kt||(g[er]=kt=new Xn(g)),k=kt.add(D,k,O,Ue,me),k.proxy)return k;if(O=dr(),k.proxy=O,O.src=g,O.listener=k,g.addEventListener)Bt||(ie=Ue),ie===void 0&&(ie=!1),g.addEventListener(D.toString(),O,ie);else if(g.attachEvent)g.attachEvent(Dr(D.toString()),O);else if(g.addListener&&g.removeListener)g.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return k}function dr(){function g(k){return D.call(g.src,g.listener,k)}const D=hr;return g}function Or(g,D,k,O,ie){if(Array.isArray(D)){for(var me=0;me<D.length;me++)Or(g,D[me],k,O,ie);return null}return k=ir(k),g&&g[Rn]?g.L(D,k,x(O)?!!O.capture:!!O,ie):In(g,D,k,!0,O,ie)}function mr(g,D,k,O,ie){if(Array.isArray(D))for(var me=0;me<D.length;me++)mr(g,D[me],k,O,ie);else O=x(O)?!!O.capture:!!O,k=ir(k),g&&g[Rn]?(g=g.i,D=String(D).toString(),D in g.g&&(me=g.g[D],k=Tn(me,k,O,ie),-1<k&&(Kn(me[k]),Array.prototype.splice.call(me,k,1),me.length==0&&(delete g.g[D],g.h--)))):g&&(g=Rr(g))&&(D=g.g[D.toString()],g=-1,D&&(g=Tn(D,k,O,ie)),(k=-1<g?D[g]:null)&&br(k))}function br(g){if(typeof g!="number"&&g&&!g.da){var D=g.src;if(D&&D[Rn])Zn(D.i,g);else{var k=g.type,O=g.proxy;D.removeEventListener?D.removeEventListener(k,O,g.capture):D.detachEvent?D.detachEvent(Dr(k),O):D.addListener&&D.removeListener&&D.removeListener(O),(k=Rr(D))?(Zn(k,g),k.h==0&&(k.src=null,D[er]=null)):Kn(g)}}}function Dr(g){return g in On?On[g]:On[g]="on"+g}function hr(g,D){if(g.da)g=!0;else{D=new Tt(D,this);var k=g.listener,O=g.ha||g.src;g.fa&&br(g),g=k.call(O,D)}return g}function Rr(g){return g=g[er],g instanceof Xn?g:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(g){return typeof g=="function"?g:(g[tr]||(g[tr]=function(D){return g.handleEvent(D)}),g[tr])}function It(){Be.call(this),this.i=new Xn(this),this.M=this,this.F=null}P(It,Be),It.prototype[Rn]=!0,It.prototype.removeEventListener=function(g,D,k,O){mr(this,g,D,k,O)};function cn(g,D){var k,O=g.F;if(O)for(k=[];O;O=O.F)k.push(O);if(g=g.M,O=D.type||D,typeof D=="string")D=new mt(D,g);else if(D instanceof mt)D.target=D.target||g;else{var ie=D;D=new mt(O,g),G(D,ie)}if(ie=!0,k)for(var me=k.length-1;0<=me;me--){var Ue=D.g=k[me];ie=Gr(Ue,O,!0,D)&&ie}if(Ue=D.g=g,ie=Gr(Ue,O,!0,D)&&ie,ie=Gr(Ue,O,!1,D)&&ie,k)for(me=0;me<k.length;me++)Ue=D.g=k[me],ie=Gr(Ue,O,!1,D)&&ie}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var g=this.i,D;for(D in g.g){for(var k=g.g[D],O=0;O<k.length;O++)Kn(k[O]);delete g.g[D],g.h--}}this.F=null},It.prototype.K=function(g,D,k,O){return this.i.add(String(g),D,!1,k,O)},It.prototype.L=function(g,D,k,O){return this.i.add(String(g),D,!0,k,O)};function Gr(g,D,k,O){if(D=g.i.g[String(D)],!D)return!0;D=D.concat();for(var ie=!0,me=0;me<D.length;++me){var Ue=D[me];if(Ue&&!Ue.da&&Ue.capture==k){var kt=Ue.listener,Pn=Ue.ha||Ue.src;Ue.fa&&Zn(g.i,Ue),ie=kt.call(Pn,O)!==!1&&ie}}return ie&&!O.defaultPrevented}function ii(g,D,k){if(typeof g=="function")k&&(g=R(g,k));else if(g&&typeof g.handleEvent=="function")g=R(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:p.setTimeout(g,D||0)}function Ae(g){g.g=ii(()=>{g.g=null,g.i&&(g.i=!1,Ae(g))},g.l);const D=g.h;g.h=null,g.m.apply(null,D)}class Xe extends Be{constructor(D,k){super(),this.m=D,this.l=k,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Ae(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(g){Be.call(this),this.h=g,this.g={}}P(vt,Be);var qt=[];function Wt(g){te(g.g,function(D,k){this.g.hasOwnProperty(k)&&br(D)},g),g.g={}}vt.prototype.N=function(){vt.aa.N.call(this),Wt(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=p.JSON.stringify,_n=p.JSON.parse,Cr=class{stringify(g){return p.JSON.stringify(g,void 0)}parse(g){return p.JSON.parse(g,void 0)}};function rn(){}rn.prototype.h=null;function yr(g){return g.h||(g.h=g.i())}function dn(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wr(){mt.call(this,"d")}P(Wr,mt);function jr(){mt.call(this,"c")}P(jr,mt);var Lr={},ps=null;function Qi(){return ps=ps||new It}Lr.La="serverreachability";function ze(g){mt.call(this,Lr.La,g)}P(ze,mt);function xe(g){const D=Qi();cn(D,new ze(D))}Lr.STAT_EVENT="statevent";function Vt(g,D){mt.call(this,Lr.STAT_EVENT,g),this.stat=D}P(Vt,mt);function lt(g){const D=Qi();cn(D,new Vt(D,g))}Lr.Ma="timingevent";function gs(g,D){mt.call(this,Lr.Ma,g),this.size=D}P(gs,mt);function si(g,D){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){g()},D)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function H(g,D,k,O,ie,me){g.info(function(){if(g.g)if(me)for(var Ue="",kt=me.split("&"),Pn=0;Pn<kt.length;Pn++){var Je=kt[Pn].split("=");if(1<Je.length){var yn=Je[0];Je=Je[1];var xr=yn.split("_");Ue=2<=xr.length&&xr[1]=="type"?Ue+(yn+"="+Je+"&"):Ue+(yn+"=redacted&")}}else Ue=null;else Ue=me;return"XMLHTTP REQ ("+O+") [attempt "+ie+"]: "+D+`
`+k+`
`+Ue})}function De(g,D,k,O,ie,me,Ue){g.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ie+"]: "+D+`
`+k+`
`+me+" "+Ue})}function Pe(g,D,k,O){g.info(function(){return"XMLHTTP TEXT ("+D+"): "+Pt(g,k)+(O?" "+O:"")})}function at(g,D){g.info(function(){return"TIMEOUT: "+D})}Mn.prototype.info=function(){};function Pt(g,D){if(!g.g)return D;if(!D)return null;try{var k=JSON.parse(D);if(k){for(g=0;g<k.length;g++)if(Array.isArray(k[g])){var O=k[g];if(!(2>O.length)){var ie=O[1];if(Array.isArray(ie)&&!(1>ie.length)){var me=ie[0];if(me!="noop"&&me!="stop"&&me!="close")for(var Ue=1;Ue<ie.length;Ue++)ie[Ue]=""}}}}return Ln(k)}catch{return D}}var it={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ht;function En(){}P(En,rn),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},ht=new En;function xt(g,D,k,O){this.j=g,this.i=D,this.l=k,this.R=O||1,this.U=new vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}var wr={},xi={};function oi(g,D,k){g.L=1,g.v=ns(_i(D)),g.m=k,g.P=!0,fr(g,null)}function fr(g,D){g.F=Date.now(),Ws(g),g.A=_i(g.v);var k=g.A,O=g.R;Array.isArray(O)||(O=[String(O)]),et(k.i,"t",O),g.C=0,k=g.j.J,g.h=new Vn,g.g=Za(g.j,k?D:null,!g.m),0<g.O&&(g.M=new Xe(R(g.Y,g,g.g),g.O)),D=g.U,k=g.g,O=g.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(qt[0]=ie.toString()),ie=qt);for(var me=0;me<ie.length;me++){var Ue=jn(k,ie[me],O||D.handleEvent,!1,D.h||D);if(!Ue)break;D.g[Ue.key]=Ue}D=g.H?$(g.H):{},g.m?(g.u||(g.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,D)):(g.u="GET",g.g.ea(g.A,g.u,null,D)),xe(),H(g.i,g.u,g.A,g.l,g.R,g.m)}xt.prototype.ca=function(g){g=g.target;const D=this.M;D&&ue(g)==3?D.j():this.Y(g)},xt.prototype.Y=function(g){try{if(g==this.g)e:{const xr=ue(this.g);var D=this.g.Ba();const Sr=this.g.Z();if(!(3>xr)&&(xr!=3||this.g&&(this.h.h||this.g.oa()||ge(this.g)))){this.J||xr!=4||D==7||(D==8||0>=Sr?xe(3):xe(2)),At(this);var k=this.g.Z();this.X=k;t:if(Yi(this)){var O=ge(this.g);g="";var ie=O.length,me=ue(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Ji(this);var Ue="";break t}this.h.i=new p.TextDecoder}for(D=0;D<ie;D++)this.h.h=!0,g+=this.h.i.decode(O[D],{stream:!(me&&D==ie-1)});O.length=0,this.h.g+=g,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=k==200,De(this.i,this.u,this.A,this.l,this.R,xr,k),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Pn=this.g;if((kt=Pn.g?Pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(kt)){var Je=kt;break t}}Je=null}if(k=Je)Pe(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xi(this,k);else{this.o=!1,this.s=3,lt(12),Mr(this),Ji(this);break e}}if(this.P){k=!0;let os;for(;!this.J&&this.C<Ue.length;)if(os=Uo(this,Ue),os==xi){xr==4&&(this.s=4,lt(14),k=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(os==wr){this.s=4,lt(15),Pe(this.i,this.l,Ue,"[Invalid Chunk]"),k=!1;break}else Pe(this.i,this.l,os,null),Xi(this,os);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xr!=4||Ue.length!=0||this.h.h||(this.s=1,lt(16),k=!1),this.o=this.o&&k,!k)Pe(this.i,this.l,Ue,"[Invalid Chunked Response]"),Mr(this),Ji(this);else if(0<Ue.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),Ps(yn),yn.M=!0,lt(11))}}else Pe(this.i,this.l,Ue,null),Xi(this,Ue);xr==4&&Mr(this),this.o&&!this.J&&(xr==4?go(this.j,this):(this.o=!1,Ws(this)))}else Ve(this.g),k==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Mr(this),Ji(this)}}}catch{}finally{}};function Yi(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Uo(g,D){var k=g.C,O=D.indexOf(`
`,k);return O==-1?xi:(k=Number(D.substring(k,O)),isNaN(k)?wr:(O+=1,O+k>D.length?xi:(D=D.slice(O,O+k),g.C=O+k,D)))}xt.prototype.cancel=function(){this.J=!0,Mr(this)};function Ws(g){g.S=Date.now()+g.I,vs(g,g.I)}function vs(g,D){if(g.B!=null)throw Error("WatchDog timer not null");g.B=si(R(g.ba,g),D)}function At(g){g.B&&(p.clearTimeout(g.B),g.B=null)}xt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(at(this.i,this.A),this.L!=2&&(xe(),lt(17)),Mr(this),this.s=2,Ji(this)):vs(this,this.S-g)};function Ji(g){g.j.G==0||g.J||go(g.j,g)}function Mr(g){At(g);var D=g.M;D&&typeof D.ma=="function"&&D.ma(),g.M=null,Wt(g.U),g.g&&(D=g.g,g.g=null,D.abort(),D.ma())}function Xi(g,D){try{var k=g.j;if(k.G!=0&&(k.g==g||vn(k.h,g))){if(!g.K&&vn(k.h,g)&&k.G==3){try{var O=k.Da.g.parse(D)}catch{O=null}if(Array.isArray(O)&&O.length==3){var ie=O;if(ie[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<g.F)Ti(k),zt(k);else break e;zs(k),lt(18)}}else k.za=ie[1],0<k.za-k.T&&37500>ie[2]&&k.F&&k.v==0&&!k.C&&(k.C=si(R(k.Za,k),6e3));if(1>=$t(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Us(k,11)}else if((g.K||k.g==g)&&Ti(k),!J(D))for(ie=k.Da.g.parse(D),D=0;D<ie.length;D++){let Je=ie[D];if(k.T=Je[0],Je=Je[1],k.G==2)if(Je[0]=="c"){k.K=Je[1],k.ia=Je[2];const yn=Je[3];yn!=null&&(k.la=yn,k.j.info("VER="+k.la));const xr=Je[4];xr!=null&&(k.Aa=xr,k.j.info("SVER="+k.Aa));const Sr=Je[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(O=1.5*Sr,k.L=O,k.j.info("backChannelRequestTimeoutMs_="+O)),O=k;const os=g.g;if(os){const Ei=os.g?os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var me=O.h;me.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(ys(me,me.h),me.h=null))}if(O.D){const tu=os.g?os.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(O.ya=tu,Ut(O.I,O.D,tu))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-g.F,k.j.info("Handshake RTT: "+k.R+"ms")),O=k;var Ue=g;if(O.qa=uc(O,O.J?O.ia:null,O.W),Ue.K){xs(O.h,Ue);var kt=Ue,Pn=O.L;Pn&&(kt.I=Pn),kt.B&&(At(kt),Ws(kt)),O.g=Ue}else Ns(O);0<k.i.length&&hn(k)}else Je[0]!="stop"&&Je[0]!="close"||Us(k,7);else k.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Us(k,7):ft(k):Je[0]!="noop"&&k.l&&k.l.ta(Je),k.v=0)}}xe(4)}catch{}}var Oo=class{constructor(g,D){this.g=g,this.map=D}};function ho(g){this.l=g||10,p.PerformanceNavigationTiming?(g=p.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function $t(g){return g.h?1:g.g?g.g.size:0}function vn(g,D){return g.h?g.h==D:g.g?g.g.has(D):!1}function ys(g,D){g.g?g.g.add(D):g.h=D}function xs(g,D){g.h&&g.h==D?g.h=null:g.g&&g.g.has(D)&&g.g.delete(D)}ho.prototype.cancel=function(){if(this.i=Vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Vs(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let D=g.i;for(const k of g.g.values())D=D.concat(k.D);return D}return A(g.i)}function fo(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(v(g)){for(var D=[],k=g.length,O=0;O<k;O++)D.push(g[O]);return D}D=[],k=0;for(O in g)D[k++]=g[O];return D}function _t(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(v(g)||typeof g=="string"){var D=[];g=g.length;for(var k=0;k<g;k++)D.push(k);return D}D=[],k=0;for(const O in g)D[k++]=O;return D}}}function Yt(g,D){if(g.forEach&&typeof g.forEach=="function")g.forEach(D,void 0);else if(v(g)||typeof g=="string")Array.prototype.forEach.call(g,D,void 0);else for(var k=_t(g),O=fo(g),ie=O.length,me=0;me<ie;me++)D.call(void 0,O[me],k&&k[me],g)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ts(g,D){if(g){g=g.split("&");for(var k=0;k<g.length;k++){var O=g[k].indexOf("="),ie=null;if(0<=O){var me=g[k].substring(0,O);ie=g[k].substring(O+1)}else me=g[k];D(me,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Bn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Bn){this.h=g.h,_s(this,g.j),this.o=g.o,this.g=g.g,ai(this,g.s),this.l=g.l;var D=g.i,k=new Hn;k.i=D.i,D.g&&(k.g=new Map(D.g),k.h=D.h),$n(this,k),this.m=g.m}else g&&(D=String(g).match(es))?(this.h=!1,_s(this,D[1]||"",!0),this.o=Ni(D[2]||""),this.g=Ni(D[3]||"",!0),ai(this,D[4]),this.l=Ni(D[5]||"",!0),$n(this,D[6]||"",!0),this.m=Ni(D[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}Bn.prototype.toString=function(){var g=[],D=this.j;D&&g.push(Oi(D,Ot,!0),":");var k=this.g;return(k||D=="file")&&(g.push("//"),(D=this.o)&&g.push(Oi(D,Ot,!0),"@"),g.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&g.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(Oi(k,k.charAt(0)=="/"?Zs:po,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",Oi(k,jo)),g.join("")};function _i(g){return new Bn(g)}function _s(g,D,k){g.j=k?Ni(D,!0):D,g.j&&(g.j=g.j.replace(/:$/,""))}function ai(g,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);g.s=D}else g.s=null}function $n(g,D,k){D instanceof Hn?(g.i=D,bn(g.i,g.h)):(k||(D=Oi(D,Nt)),g.i=new Hn(D,g.h))}function Ut(g,D,k){g.i.set(D,k)}function ns(g){return Ut(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ni(g,D){return g?D?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Oi(g,D,k){return typeof g=="string"?(g=encodeURI(g).replace(D,Ks),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ks(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ot=/[#\/\?@]/g,po=/[#\?:]/g,Zs=/[#\?]/g,Nt=/[#\?@]/g,jo=/#/g;function Hn(g,D){this.h=this.g=null,this.i=g||null,this.j=!!D}function Kr(g){g.g||(g.g=new Map,g.h=0,g.i&&ts(g.i,function(D,k){g.add(decodeURIComponent(D.replace(/\+/g," ")),k)}))}r=Hn.prototype,r.add=function(g,D){Kr(this),this.i=null,g=Ht(this,g);var k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(D),this.h+=1,this};function rs(g,D){Kr(g),D=Ht(g,D),g.g.has(D)&&(g.i=null,g.h-=g.g.get(D).length,g.g.delete(D))}function ca(g,D){return Kr(g),D=Ht(g,D),g.g.has(D)}r.forEach=function(g,D){Kr(this),this.g.forEach(function(k,O){k.forEach(function(ie){g.call(D,ie,O,this)},this)},this)},r.na=function(){Kr(this);const g=Array.from(this.g.values()),D=Array.from(this.g.keys()),k=[];for(let O=0;O<D.length;O++){const ie=g[O];for(let me=0;me<ie.length;me++)k.push(D[O])}return k},r.V=function(g){Kr(this);let D=[];if(typeof g=="string")ca(this,g)&&(D=D.concat(this.g.get(Ht(this,g))));else{g=Array.from(this.g.values());for(let k=0;k<g.length;k++)D=D.concat(g[k])}return D},r.set=function(g,D){return Kr(this),this.i=null,g=Ht(this,g),ca(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[D]),this.h+=1,this},r.get=function(g,D){return g?(g=this.V(g),0<g.length?String(g[0]):D):D};function et(g,D,k){rs(g,D),0<k.length&&(g.i=null,g.g.set(Ht(g,D),A(k)),g.h+=k.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],D=Array.from(this.g.keys());for(var k=0;k<D.length;k++){var O=D[k];const me=encodeURIComponent(String(O)),Ue=this.V(O);for(O=0;O<Ue.length;O++){var ie=me;Ue[O]!==""&&(ie+="="+encodeURIComponent(String(Ue[O]))),g.push(ie)}}return this.i=g.join("&")};function Ht(g,D){return D=String(D),g.j&&(D=D.toLowerCase()),D}function bn(g,D){D&&!g.j&&(Kr(g),g.i=null,g.g.forEach(function(k,O){var ie=O.toLowerCase();O!=ie&&(rs(this,O),et(this,ie,k))},g)),g.j=D}function li(g,D){const k=new Mn;if(p.Image){const O=new Image;O.onload=C(pr,k,"TestLoadImage: loaded",!0,D,O),O.onerror=C(pr,k,"TestLoadImage: error",!1,D,O),O.onabort=C(pr,k,"TestLoadImage: abort",!1,D,O),O.ontimeout=C(pr,k,"TestLoadImage: timeout",!1,D,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=g}else D(!1)}function Fr(g,D){const k=new Mn,O=new AbortController,ie=setTimeout(()=>{O.abort(),pr(k,"TestPingServer: timeout",!1,D)},1e4);fetch(g,{signal:O.signal}).then(me=>{clearTimeout(ie),me.ok?pr(k,"TestPingServer: ok",!0,D):pr(k,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(ie),pr(k,"TestPingServer: error",!1,D)})}function pr(g,D,k,O,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),O(k)}catch{}}function da(){this.g=new Cr}function ji(g,D,k){const O=k||"";try{Yt(g,function(ie,me){let Ue=ie;x(ie)&&(Ue=Ln(ie)),D.push(O+me+"="+encodeURIComponent(Ue))})}catch(ie){throw D.push(O+"type="+encodeURIComponent("_badmap")),ie}}function Li(g){this.l=g.Ub||null,this.j=g.eb||!1}P(Li,rn),Li.prototype.g=function(){return new is(this.l,this.j)},Li.prototype.i=function(g){return function(){return g}}({});function is(g,D){It.call(this),this.D=g,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(is,It),r=is.prototype,r.open=function(g,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=D,this.readyState=1,As(this)},r.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(D.body=g),(this.D||p).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},r.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;An(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function An(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}r.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var D=g.value?g.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!g.done}))&&(this.response=this.responseText+=D)}g.done?ui(this):As(this),this.readyState==3&&An(this)}},r.Ra=function(g){this.g&&(this.response=this.responseText=g,ui(this))},r.Qa=function(g){this.g&&(this.response=g,ui(this))},r.ga=function(){this.g&&ui(this)};function ui(g){g.readyState=4,g.l=null,g.j=null,g.v=null,As(g)}r.setRequestHeader=function(g,D){this.u.append(g,D)},r.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],D=this.h.entries();for(var k=D.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=D.next();return g.join(`\r
`)};function As(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ss(g){let D="";return te(g,function(k,O){D+=O,D+=":",D+=k,D+=`\r
`}),D}function Qs(g,D,k){e:{for(O in k){var O=!1;break e}O=!0}O||(k=ss(k),typeof g=="string"?k!=null&&encodeURIComponent(String(k)):Ut(g,D,k))}function mn(g){It.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(mn,It);var Ys=/^https?$/i,Ga=["POST","PUT"];r=mn.prototype,r.Ha=function(g){this.J=g},r.ea=function(g,D,k,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);D=D?D.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ht.g(),this.v=this.o?yr(this.o):yr(ht),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(D,String(g),!0),this.B=!1}catch(me){Lo(this,me);return}if(g=k||"",k=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ie in O)k.set(ie,O[ie]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const me of O.keys())k.set(me,O.get(me));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(k.keys()).find(me=>me.toLowerCase()=="content-type"),ie=p.FormData&&g instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ga,D,void 0))||O||ie||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Ue]of k)this.g.setRequestHeader(me,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W(this),this.u=!0,this.g.send(g),this.u=!1}catch(me){Lo(this,me)}};function Lo(g,D){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=D,g.m=5,jt(g),V(g)}function jt(g){g.A||(g.A=!0,cn(g,"complete"),cn(g,"error"))}r.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,cn(this,"complete"),cn(this,"abort"),V(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),V(this,!0)),mn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},r.bb=function(){ma(this)};function ma(g){if(g.h&&typeof c<"u"&&(!g.v[1]||ue(g)!=4||g.Z()!=2)){if(g.u&&ue(g)==4)ii(g.Ea,0,g);else if(cn(g,"readystatechange"),ue(g)==4){g.h=!1;try{const Ue=g.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var k;if(!(k=D)){var O;if(O=Ue===0){var ie=String(g.D).match(es)[1]||null;!ie&&p.self&&p.self.location&&(ie=p.self.location.protocol.slice(0,-1)),O=!Ys.test(ie?ie.toLowerCase():"")}k=O}if(k)cn(g,"complete"),cn(g,"success");else{g.m=6;try{var me=2<ue(g)?g.g.statusText:""}catch{me=""}g.l=me+" ["+g.Z()+"]",jt(g)}}finally{V(g)}}}}function V(g,D){if(g.g){W(g);const k=g.g,O=g.v[0]?()=>{}:null;g.g=null,g.v=null,D||cn(g,"ready");try{k.onreadystatechange=O}catch{}}}function W(g){g.I&&(p.clearTimeout(g.I),g.I=null)}r.isActive=function(){return!!this.g};function ue(g){return g.g?g.g.readyState:0}r.Z=function(){try{return 2<ue(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(g){if(this.g){var D=this.g.responseText;return g&&D.indexOf(g)==0&&(D=D.substring(g.length)),_n(D)}};function ge(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ve(g){const D={};g=(g.g&&2<=ue(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<g.length;O++){if(J(g[O]))continue;var k=K(g[O]);const ie=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const me=D[ie]||[];D[ie]=me,me.push(k)}F(D,function(O){return O.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function st(g,D,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||D}function Ze(g){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=st("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=st("baseRetryDelayMs",5e3,g),this.cb=st("retryDelaySeedMs",1e4,g),this.Wa=st("forwardChannelMaxRetries",2,g),this.wa=st("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(g&&g.concurrentRequestLimit),this.Da=new da,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ze.prototype,r.la=8,r.G=1,r.connect=function(g,D,k,O){lt(0),this.W=g,this.H=D||{},k&&O!==void 0&&(this.H.OSID=k,this.H.OAID=O),this.F=this.X,this.I=uc(this,null,this.W),hn(this)};function ft(g){if(Jt(g),g.G==3){var D=g.U++,k=_i(g.I);if(Ut(k,"SID",g.K),Ut(k,"RID",D),Ut(k,"TYPE","terminate"),Dn(g,k),D=new xt(g,g.j,D),D.L=2,D.v=ns(_i(k)),k=!1,p.navigator&&p.navigator.sendBeacon)try{k=p.navigator.sendBeacon(D.v.toString(),"")}catch{}!k&&p.Image&&(new Image().src=D.v,k=!0),k||(D.g=Za(D.j,null),D.g.ea(D.v)),D.F=Date.now(),Ws(D)}Ka(g)}function zt(g){g.g&&(Ps(g),g.g.cancel(),g.g=null)}function Jt(g){zt(g),g.u&&(p.clearTimeout(g.u),g.u=null),Ti(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&p.clearTimeout(g.s),g.s=null)}function hn(g){if(!bs(g.h)&&!g.s){g.s=!0;var D=g.Ga;_e||Oe(),Te||(_e(),Te=!0),Zt.add(D,g),g.B=0}}function Gt(g,D){return $t(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=D.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=si(R(g.Ga,g,D),Mo(g,g.B)),g.B++,!0)}r.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ie=new xt(this,this.j,g);let me=this.o;if(this.S&&(me?(me=$(me),G(me,this.S)):me=this.S),this.m!==null||this.O||(ie.H=me,me=null),this.P)e:{for(var D=0,k=0;k<this.i.length;k++){t:{var O=this.i[k];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(D+=O,4096<D){D=k;break e}if(D===4096||k===this.i.length-1){D=k+1;break e}}D=1e3}else D=1e3;D=St(this,ie,D),k=_i(this.I),Ut(k,"RID",g),Ut(k,"CVER",22),this.D&&Ut(k,"X-HTTP-Session-Id",this.D),Dn(this,k),me&&(this.O?D="headers="+encodeURIComponent(String(ss(me)))+"&"+D:this.m&&Qs(k,this.m,me)),ys(this.h,ie),this.Ua&&Ut(k,"TYPE","init"),this.P?(Ut(k,"$req",D),Ut(k,"SID","null"),ie.T=!0,oi(ie,k,null)):oi(ie,k,D),this.G=2}}else this.G==3&&(g?Cn(this,g):this.i.length==0||bs(this.h)||Cn(this))};function Cn(g,D){var k;D?k=D.l:k=g.U++;const O=_i(g.I);Ut(O,"SID",g.K),Ut(O,"RID",k),Ut(O,"AID",g.T),Dn(g,O),g.m&&g.o&&Qs(O,g.m,g.o),k=new xt(g,g.j,k,g.B+1),g.m===null&&(k.H=g.o),D&&(g.i=D.D.concat(g.i)),D=St(g,k,1e3),k.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ys(g.h,k),oi(k,O,D)}function Dn(g,D){g.H&&te(g.H,function(k,O){Ut(D,O,k)}),g.l&&Yt({},function(k,O){Ut(D,O,k)})}function St(g,D,k){k=Math.min(g.i.length,k);var O=g.l?R(g.l.Na,g.l,g):null;e:{var ie=g.i;let me=-1;for(;;){const Ue=["count="+k];me==-1?0<k?(me=ie[0].g,Ue.push("ofs="+me)):me=0:Ue.push("ofs="+me);let kt=!0;for(let Pn=0;Pn<k;Pn++){let Je=ie[Pn].g;const yn=ie[Pn].map;if(Je-=me,0>Je)me=Math.max(0,ie[Pn].g-100),kt=!1;else try{ji(yn,Ue,"req"+Je+"_")}catch{O&&O(yn)}}if(kt){O=Ue.join("&");break e}}}return g=g.i.splice(0,k),D.D=g,O}function Ns(g){if(!g.g&&!g.u){g.Y=1;var D=g.Fa;_e||Oe(),Te||(_e(),Te=!0),Zt.add(D,g),g.v=0}}function zs(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=si(R(g.Fa,g),Mo(g,g.v)),g.v++,!0)}r.Fa=function(){if(this.u=null,Wa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=si(R(this.ab,this),g)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),zt(this),Wa(this))};function Ps(g){g.A!=null&&(p.clearTimeout(g.A),g.A=null)}function Wa(g){g.g=new xt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var D=_i(g.qa);Ut(D,"RID","rpc"),Ut(D,"SID",g.K),Ut(D,"AID",g.T),Ut(D,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ut(D,"TO",g.ja),Ut(D,"TYPE","xmlhttp"),Dn(g,D),g.m&&g.o&&Qs(D,g.m,g.o),g.L&&(g.g.I=g.L);var k=g.g;g=g.ia,k.L=1,k.v=ns(_i(D)),k.m=null,k.P=!0,fr(k,g)}r.Za=function(){this.C!=null&&(this.C=null,zt(this),zs(this),lt(19))};function Ti(g){g.C!=null&&(p.clearTimeout(g.C),g.C=null)}function go(g,D){var k=null;if(g.g==D){Ti(g),Ps(g),g.g=null;var O=2}else if(vn(g.h,D))k=D.D,xs(g.h,D),O=1;else return;if(g.G!=0){if(D.o)if(O==1){k=D.m?D.m.length:0,D=Date.now()-D.F;var ie=g.B;O=Qi(),cn(O,new gs(O,k)),hn(g)}else Ns(g);else if(ie=D.s,ie==3||ie==0&&0<D.X||!(O==1&&Gt(g,D)||O==2&&zs(g)))switch(k&&0<k.length&&(D=g.h,D.i=D.i.concat(k)),ie){case 1:Us(g,5);break;case 4:Us(g,10);break;case 3:Us(g,6);break;default:Us(g,2)}}}function Mo(g,D){let k=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(k*=2),k*D}function Us(g,D){if(g.j.info("Error code "+D),D==2){var k=R(g.fb,g),O=g.Xa;const ie=!O;O=new Bn(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||_s(O,"https"),ns(O),ie?li(O.toString(),k):Fr(O.toString(),k)}else lt(2);g.G=0,g.l&&g.l.sa(D),Ka(g),Jt(g)}r.fb=function(g){g?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Ka(g){if(g.G=0,g.ka=[],g.l){const D=Vs(g.h);(D.length!=0||g.i.length!=0)&&(M(g.ka,D),M(g.ka,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.ra()}}function uc(g,D,k){var O=k instanceof Bn?_i(k):new Bn(k);if(O.g!="")D&&(O.g=D+"."+O.g),ai(O,O.s);else{var ie=p.location;O=ie.protocol,D=D?D+"."+ie.hostname:ie.hostname,ie=+ie.port;var me=new Bn(null);O&&_s(me,O),D&&(me.g=D),ie&&ai(me,ie),k&&(me.l=k),O=me}return k=g.D,D=g.ya,k&&D&&Ut(O,k,D),Ut(O,"VER",g.la),Dn(g,O),O}function Za(g,D,k){if(D&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=g.Ca&&!g.pa?new mn(new Li({eb:k})):new mn(g.pa),D.Ha(g.J),D}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ha(){}r=ha.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Js(){}Js.prototype.g=function(g,D){return new sr(g,D)};function sr(g,D){It.call(this),this.g=new Ze(D),this.l=g,this.h=D&&D.messageUrlParams||null,g=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(g?g["X-WebChannel-Content-Type"]=D.messageContentType:g={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(g?g["X-WebChannel-Client-Profile"]=D.va:g={"X-WebChannel-Client-Profile":D.va}),this.g.S=g,(g=D&&D.Sb)&&!J(g)&&(this.g.m=g),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!J(D)&&(this.g.D=D,g=this.h,g!==null&&D in g&&(g=this.h,D in g&&delete g[D])),this.j=new zn(this)}P(sr,It),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){ft(this.g)},sr.prototype.o=function(g){var D=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.u&&(k={},k.__data__=Ln(g),g=k);D.i.push(new Oo(D.Ya++,g)),D.G==3&&hn(D)},sr.prototype.N=function(){this.g.l=null,delete this.j,ft(this.g),delete this.g,sr.aa.N.call(this)};function eu(g){Wr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var D=g.__sm__;if(D){e:{for(const k in D){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,D=D!==null&&g in D?D[g]:void 0),this.data=D}else this.data=g}P(eu,Wr);function Fo(){jr.call(this),this.status=1}P(Fo,jr);function zn(g){this.g=g}P(zn,ha),zn.prototype.ua=function(){cn(this.g,"a")},zn.prototype.ta=function(g){cn(this.g,new eu(g))},zn.prototype.sa=function(g){cn(this.g,new Fo)},zn.prototype.ra=function(){cn(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,qw=function(){return new Js},Hw=function(){return Qi()},$w=Lr,B_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,mv=it,Rt.COMPLETE="complete",Bw=Rt,dn.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",It.prototype.listen=It.prototype.K,Kh=dn,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha,Fw=mn}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});const S2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new zw("@firebase/firestore");function _d(){return Ll.logLevel}function v7(r){Ll.setLogLevel(r)}function Re(r,...e){if(Ll.logLevel<=un.DEBUG){const t=e.map(NN);Ll.debug(`Firestore (${Xd}): ${r}`,...t)}}function zr(r,...e){if(Ll.logLevel<=un.ERROR){const t=e.map(NN);Ll.error(`Firestore (${Xd}): ${r}`,...t)}}function co(r,...e){if(Ll.logLevel<=un.WARN){const t=e.map(NN);Ll.warn(`Firestore (${Xd}): ${r}`,...t)}}function NN(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(r="Unexpected state"){const e=`FIRESTORE (${Xd}) INTERNAL ASSERTION FAILED: `+r;throw zr(e),new Error(e)}function tt(r,e){r||Qe()}function b7(r,e){r||Qe()}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Jd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}}class Y3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class J3{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0);let s=this.i;const o=v=>this.i!==s?(s=this.i,t(v)):Promise.resolve();let u=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new bi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const v=u;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},p=v=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new bi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string"),new Gw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new vi(e)}}class X3{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eF{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new X3(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ww{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){tt(this.o===void 0);const s=u=>{u.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string"),this.R=t.token,new Ww(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class y7{getToken(){return Promise.resolve(new Ww(""))}invalidateToken(){}start(e,t){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=nF(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function wt(r,e){return r<e?-1:r>e?1:0}function Ad(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}function Zw(r){return r+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new cr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new cr(0,0))}static max(){return new ot(new cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,s){t===void 0?t=0:t>e.length&&Qe(),s===void 0?s=e.length-t:s>e.length-t&&Qe(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return pf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pf?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),c=t.get(o);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends pf{construct(e,t,s){return new on(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new on(t)}static emptyPath(){return new on([])}}const rF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends pf{construct(e,t,s){return new ar(e,t,s)}static isValidIdentifier(e){return rF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ce(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ce(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(s+=p,o++):(u(),o++)}if(u(),c)throw new Ce(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(on.fromString(e))}static fromName(e){return new Me(on.fromString(e).popFirst(5))}static empty(){return new Me(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new on(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,s,o){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=o}}function $_(r){return r.fields.find(e=>e.kind===2)}function Mu(r){return r.fields.filter(e=>e.kind!==2)}function iF(r,e){let t=wt(r.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let s=0;s<Math.min(r.fields.length,e.fields.length);++s)if(t=sF(r.fields[s],e.fields[s]),t!==0)return t;return wt(r.fields.length,e.fields.length)}zd.UNKNOWN_ID=-1;class Wu{constructor(e,t){this.fieldPath=e,this.kind=t}}function sF(r,e){const t=ar.comparator(r.fieldPath,e.fieldPath);return t!==0?t:wt(r.kind,e.kind)}class Pd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pd(0,Gs.min())}}function Qw(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ot.fromTimestamp(s===1e9?new cr(t+1,0):new cr(t,s));return new Gs(o,Me.empty(),e)}function Yw(r){return new Gs(r.readTime,r.key,-1)}class Gs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Gs(ot.min(),Me.empty(),-1)}static max(){return new Gs(ot.max(),Me.empty(),-1)}}function TN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(r.documentKey,e.documentKey),t!==0?t:wt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==Jw)throw r;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,s)=>{t(e)})}static reject(e){return new se((t,s)=>{s(e)})}static waitFor(e){return new se((t,s)=>{let o=0,u=0,c=!1;e.forEach(p=>{++o,p.next(()=>{++u,c&&u===o&&t()},v=>s(v))}),c=!0,u===o&&t()})}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next(o=>o?se.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new se((s,o)=>{const u=e.length,c=new Array(u);let p=0;for(let v=0;v<u;v++){const x=v;t(e[x]).next(N=>{c[x]=N,++p,p===u&&s(c)},N=>o(N))}})}static doWhile(e,t){return new se((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new bi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ef(e,t.error)):this.V.resolve()},this.transaction.onerror=s=>{const o=EN(s.target.error);this.V.reject(new ef(e,o))}}static open(e,t,s,o){try{return new Qv(t,e.transaction(o,s))}catch(u){throw new ef(t,u)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new aF(t)}}class oa{constructor(e,t,s){this.name=e,this.version=t,this.p=s,oa.S(Vd())===12.2&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),Fu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!kw())return!1;if(oa.v())return!0;const e=Vd(),t=oa.S(e),s=0<t&&t<10,o=eS(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}async M(e){return this.db||(Re("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,s)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;t(c)},o.onblocked=()=>{s(new ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?s(new Ce(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?s(new Ce(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):s(new ef(e,c))},o.onupgradeneeded=u=>{Re("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.p.O(c,o.transaction,u.oldVersion,this.version).next(()=>{Re("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,s,o){const u=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.M(e);const p=Qv.open(this.db,e,u?"readonly":"readwrite",s),v=o(p).next(x=>(p.g(),x)).catch(x=>(p.abort(x),se.reject(x))).toPromise();return v.catch(()=>{}),await p.m,v}catch(p){const v=p,x=v.name!=="FirebaseError"&&c<3;if(Re("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),this.close(),!x)return Promise.reject(v)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class oF{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Fu(this.B.delete())}}class ef extends Ce{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ql(r){return r.name==="IndexedDbTransactionError"}class aF{constructor(e){this.store=e}put(e,t){let s;return t!==void 0?(Re("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Fu(s)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),Fu(this.store.add(e))}get(e){return Fu(this.store.get(e)).next(t=>(t===void 0&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),Fu(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),Fu(this.store.count())}U(e,t){const s=this.options(e,t),o=s.index?this.store.index(s.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(s.range);return new se((c,p)=>{u.onerror=v=>{p(v.target.error)},u.onsuccess=v=>{c(v.target.result)}})}{const u=this.cursor(s),c=[];return this.W(u,(p,v)=>{c.push(v)}).next(()=>c)}}G(e,t){const s=this.store.getAll(e,t===null?void 0:t);return new se((o,u)=>{s.onerror=c=>{u(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}j(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.H=!1;const o=this.cursor(s);return this.W(o,(u,c,p)=>p.delete())}J(e,t){let s;t?s=e:(s={},t=e);const o=this.cursor(s);return this.W(o,t)}Y(e){const t=this.cursor({});return new se((s,o)=>{t.onerror=u=>{const c=EN(u.target.error);o(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():s()}):s()}})}W(e,t){const s=[];return new se((o,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void o();const v=new oF(p),x=t(p.primaryKey,p.value,v);if(x instanceof se){const N=x.catch(E=>(v.done(),se.reject(E)));s.push(N)}v.isDone?o():v.K===null?p.continue():p.continue(v.K)}}).next(()=>se.waitFor(s))}options(e,t){let s;return e!==void 0&&(typeof e=="string"?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fu(r){return new se((e,t)=>{r.onsuccess=s=>{const o=s.target.result;e(o)},r.onerror=s=>{const o=EN(s.target.error);t(o)}})}let k2=!1;function EN(r){const e=oa.S(Vd());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k2||(k2=!0,setTimeout(()=>{throw s},0)),s}}return r}class lF{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Re("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Re("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){Ql(t)?Re("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await Zl(t)}await this.X(6e4)})}}class uF{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const s=new Set;let o=t,u=!0;return se.doWhile(()=>u===!0&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(c!==null&&!s.has(c))return Re("IndexBackfiller",`Processing collection: ${c}`),this.ne(e,c,o).next(p=>{o-=p,s.add(c)});u=!1})).next(()=>t-o)}ne(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,s).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.re(o,u)).next(p=>(Re("IndexBackfiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}re(e,t){let s=e;return t.changes.forEach((o,u)=>{const c=Yw(u);TN(c,s)>0&&(s=c)}),new Gs(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ss.oe=-1;function If(r){return r==null}function gf(r){return r===0&&1/r==-1/0}function tS(r){return typeof r=="number"&&Number.isInteger(r)&&!gf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=I2(e)),e=cF(r.get(t),e);return I2(e)}function cF(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case"":t+="";break;default:t+=u}}return t}function I2(r){return r+""}function ia(r){const e=r.length;if(tt(e>=2),e===2)return tt(r.charAt(0)===""&&r.charAt(1)===""),on.emptyPath();const t=e-2,s=[];let o="";for(let u=0;u<e;){const c=r.indexOf("",u);switch((c<0||c>t)&&Qe(),r.charAt(c+1)){case"":const p=r.substring(u,c);let v;o.length===0?v=p:(o+=p,v=o,o=""),s.push(v);break;case"":o+=r.substring(u,c),o+="\0";break;case"":o+=r.substring(u,c+1);break;default:Qe()}u=c+2}return new on(s)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r,e){return[r,Ki(e)]}function nS(r,e,t){return[r,Ki(e),t]}const dF={},mF=["prefixPath","collectionGroup","readTime","documentId"],hF=["prefixPath","collectionGroup","documentId"],fF=["collectionGroup","readTime","prefixPath","documentId"],pF=["canonicalId","targetId"],gF=["targetId","path"],vF=["path","targetId"],bF=["collectionId","parent"],yF=["indexId","uid"],xF=["uid","sequenceNumber"],_F=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NF=["indexId","uid","orderedDocumentKey"],TF=["userId","collectionPath","documentId"],EF=["userId","collectionPath","largestBatchId"],DF=["userId","collectionGroup","largestBatchId"],rS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RF=[...rS,"documentOverlays"],iS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sS=iS,DN=[...sS,"indexConfiguration","indexState","indexEntries"],CF=DN,wF=[...DN,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends Xw{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function ri(r,e){const t=je(r);return oa.F(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Yl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function oS(r,e){const t=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.push(e(r[s],s,r));return t}function aS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.comparator=e,this.root=t||zi.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iv(this.root,e,this.comparator,!1)}getReverseIterator(){return new iv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iv(this.root,e,this.comparator,!0)}}class iv{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zi{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??zi.RED,this.left=o??zi.EMPTY,this.right=u??zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new zi(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(e,t,s,o,u){return this}insert(e,t,s){return new zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z2(this.data.getIterator())}getIteratorFrom(e){return new z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gd(r){return r.hasNext()?r.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new ks([])}unionWith(e){let t=new Fn(ar.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ks(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ad(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lS("Invalid base64 string: "+u):u}}(e);return new Er(t)}static fromUint8Array(e){const t=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new Er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const SF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(r){if(tt(!!r),typeof r=="string"){let e=0;const t=SF.exec(r);if(tt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:or(r.seconds),nanos:or(r.nanos)}}function or(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fa(r){return typeof r=="string"?Er.fromBase64String(r):Er.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Jv(r){const e=r.mapValue.fields.__previous_value__;return Yv(e)?Jv(e):e}function vf(r){const e=Ma(r.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,t,s,o,u,c,p,v,x){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=x}}class Qu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fv={nullValue:"NULL_VALUE"};function Ml(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yv(r)?4:uS(r)?9007199254740991:Xv(r)?10:11:Qe()}function ua(r,e){if(r===e)return!0;const t=Ml(r);if(t!==Ml(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vf(r).isEqual(vf(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ma(o.timestampValue),p=Ma(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Fa(o.bytesValue).isEqual(Fa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return or(o.geoPointValue.latitude)===or(u.geoPointValue.latitude)&&or(o.geoPointValue.longitude)===or(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return or(o.integerValue)===or(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=or(o.doubleValue),p=or(u.doubleValue);return c===p?gf(c)===gf(p):isNaN(c)&&isNaN(p)}return!1}(r,e);case 9:return Ad(r.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:case 11:return function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(A2(c)!==A2(p))return!1;for(const v in c)if(c.hasOwnProperty(v)&&(p[v]===void 0||!ua(c[v],p[v])))return!1;return!0}(r,e);default:return Qe()}}function bf(r,e){return(r.values||[]).find(t=>ua(t,e))!==void 0}function Fl(r,e){if(r===e)return 0;const t=Ml(r),s=Ml(e);if(t!==s)return wt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,e.booleanValue);case 2:return function(u,c){const p=or(u.integerValue||u.doubleValue),v=or(c.integerValue||c.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(r,e);case 3:return P2(r.timestampValue,e.timestampValue);case 4:return P2(vf(r),vf(e));case 5:return wt(r.stringValue,e.stringValue);case 6:return function(u,c){const p=Fa(u),v=Fa(c);return p.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(u,c){const p=u.split("/"),v=c.split("/");for(let x=0;x<p.length&&x<v.length;x++){const N=wt(p[x],v[x]);if(N!==0)return N}return wt(p.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,c){const p=wt(or(u.latitude),or(c.latitude));return p!==0?p:wt(or(u.longitude),or(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return U2(r.arrayValue,e.arrayValue);case 10:return function(u,c){var p,v,x,N;const E=u.fields||{},R=c.fields||{},C=(p=E.value)===null||p===void 0?void 0:p.arrayValue,P=(v=R.value)===null||v===void 0?void 0:v.arrayValue,A=wt(((x=C==null?void 0:C.values)===null||x===void 0?void 0:x.length)||0,((N=P==null?void 0:P.values)===null||N===void 0?void 0:N.length)||0);return A!==0?A:U2(C,P)}(r.mapValue,e.mapValue);case 11:return function(u,c){if(u===Pl.mapValue&&c===Pl.mapValue)return 0;if(u===Pl.mapValue)return 1;if(c===Pl.mapValue)return-1;const p=u.fields||{},v=Object.keys(p),x=c.fields||{},N=Object.keys(x);v.sort(),N.sort();for(let E=0;E<v.length&&E<N.length;++E){const R=wt(v[E],N[E]);if(R!==0)return R;const C=Fl(p[v[E]],x[N[E]]);if(C!==0)return C}return wt(v.length,N.length)}(r.mapValue,e.mapValue);default:throw Qe()}}function P2(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return wt(r,e);const t=Ma(r),s=Ma(e),o=wt(t.seconds,s.seconds);return o!==0?o:wt(t.nanos,s.nanos)}function U2(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Fl(t[o],s[o]);if(u)return u}return wt(t.length,s.length)}function Ud(r){return q_(r)}function q_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ma(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Fa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Me.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=q_(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${q_(t.fields[c])}`;return o+"}"}(r.mapValue):Qe()}function pv(r){switch(Ml(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jv(r);return e?16+pv(e):16;case 5:return 2*r.stringValue.length;case 6:return Fa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+pv(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Yl(s.fields,(u,c)=>{o+=u.length+pv(c)}),o}(r.mapValue);default:throw Qe()}}function Yu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function G_(r){return!!r&&"integerValue"in r}function yf(r){return!!r&&"arrayValue"in r}function O2(r){return!!r&&"nullValue"in r}function j2(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gv(r){return!!r&&"mapValue"in r}function Xv(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function tf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yl(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=tf(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function uS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const cS={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function IF(r){return"nullValue"in r?fv:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Yu(Qu.empty(),Me.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Xv(r)?cS:{mapValue:{}}:Qe()}function VF(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Yu(Qu.empty(),Me.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?cS:"mapValue"in r?Xv(r)?{mapValue:{}}:Pl:Qe()}function L2(r,e){const t=Fl(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function M2(r,e){const t=Fl(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!gv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}setAll(e){let t=ar.emptyPath(),s={},o=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,s,o),s={},o=[],t=p.popLast()}c?s[p.lastSegment()]=tf(c):o.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());gv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];gv(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Yl(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Pi(tf(this.value))}}function dS(r){const e=[];return Yl(r.fields,(t,s)=>{const o=new ar([t]);if(gv(s)){const u=dS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)}),new ks(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t,s,o,u,c,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new rr(e,0,ot.min(),ot.min(),ot.min(),Pi.empty(),0)}static newFoundDocument(e,t,s,o){return new rr(e,1,t,ot.min(),s,o,0)}static newNoDocument(e,t){return new rr(e,2,t,ot.min(),ot.min(),Pi.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,ot.min(),ot.min(),Pi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){this.position=e,this.inclusive=t}}function F2(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?s=Me.comparator(Me.fromName(c.referenceValue),t.key):s=Fl(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function B2(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ua(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t="asc"){this.field=e,this.dir=t}}function AF(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{}class ln extends mS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new zF(e,t,s):t==="array-contains"?new OF(e,s):t==="in"?new bS(e,s):t==="not-in"?new jF(e,s):t==="array-contains-any"?new LF(e,s):new ln(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new PF(e,s):new UF(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fl(t,this.value)):t!==null&&Ml(this.value)===Ml(t)&&this.matchesComparison(Fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends mS{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Un(e,t)}matches(e){return Od(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Od(r){return r.op==="and"}function W_(r){return r.op==="or"}function RN(r){return hS(r)&&Od(r)}function hS(r){for(const e of r.filters)if(e instanceof Un)return!1;return!0}function K_(r){if(r instanceof ln)return r.field.canonicalString()+r.op.toString()+Ud(r.value);if(RN(r))return r.filters.map(e=>K_(e)).join(",");{const e=r.filters.map(t=>K_(t)).join(",");return`${r.op}(${e})`}}function fS(r,e){return r instanceof ln?function(s,o){return o instanceof ln&&s.op===o.op&&s.field.isEqual(o.field)&&ua(s.value,o.value)}(r,e):r instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,c,p)=>u&&fS(c,o.filters[p]),!0):!1}(r,e):void Qe()}function pS(r,e){const t=r.filters.concat(e);return Un.create(t,r.op)}function gS(r){return r instanceof ln?function(t){return`${t.field.canonicalString()} ${t.op} ${Ud(t.value)}`}(r):r instanceof Un?function(t){return t.op.toString()+" {"+t.getFilters().map(gS).join(" ,")+"}"}(r):"Filter"}class zF extends ln{constructor(e,t,s){super(e,t,s),this.key=Me.fromName(s.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class PF extends ln{constructor(e,t){super(e,"in",t),this.keys=vS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UF extends ln{constructor(e,t){super(e,"not-in",t),this.keys=vS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vS(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Me.fromName(s.referenceValue))}class OF extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yf(t)&&bf(t.arrayValue,this.value)}}class bS extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bf(this.value.arrayValue,t)}}class jF extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bf(this.value.arrayValue,t)}}class LF extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>bf(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t=null,s=[],o=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.ue=null}}function Z_(r,e=null,t=[],s=[],o=null,u=null,c=null){return new MF(r,e,t,s,o,u,c)}function Ju(r){const e=je(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>K_(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ud(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ud(s)).join(",")),e.ue=t}return e.ue}function Vf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!AF(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!fS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!B2(r.startAt,e.startAt)&&B2(r.endAt,e.endAt)}function wv(r){return Me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Sv(r,e){return r.filters.filter(t=>t instanceof ln&&t.field.isEqual(e))}function $2(r,e,t){let s=fv,o=!0;for(const u of Sv(r,e)){let c=fv,p=!0;switch(u.op){case"<":case"<=":c=IF(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=fv}L2({value:s,inclusive:o},{value:c,inclusive:p})<0&&(s=c,o=p)}if(t!==null){for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const c=t.position[u];L2({value:s,inclusive:o},{value:c,inclusive:t.inclusive})<0&&(s=c,o=t.inclusive);break}}return{value:s,inclusive:o}}function H2(r,e,t){let s=Pl,o=!0;for(const u of Sv(r,e)){let c=Pl,p=!0;switch(u.op){case">=":case">":c=VF(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=Pl}M2({value:s,inclusive:o},{value:c,inclusive:p})>0&&(s=c,o=p)}if(t!==null){for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const c=t.position[u];M2({value:s,inclusive:o},{value:c,inclusive:t.inclusive})>0&&(s=c,o=t.inclusive);break}}return{value:s,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t=null,s=[],o=[],u=null,c="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yS(r,e,t,s,o,u,c,p){return new Ba(r,e,t,s,o,u,c,p)}function em(r){return new Ba(r)}function q2(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CN(r){return r.collectionGroup!==null}function wd(r){const e=je(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new Fn(ar.comparator);return c.filters.forEach(v=>{v.getFlattenedFilters().forEach(x=>{x.isInequality()&&(p=p.add(x.field))})}),p})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new xf(u,s))}),t.has(ar.keyField().canonicalString())||e.ce.push(new xf(ar.keyField(),s))}return e.ce}function Zi(r){const e=je(r);return e.le||(e.le=_S(e,wd(r))),e.le}function xS(r){const e=je(r);return e.he||(e.he=_S(e,r.explicitOrderBy)),e.he}function _S(r,e){if(r.limitType==="F")return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xf(o.field,u)});const t=r.endAt?new Bl(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Bl(r.startAt.position,r.startAt.inclusive):null;return Z_(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Q_(r,e){const t=r.filters.concat([e]);return new Ba(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function kv(r,e,t){return new Ba(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Af(r,e){return Vf(Zi(r),Zi(e))&&r.limitType===e.limitType}function NS(r){return`${Ju(Zi(r))}|lt:${r.limitType}`}function Nd(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>gS(o)).join(", ")}]`),If(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Ud(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Ud(o)).join(",")),`Target(${s})`}(Zi(r))}; limitType=${r.limitType})`}function zf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of wd(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(c,p,v){const x=F2(c,p,v);return c.inclusive?x<=0:x<0}(s.startAt,wd(s),o)||s.endAt&&!function(c,p,v){const x=F2(c,p,v);return c.inclusive?x>=0:x>0}(s.endAt,wd(s),o))}(r,e)}function TS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ES(r){return(e,t)=>{let s=!1;for(const o of wd(r)){const u=FF(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function FF(r,e,t){const s=r.field.isKeyField()?Me.comparator(e.key,t.key):function(u,c,p){const v=c.data.field(u),x=p.data.field(u);return v!==null&&x!==null?Fl(v,x):Qe()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return aS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=new Yn(Me.comparator);function Is(){return BF}const DS=new Yn(Me.comparator);function Zh(...r){let e=DS;for(const t of r)e=e.insert(t.key,t);return e}function RS(r){let e=DS;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function sa(){return nf()}function CS(){return nf()}function nf(){return new $a(r=>r.toString(),(r,e)=>r.isEqual(e))}const $F=new Yn(Me.comparator),HF=new Fn(Me.comparator);function Ft(...r){let e=HF;for(const t of r)e=e.add(t);return e}const qF=new Fn(wt);function wN(){return qF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function wS(r){return{integerValue:""+r}}function SS(r,e){return tS(e)?wS(e):SN(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this._=void 0}}function GF(r,e,t){return r instanceof jd?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yv(u)&&(u=Jv(u)),u&&(c.fields.__previous_value__=u),{mapValue:c}}(t,e):r instanceof Xu?IS(r,e):r instanceof ec?VS(r,e):function(o,u){const c=kS(o,u),p=G2(c)+G2(o.Pe);return G_(c)&&G_(o.Pe)?wS(p):SN(o.serializer,p)}(r,e)}function WF(r,e,t){return r instanceof Xu?IS(r,e):r instanceof ec?VS(r,e):t}function kS(r,e){return r instanceof Ld?function(s){return G_(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class jd extends eb{}class Xu extends eb{constructor(e){super(),this.elements=e}}function IS(r,e){const t=AS(e);for(const s of r.elements)t.some(o=>ua(o,s))||t.push(s);return{arrayValue:{values:t}}}class ec extends eb{constructor(e){super(),this.elements=e}}function VS(r,e){let t=AS(e);for(const s of r.elements)t=t.filter(o=>!ua(o,s));return{arrayValue:{values:t}}}class Ld extends eb{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function G2(r){return or(r.integerValue||r.doubleValue)}function AS(r){return yf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.field=e,this.transform=t}}function KF(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Xu&&o instanceof Xu||s instanceof ec&&o instanceof ec?Ad(s.elements,o.elements,ua):s instanceof Ld&&o instanceof Ld?ua(s.Pe,o.Pe):s instanceof jd&&o instanceof jd}(r.transform,e.transform)}class ZF{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vv(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class tb{}function zS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new nm(r.key,lr.none()):new tm(r.key,r.data,lr.none());{const t=r.data,s=Pi.empty();let o=new Fn(ar.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Ha(r.key,s,new ks(o.toArray()),lr.none())}}function QF(r,e,t){r instanceof tm?function(o,u,c){const p=o.value.clone(),v=K2(o.fieldTransforms,u,c.transformResults);p.setAll(v),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Ha?function(o,u,c){if(!vv(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=K2(o.fieldTransforms,u,c.transformResults),v=u.data;v.setAll(PS(o)),v.setAll(p),u.convertToFoundDocument(c.version,v).setHasCommittedMutations()}(r,e,t):function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function rf(r,e,t,s){return r instanceof tm?function(u,c,p,v){if(!vv(u.precondition,c))return p;const x=u.value.clone(),N=Z2(u.fieldTransforms,v,c);return x.setAll(N),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ha?function(u,c,p,v){if(!vv(u.precondition,c))return p;const x=Z2(u.fieldTransforms,v,c),N=c.data;return N.setAll(PS(u)),N.setAll(x),c.convertToFoundDocument(c.version,N).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(r,e,t,s):function(u,c,p){return vv(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p}(r,e,t)}function YF(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=kS(s.transform,o||null);u!=null&&(t===null&&(t=Pi.empty()),t.set(s.field,u))}return t||null}function W2(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ad(s,o,(u,c)=>KF(u,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tm extends tb{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ha extends tb{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function K2(r,e,t){const s=new Map;tt(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],c=u.transform,p=e.data.field(u.field);s.set(u.field,WF(c,p,t[o]))}return s}function Z2(r,e,t){const s=new Map;for(const o of r){const u=o.transform,c=t.data.field(o.field);s.set(o.field,GF(u,c,e))}return s}class nm extends tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kN extends tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QF(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=rf(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=rf(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=CS();return this.mutations.forEach(o=>{const u=e.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(o.key)?null:p;const v=zS(c,p);v!==null&&s.set(o.key,v),c.isValidDocument()||c.convertToNoDocument(ot.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ft())}isEqual(e){return this.batchId===e.batchId&&Ad(this.mutations,e.mutations,(t,s)=>W2(t,s))&&Ad(this.baseMutations,e.baseMutations,(t,s)=>W2(t,s))}}class VN{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){tt(e.mutations.length===s.length);let o=function(){return $F}();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new VN(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr,gn;function OS(r){switch(r){default:return Qe();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function jS(r){if(r===void 0)return zr("GRPC error has no .code"),fe.UNKNOWN;switch(r){case qr.OK:return fe.OK;case qr.CANCELLED:return fe.CANCELLED;case qr.UNKNOWN:return fe.UNKNOWN;case qr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qr.INTERNAL:return fe.INTERNAL;case qr.UNAVAILABLE:return fe.UNAVAILABLE;case qr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qr.NOT_FOUND:return fe.NOT_FOUND;case qr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qr.ABORTED:return fe.ABORTED;case qr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qr.DATA_LOSS:return fe.DATA_LOSS;default:return Qe()}}(gn=qr||(qr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new Gu([4294967295,4294967295],0);function Q2(r){const e=LS().encode(r),t=new Mw;return t.update(e),new Uint8Array(t.digest())}function Y2(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gu([t,s],0),new Gu([o,u],0)]}class zN{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Qh(`Invalid padding: ${t}`);if(s<0)throw new Qh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qh(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Qh(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Gu.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(Gu.fromNumber(s)));return o.compare(XF)===1&&(o=new Gu([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Q2(e),[s,o]=Y2(t);for(let u=0;u<this.hashCount;u++){const c=this.Ee(s,o,u);if(!this.de(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new zN(u,o,t);return s.forEach(p=>c.insert(p)),c}insert(e){if(this.Ie===0)return;const t=Q2(e),[s,o]=Y2(t);for(let u=0;u<this.hashCount;u++){const c=this.Ee(s,o,u);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Qh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Uf(ot.min(),o,new Yn(wt),Is(),Ft())}}class Of{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Of(s,t,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class MS{constructor(e,t){this.targetId=e,this.me=t}}class FS{constructor(e,t,s=Er.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class J2{constructor(){this.fe=0,this.ge=eC(),this.pe=Er.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ft(),t=Ft(),s=Ft();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Qe()}}),new Of(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=eC()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class e4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Is(),this.qe=X2(),this.Qe=new Yn(wt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(wv(u))if(s===0){const c=new Me(u.path);this.Ue(t,c,rr.newNoDocument(c,ot.min()))}else tt(s===1);else{const c=this.Ye(t);if(c!==s){const p=this.Ze(e),v=p?this.Xe(p,e,c):1;if(v!==0){this.je(t);const x=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,x)}Iv==null||Iv.et(function(N,E,R,C,P){var A,M,Y,J,ee,pe;const ye={localCacheCount:N,existenceFilterCount:E.count,databaseId:R.database,projectId:R.projectId},te=E.unchangedNames;return te&&(ye.bloomFilter={applied:P===0,hashCount:(A=te==null?void 0:te.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(J=(Y=(M=te==null?void 0:te.bits)===null||M===void 0?void 0:M.bitmap)===null||Y===void 0?void 0:Y.length)!==null&&J!==void 0?J:0,padding:(pe=(ee=te==null?void 0:te.bits)===null||ee===void 0?void 0:ee.padding)!==null&&pe!==void 0?pe:0,mightContain:F=>{var $;return($=C==null?void 0:C.mightContain(F))!==null&&$!==void 0&&$}}),ye}(c,e.me,this.Le.tt(),p,v))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,p;try{c=Fa(s).toUint8Array()}catch(v){if(v instanceof lS)return co("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new zN(c,o,u)}catch(v){return co(v instanceof Qh?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.Ie===0?null:p}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const c=this.Le.tt(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Ue(t,u,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((u,c)=>{const p=this.Je(c);if(p){if(u.current&&wv(p.target)){const v=new Me(p.target.path);this.ke.get(v)!==null||this.it(c,v)||this.Ue(c,v,rr.newNoDocument(v,e))}u.be&&(t.set(c,u.ve()),u.Ce())}});let s=Ft();this.qe.forEach((u,c)=>{let p=!0;c.forEachWhile(v=>{const x=this.Je(v);return!x||x.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.ke.forEach((u,c)=>c.setReadTime(e));const o=new Uf(e,t,this.Qe,this.ke,s);return this.ke=Is(),this.qe=X2(),this.Qe=new Yn(wt),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new J2,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Fn(wt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function X2(){return new Yn(Me.comparator)}function eC(){return new Yn(Me.comparator)}const t4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),n4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),r4=(()=>({and:"AND",or:"OR"}))();class i4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Y_(r,e){return r.useProto3Json||If(e)?e:{value:e}}function Md(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function s4(r,e){return Md(r,e.toTimestamp())}function Pr(r){return tt(!!r),ot.fromTimestamp(function(t){const s=Ma(t);return new cr(s.seconds,s.nanos)}(r))}function PN(r,e){return J_(r,e).canonicalString()}function J_(r,e){const t=function(o){return new on(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function $S(r){const e=on.fromString(r);return tt(XS(e)),e}function _f(r,e){return PN(r.databaseId,e.path)}function aa(r,e){const t=$S(e);if(t.get(1)!==r.databaseId.projectId)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Me(GS(t))}function HS(r,e){return PN(r.databaseId,e)}function qS(r){const e=$S(r);return e.length===4?on.emptyPath():GS(e)}function X_(r){return new on(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GS(r){return tt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function tC(r,e,t){return{name:_f(r,e),fields:t.value.mapValue.fields}}function WS(r,e,t){const s=aa(r,e.name),o=Pr(e.updateTime),u=e.createTime?Pr(e.createTime):ot.min(),c=new Pi({mapValue:{fields:e.fields}}),p=rr.newFoundDocument(s,o,u,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function o4(r,e){return"found"in e?function(s,o){tt(!!o.found),o.found.name,o.found.updateTime;const u=aa(s,o.found.name),c=Pr(o.found.updateTime),p=o.found.createTime?Pr(o.found.createTime):ot.min(),v=new Pi({mapValue:{fields:o.found.fields}});return rr.newFoundDocument(u,c,p,v)}(r,e):"missing"in e?function(s,o){tt(!!o.missing),tt(!!o.readTime);const u=aa(s,o.missing),c=Pr(o.readTime);return rr.newNoDocument(u,c)}(r,e):Qe()}function a4(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(x,N){return x.useProto3Json?(tt(N===void 0||typeof N=="string"),Er.fromBase64String(N||"")):(tt(N===void 0||N instanceof Buffer||N instanceof Uint8Array),Er.fromUint8Array(N||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(x){const N=x.code===void 0?fe.UNKNOWN:jS(x.code);return new Ce(N,x.message||"")}(c);t=new FS(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=aa(r,s.document.name),u=Pr(s.document.updateTime),c=s.document.createTime?Pr(s.document.createTime):ot.min(),p=new Pi({mapValue:{fields:s.document.fields}}),v=rr.newFoundDocument(o,u,c,p),x=s.targetIds||[],N=s.removedTargetIds||[];t=new bv(x,N,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=aa(r,s.document),u=s.readTime?Pr(s.readTime):ot.min(),c=rr.newNoDocument(o,u),p=s.removedTargetIds||[];t=new bv([],p,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=aa(r,s.document),u=s.removedTargetIds||[];t=new bv([],u,o,null)}else{if(!("filter"in e))return Qe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new JF(o,u),p=s.targetId;t=new MS(p,c)}}return t}function Nf(r,e){let t;if(e instanceof tm)t={update:tC(r,e.key,e.value)};else if(e instanceof nm)t={delete:_f(r,e.key)};else if(e instanceof Ha)t={update:tC(r,e.key,e.data),updateMask:h4(e.fieldMask)};else{if(!(e instanceof kN))return Qe();t={verify:_f(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,c){const p=c.transform;if(p instanceof jd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ld)return{fieldPath:c.field.canonicalString(),increment:p.Pe};throw Qe()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:s4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Qe()}(r,e.precondition)),t}function eN(r,e){const t=e.currentDocument?function(u){return u.updateTime!==void 0?lr.updateTime(Pr(u.updateTime)):u.exists!==void 0?lr.exists(u.exists):lr.none()}(e.currentDocument):lr.none(),s=e.updateTransforms?e.updateTransforms.map(o=>function(c,p){let v=null;if("setToServerValue"in p)tt(p.setToServerValue==="REQUEST_TIME"),v=new jd;else if("appendMissingElements"in p){const N=p.appendMissingElements.values||[];v=new Xu(N)}else if("removeAllFromArray"in p){const N=p.removeAllFromArray.values||[];v=new ec(N)}else"increment"in p?v=new Ld(c,p.increment):Qe();const x=ar.fromServerFormat(p.fieldPath);return new Pf(x,v)}(r,o)):[];if(e.update){e.update.name;const o=aa(r,e.update.name),u=new Pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=function(v){const x=v.fieldPaths||[];return new ks(x.map(N=>ar.fromServerFormat(N)))}(e.updateMask);return new Ha(o,u,c,t,s)}return new tm(o,u,t,s)}if(e.delete){const o=aa(r,e.delete);return new nm(o,t)}if(e.verify){const o=aa(r,e.verify);return new kN(o,t)}return Qe()}function l4(r,e){return r&&r.length>0?(tt(e!==void 0),r.map(t=>function(o,u){let c=o.updateTime?Pr(o.updateTime):Pr(u);return c.isEqual(ot.min())&&(c=Pr(u)),new ZF(c,o.transformResults||[])}(t,e))):[]}function KS(r,e){return{documents:[HS(r,e.path)]}}function nb(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=HS(r,o);const u=function(x){if(x.length!==0)return JS(Un.create(x,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const c=function(x){if(x.length!==0)return x.map(N=>function(R){return{field:Il(R.field),direction:c4(R.dir)}}(N))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=Y_(r,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(x){return{before:x.inclusive,values:x.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(x){return{before:!x.inclusive,values:x.position}}(e.endAt)),{_t:t,parent:o}}function ZS(r,e,t,s){const{_t:o,parent:u}=nb(r,e),c={},p=[];let v=0;return t.forEach(x=>{const N=s?x.alias:"aggregate_"+v++;c[N]=x.alias,x.aggregateType==="count"?p.push({alias:N,count:{}}):x.aggregateType==="avg"?p.push({alias:N,avg:{field:Il(x.fieldPath)}}):x.aggregateType==="sum"&&p.push({alias:N,sum:{field:Il(x.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:o.structuredQuery},parent:o.parent},ut:c,parent:u}}function QS(r){let e=qS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){tt(s===1);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let u=[];t.where&&(u=function(E){const R=YS(E);return R instanceof Un&&RN(R)?R.getFilters():[R]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(R=>function(P){return new xf(Td(P.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(R))}(t.orderBy));let p=null;t.limit&&(p=function(E){let R;return R=typeof E=="object"?E.value:E,If(R)?null:R}(t.limit));let v=null;t.startAt&&(v=function(E){const R=!!E.before,C=E.values||[];return new Bl(C,R)}(t.startAt));let x=null;return t.endAt&&(x=function(E){const R=!E.before,C=E.values||[];return new Bl(C,R)}(t.endAt)),yS(e,o,c,u,p,"F",v,x)}function u4(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Td(t.unaryFilter.field);return ln.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Td(t.unaryFilter.field);return ln.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Td(t.unaryFilter.field);return ln.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Td(t.unaryFilter.field);return ln.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}(r):r.fieldFilter!==void 0?function(t){return ln.create(Td(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Un.create(t.compositeFilter.filters.map(s=>YS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Qe()}}(t.compositeFilter.op))}(r):Qe()}function c4(r){return t4[r]}function d4(r){return n4[r]}function m4(r){return r4[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Td(r){return ar.fromServerFormat(r.fieldPath)}function JS(r){return r instanceof ln?function(t){if(t.op==="=="){if(j2(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(O2(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j2(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(O2(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:d4(t.op),value:t.value}}}(r):r instanceof Un?function(t){const s=t.getFilters().map(o=>JS(o));return s.length===1?s[0]:{compositeFilter:{op:m4(t.op),filters:s}}}(r):Qe()}function h4(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t,s,o,u=ot.min(),c=ot.min(),p=Er.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.ct=e}}function f4(r,e){let t;if(e.document)t=WS(r.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Me.fromSegments(e.noDocument.path),o=nc(e.noDocument.readTime);t=rr.newNoDocument(s,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qe();{const s=Me.fromSegments(e.unknownDocument.path),o=nc(e.unknownDocument.version);t=rr.newUnknownDocument(s,o)}}return e.readTime&&t.setReadTime(function(o){const u=new cr(o[0],o[1]);return ot.fromTimestamp(u)}(e.readTime)),t}function nC(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Vv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=function(u,c){return{name:_f(u,c.key),fields:c.data.value.mapValue.fields,updateTime:Md(u,c.version.toTimestamp()),createTime:Md(u,c.createTime.toTimestamp())}}(r.ct,e);else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:tc(e.version)};else{if(!e.isUnknownDocument())return Qe();s.unknownDocument={path:t.path.toArray(),version:tc(e.version)}}return s}function Vv(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function tc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nc(r){const e=new cr(r.seconds,r.nanoseconds);return ot.fromTimestamp(e)}function Bu(r,e){const t=(e.baseMutations||[]).map(u=>eN(r.ct,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];if(u+1<e.mutations.length&&e.mutations[u+1].transform!==void 0){const p=e.mutations[u+1];c.updateTransforms=p.transform.fieldTransforms,e.mutations.splice(u+1,1),++u}}const s=e.mutations.map(u=>eN(r.ct,u)),o=cr.fromMillis(e.localWriteTimeMs);return new IN(e.batchId,o,t,s)}function Yh(r){const e=nc(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?nc(r.lastLimboFreeSnapshotVersion):ot.min();let s;return s=function(u){return u.documents!==void 0}(r.query)?function(u){return tt(u.documents.length===1),Zi(em(qS(u.documents[0])))}(r.query):function(u){return Zi(QS(u))}(r.query),new Ua(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Er.fromBase64String(r.resumeToken))}function tk(r,e){const t=tc(e.snapshotVersion),s=tc(e.lastLimboFreeSnapshotVersion);let o;o=wv(e.target)?KS(r.ct,e.target):nb(r.ct,e.target)._t;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ju(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:o}}function UN(r){const e=QS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?kv(e,e.limit,"L"):e}function E_(r,e){return new AN(e.largestBatchId,eN(r.ct,e.overlayMutation))}function rC(r,e){const t=e.path.lastSegment();return[r,Ki(e.path.popLast()),t]}function iC(r,e,t,s){return{indexId:r,uid:e,sequenceNumber:t,readTime:tc(s.readTime),documentKey:Ki(s.documentKey.path),largestBatchId:s.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{getBundleMetadata(e,t){return sC(e).get(t).next(s=>{if(s)return function(u){return{id:u.bundleId,createTime:nc(u.createTime),version:u.version}}(s)})}saveBundleMetadata(e,t){return sC(e).put(function(o){return{bundleId:o.id,createTime:tc(Pr(o.createTime)),version:o.version}}(t))}getNamedQuery(e,t){return oC(e).get(t).next(s=>{if(s)return function(u){return{name:u.name,query:UN(u.bundledQuery),readTime:nc(u.readTime)}}(s)})}saveNamedQuery(e,t){return oC(e).put(function(o){return{name:o.name,readTime:tc(Pr(o.readTime)),bundledQuery:o.bundledQuery}}(t))}}function sC(r){return ri(r,"bundles")}function oC(r){return ri(r,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const s=t.uid||"";return new rb(e,s)}getOverlay(e,t){return Bh(e).get(rC(this.userId,t)).next(s=>s?E_(this.serializer,s):null)}getOverlays(e,t){const s=sa();return se.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){const o=[];return s.forEach((u,c)=>{const p=new AN(t,c);o.push(this.ht(e,p))}),se.waitFor(o)}removeOverlaysForBatchId(e,t,s){const o=new Set;t.forEach(c=>o.add(Ki(c.getCollectionPath())));const u=[];return o.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,s+1],!1,!0);u.push(Bh(e).j("collectionPathOverlayIndex",p))}),se.waitFor(u)}getOverlaysForCollection(e,t,s){const o=sa(),u=Ki(t),c=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Bh(e).U("collectionPathOverlayIndex",c).next(p=>{for(const v of p){const x=E_(this.serializer,v);o.set(x.getKey(),x)}return o})}getOverlaysForCollectionGroup(e,t,s,o){const u=sa();let c;const p=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bh(e).J({index:"collectionGroupOverlayIndex",range:p},(v,x,N)=>{const E=E_(this.serializer,x);u.size()<o||E.largestBatchId===c?(u.set(E.getKey(),E),c=E.largestBatchId):N.done()}).next(()=>u)}ht(e,t){return Bh(e).put(function(o,u,c){const[p,v,x]=rC(u,c.mutation.key);return{userId:u,collectionPath:v,documentId:x,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Nf(o.ct,c.mutation)}}(this.serializer,this.userId,t))}}function Bh(r){return ri(r,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{Pt(e){return ri(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const s=t==null?void 0:t.value;return s?Er.fromUint8Array(s):Er.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(or(e.integerValue));else if("doubleValue"in e){const s=or(e.doubleValue);isNaN(s)?this.dt(t,13):(this.dt(t,15),gf(s)?t.At(0):t.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(t,20),typeof s=="string"&&(s=Ma(s)),t.Rt(`${s.seconds||""}`),t.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Fa(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.dt(t,45),t.At(s.latitude||0),t.At(s.longitude||0)}else"mapValue"in e?uS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Xv(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Qe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const s=e.fields||{};this.dt(t,55);for(const o of Object.keys(s))this.Vt(o,t),this.Tt(s[o],t)}wt(e,t){var s,o;const u=e.fields||{};this.dt(t,53);const c="value",p=((o=(s=u[c].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.length)||0;this.dt(t,15),t.At(or(p)),this.Vt(c,t),this.Tt(u[c],t)}bt(e,t){const s=e.values||[];this.dt(t,50);for(const o of s)this.Tt(o,t)}yt(e,t){this.dt(t,37),Me.fromName(e).path.forEach(s=>{this.dt(t,60),this.Dt(s,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}$u.vt=new $u;function v4(r){if(r===0)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function aC(r){const e=64-function(s){let o=0;for(let u=0;u<8;++u){const c=v4(255&s[u]);if(o+=c,c!==8)break}return o}(r);return Math.ceil(e/8)}class b4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ft(s.value),s=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ot(s.value),s=t.next();this.Nt()}Lt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const o=t.codePointAt(0);this.Ft(240|o>>>18),this.Ft(128|63&o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o)}}this.Mt()}Bt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const o=t.codePointAt(0);this.Ot(240|o>>>18),this.Ot(128|63&o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o)}}this.Nt()}kt(e){const t=this.qt(e),s=aC(t);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let o=t.length-s;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Kt(e){const t=this.qt(e),s=aC(t);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let o=t.length-s;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)}(e),s=(128&t[0])!=0;t[0]^=s?255:128;for(let o=1;o<t.length;++o)t[o]^=s?255:0;return t}Ft(e){const t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const o=new Uint8Array(s);o.set(this.buffer),this.buffer=o}}class y4{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class x4{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class $h{constructor(){this.jt=new b4,this.Ht=new y4(this.jt),this.Jt=new x4(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t,s,o){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=o}Zt(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Hu(this.indexId,this.documentKey,this.arrayValue,s)}}function wl(r,e){let t=r.indexId-e.indexId;return t!==0?t:(t=lC(r.arrayValue,e.arrayValue),t!==0?t:(t=lC(r.directionalValue,e.directionalValue),t!==0?t:Me.comparator(r.documentKey,e.documentKey)))}function lC(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(s!==0)return s}return r.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.Xt=new Fn((t,s)=>ar.comparator(t.field,s.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const s=t;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(e){if(tt(e.collectionGroup===this.collectionId),this.nn)return!1;const t=$_(e);if(t!==void 0&&!this.sn(t))return!1;const s=Mu(e);let o=new Set,u=0,c=0;for(;u<s.length&&this.sn(s[u]);++u)o=o.add(s[u].fieldPath.canonicalString());if(u===s.length)return!0;if(this.Xt.size>0){const p=this.Xt.getIterator().getNext();if(!o.has(p.field.canonicalString())){const v=s[u];if(!this.on(p,v)||!this._n(this.en[c++],v))return!1}++u}for(;u<s.length;++u){const p=s[u];if(c>=this.en.length||!this._n(this.en[c++],p))return!1}return!0}an(){if(this.nn)return null;let e=new Fn(ar.comparator);const t=[];for(const s of this.tn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")t.push(new Wu(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),t.push(new Wu(s.field,0))}for(const s of this.en)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),t.push(new Wu(s.field,s.dir==="asc"?0:1)));return new zd(zd.UNKNOWN_ID,this.collectionId,t,Pd.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===s}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(r){var e,t;if(tt(r instanceof ln||r instanceof Un),r instanceof ln){if(r instanceof bS){const o=((t=(e=r.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(u=>ln.create(r.field,"==",u)))||[];return Un.create(o,"or")}return r}const s=r.filters.map(o=>nk(o));return Un.create(s,r.op)}function _4(r){if(r.getFilters().length===0)return[];const e=rN(nk(r));return tt(rk(e)),tN(e)||nN(e)?[e]:e.getFilters()}function tN(r){return r instanceof ln}function nN(r){return r instanceof Un&&RN(r)}function rk(r){return tN(r)||nN(r)||function(t){if(t instanceof Un&&W_(t)){for(const s of t.getFilters())if(!tN(s)&&!nN(s))return!1;return!0}return!1}(r)}function rN(r){if(tt(r instanceof ln||r instanceof Un),r instanceof ln)return r;if(r.filters.length===1)return rN(r.filters[0]);const e=r.filters.map(s=>rN(s));let t=Un.create(e,r.op);return t=Av(t),rk(t)?t:(tt(t instanceof Un),tt(Od(t)),tt(t.filters.length>1),t.filters.reduce((s,o)=>ON(s,o)))}function ON(r,e){let t;return tt(r instanceof ln||r instanceof Un),tt(e instanceof ln||e instanceof Un),t=r instanceof ln?e instanceof ln?function(o,u){return Un.create([o,u],"and")}(r,e):cC(r,e):e instanceof ln?cC(e,r):function(o,u){if(tt(o.filters.length>0&&u.filters.length>0),Od(o)&&Od(u))return pS(o,u.getFilters());const c=W_(o)?o:u,p=W_(o)?u:o,v=c.filters.map(x=>ON(x,p));return Un.create(v,"or")}(r,e),Av(t)}function cC(r,e){if(Od(e))return pS(e,r.getFilters());{const t=e.filters.map(s=>ON(r,s));return Un.create(t,"or")}}function Av(r){if(tt(r instanceof ln||r instanceof Un),r instanceof ln)return r;const e=r.getFilters();if(e.length===1)return Av(e[0]);if(hS(r))return r;const t=e.map(o=>Av(o)),s=[];return t.forEach(o=>{o instanceof ln?s.push(o):o instanceof Un&&(o.op===r.op?s.push(...o.filters):s.push(o))}),s.length===1?s[0]:Un.create(s,r.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.un=new jN}addToCollectionParentIndex(e,t){return this.un.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Gs.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class jN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Fn(on.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Fn(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Uint8Array(0);class T4{constructor(e,t){this.databaseId=t,this.cn=new jN,this.ln=new $a(s=>Ju(s),(s,o)=>Vf(s,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const s=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const u={collectionId:s,parent:Ki(o)};return dC(e).put(u)}return se.resolve()}getCollectionParents(e,t){const s=[],o=IDBKeyRange.bound([t,""],[Zw(t),""],!1,!0);return dC(e).U(o).next(u=>{for(const c of u){if(c.collectionId!==t)break;s.push(ia(c.parent))}return s})}addFieldIndex(e,t){const s=Hh(e),o=function(p){return{indexId:p.indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])}}(t);delete o.indexId;const u=s.add(o);if(t.indexState){const c=bd(e);return u.next(p=>{c.put(iC(p,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const s=Hh(e),o=bd(e),u=vd(e);return s.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Hh(e),s=vd(e),o=bd(e);return t.j().next(()=>s.j()).next(()=>o.j())}createTargetIndexes(e,t){return se.forEach(this.hn(t),s=>this.getIndexType(e,s).next(o=>{if(o===0||o===1){const u=new uC(s).an();if(u!=null)return this.addFieldIndex(e,u)}}))}getDocumentsMatchingTarget(e,t){const s=vd(e);let o=!0;const u=new Map;return se.forEach(this.hn(t),c=>this.Pn(e,c).next(p=>{o&&(o=!!p),u.set(c,p)})).next(()=>{if(o){let c=Ft();const p=[];return se.forEach(u,(v,x)=>{Re("IndexedDbIndexManager",`Using index ${function(ee){return`id=${ee.indexId}|cg=${ee.collectionGroup}|f=${ee.fields.map(pe=>`${pe.fieldPath}:${pe.kind}`).join(",")}`}(v)} to execute ${Ju(t)}`);const N=function(ee,pe){const ye=$_(pe);if(ye===void 0)return null;for(const te of Sv(ee,ye.fieldPath))switch(te.op){case"array-contains-any":return te.value.arrayValue.values||[];case"array-contains":return[te.value]}return null}(x,v),E=function(ee,pe){const ye=new Map;for(const te of Mu(pe))for(const F of Sv(ee,te.fieldPath))switch(F.op){case"==":case"in":ye.set(te.fieldPath.canonicalString(),F.value);break;case"not-in":case"!=":return ye.set(te.fieldPath.canonicalString(),F.value),Array.from(ye.values())}return null}(x,v),R=function(ee,pe){const ye=[];let te=!0;for(const F of Mu(pe)){const $=F.kind===0?$2(ee,F.fieldPath,ee.startAt):H2(ee,F.fieldPath,ee.startAt);ye.push($.value),te&&(te=$.inclusive)}return new Bl(ye,te)}(x,v),C=function(ee,pe){const ye=[];let te=!0;for(const F of Mu(pe)){const $=F.kind===0?H2(ee,F.fieldPath,ee.endAt):$2(ee,F.fieldPath,ee.endAt);ye.push($.value),te&&(te=$.inclusive)}return new Bl(ye,te)}(x,v),P=this.In(v,x,R),A=this.In(v,x,C),M=this.Tn(v,x,E),Y=this.En(v.indexId,N,P,R.inclusive,A,C.inclusive,M);return se.forEach(Y,J=>s.G(J,t.limit).next(ee=>{ee.forEach(pe=>{const ye=Me.fromSegments(pe.documentKey);c.has(ye)||(c=c.add(ye),p.push(ye))})}))}).next(()=>p)}return se.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=_4(Un.create(e.filters,"and")).map(s=>Z_(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,s,o,u,c,p){const v=(t!=null?t.length:1)*Math.max(s.length,u.length),x=v/(t!=null?t.length:1),N=[];for(let E=0;E<v;++E){const R=t?this.dn(t[E/x]):sv,C=this.An(e,R,s[E%x],o),P=this.Rn(e,R,u[E%x],c),A=p.map(M=>this.An(e,R,M,!0));N.push(...this.createRange(C,P,A))}return N}An(e,t,s,o){const u=new Hu(e,Me.empty(),t,s);return o?u:u.Zt()}Rn(e,t,s,o){const u=new Hu(e,Me.empty(),t,s);return o?u.Zt():u}Pn(e,t){const s=new uC(t),o=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let c=null;for(const p of u)s.rn(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let s=2;const o=this.hn(t);return se.forEach(o,u=>this.Pn(e,u).next(c=>{c?s!==0&&c.fields.length<function(v){let x=new Fn(ar.comparator),N=!1;for(const E of v.filters)for(const R of E.getFlattenedFilters())R.field.isKeyField()||(R.op==="array-contains"||R.op==="array-contains-any"?N=!0:x=x.add(R.field));for(const E of v.orderBy)E.field.isKeyField()||(x=x.add(E.field));return x.size+(N?1:0)}(u)&&(s=1):s=0})).next(()=>function(c){return c.limit!==null}(t)&&o.length>1&&s===2?1:s)}Vn(e,t){const s=new $h;for(const o of Mu(e)){const u=t.data.field(o.fieldPath);if(u==null)return null;const c=s.Yt(o.kind);$u.vt.It(u,c)}return s.zt()}dn(e){const t=new $h;return $u.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const s=new $h;return $u.vt.It(Yu(this.databaseId,t),s.Yt(function(u){const c=Mu(u);return c.length===0?0:c[c.length-1].kind}(e))),s.zt()}Tn(e,t,s){if(s===null)return[];let o=[];o.push(new $h);let u=0;for(const c of Mu(e)){const p=s[u++];for(const v of o)if(this.fn(t,c.fieldPath)&&yf(p))o=this.gn(o,c,p);else{const x=v.Yt(c.kind);$u.vt.It(p,x)}}return this.pn(o)}In(e,t,s){return this.Tn(e,t,s.position)}pn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].zt();return t}gn(e,t,s){const o=[...e],u=[];for(const c of s.arrayValue.values||[])for(const p of o){const v=new $h;v.seed(p.zt()),$u.vt.It(c,v.Yt(t.kind)),u.push(v)}return u}fn(e,t){return!!e.filters.find(s=>s instanceof ln&&s.field.isEqual(t)&&(s.op==="in"||s.op==="not-in"))}getFieldIndexes(e,t){const s=Hh(e),o=bd(e);return(t?s.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.U()).next(u=>{const c=[];return se.forEach(u,p=>o.get([p.indexId,this.uid]).next(v=>{c.push(function(N,E){const R=E?new Pd(E.sequenceNumber,new Gs(nc(E.readTime),new Me(ia(E.documentKey)),E.largestBatchId)):Pd.empty(),C=N.fields.map(([P,A])=>new Wu(ar.fromServerFormat(P),A));return new zd(N.indexId,N.collectionGroup,C,R)}(p,v))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((s,o)=>{const u=s.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:wt(s.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const o=Hh(e),u=bd(e);return this.yn(e).next(c=>o.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>se.forEach(p,v=>u.put(iC(v.indexId,this.uid,c,s)))))}updateIndexEntries(e,t){const s=new Map;return se.forEach(t,(o,u)=>{const c=s.get(o.collectionGroup);return(c?se.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next(p=>(s.set(o.collectionGroup,p),se.forEach(p,v=>this.wn(e,o,v).next(x=>{const N=this.Sn(u,v);return x.isEqual(N)?se.resolve():this.bn(e,u,v,x,N)}))))})}Dn(e,t,s,o){return vd(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.mn(s,t.key),documentKey:t.key.path.toArray()})}vn(e,t,s,o){return vd(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.mn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const o=vd(e);let u=new Fn(wl);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,t)])},(c,p)=>{u=u.add(new Hu(s.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}Sn(e,t){let s=new Fn(wl);const o=this.Vn(t,e);if(o==null)return s;const u=$_(t);if(u!=null){const c=e.data.field(u.fieldPath);if(yf(c))for(const p of c.arrayValue.values||[])s=s.add(new Hu(t.indexId,e.key,this.dn(p),o))}else s=s.add(new Hu(t.indexId,e.key,sv,o));return s}bn(e,t,s,o,u){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(v,x,N,E,R){const C=v.getIterator(),P=x.getIterator();let A=gd(C),M=gd(P);for(;A||M;){let Y=!1,J=!1;if(A&&M){const ee=N(A,M);ee<0?J=!0:ee>0&&(Y=!0)}else A!=null?J=!0:Y=!0;Y?(E(M),M=gd(P)):J?(R(A),A=gd(C)):(A=gd(C),M=gd(P))}}(o,u,wl,p=>{c.push(this.Dn(e,t,s,p))},p=>{c.push(this.vn(e,t,s,p))}),se.waitFor(c)}yn(e){let t=1;return bd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((c,p)=>wl(c,p)).filter((c,p,v)=>!p||wl(c,v[p-1])!==0);const o=[];o.push(e);for(const c of s){const p=wl(c,e),v=wl(c,t);if(p===0)o[0]=e.Zt();else if(p>0&&v<0)o.push(c),o.push(c.Zt());else if(v>0)break}o.push(t);const u=[];for(let c=0;c<o.length;c+=2){if(this.Cn(o[c],o[c+1]))return[];const p=[o[c].indexId,this.uid,o[c].arrayValue,o[c].directionalValue,sv,[]],v=[o[c+1].indexId,this.uid,o[c+1].arrayValue,o[c+1].directionalValue,sv,[]];u.push(IDBKeyRange.bound(p,v))}return u}Cn(e,t){return wl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mC)}getMinOffset(e,t){return se.mapArray(this.hn(t),s=>this.Pn(e,s).next(o=>o||Qe())).next(mC)}}function dC(r){return ri(r,"collectionParents")}function vd(r){return ri(r,"indexEntries")}function Hh(r){return ri(r,"indexConfiguration")}function bd(r){return ri(r,"indexState")}function mC(r){tt(r.length!==0);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const o=r[s].indexState.offset;TN(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Gs(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(r,e,t){const s=r.store("mutations"),o=r.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const v=s.J({range:c},(N,E,R)=>(p++,R.delete()));u.push(v.next(()=>{tt(p===1)}));const x=[];for(const N of t.mutations){const E=nS(e,N.key.path,t.batchId);u.push(o.delete(E)),x.push(N.key)}return se.waitFor(u).next(()=>x)}function zv(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Qe();e=r.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class ib{constructor(e,t,s,o){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=o,this.Fn={}}static lt(e,t,s,o){tt(e.uid!=="");const u=e.isAuthenticated()?e.uid:"";return new ib(u,t,s,o)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).J({index:"userMutationsIndex",range:s},(o,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,s,o){const u=Ed(e),c=Sl(e);return c.add({}).next(p=>{tt(typeof p=="number");const v=new IN(p,t,s,o),x=function(C,P,A){const M=A.baseMutations.map(J=>Nf(C.ct,J)),Y=A.mutations.map(J=>Nf(C.ct,J));return{userId:P,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:M,mutations:Y}}(this.serializer,this.userId,v),N=[];let E=new Fn((R,C)=>wt(R.canonicalString(),C.canonicalString()));for(const R of o){const C=nS(this.userId,R.key.path,p);E=E.add(R.key.path.popLast()),N.push(c.put(x)),N.push(u.put(C,dF))}return E.forEach(R=>{N.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.Fn[p]=v.keys()}),se.waitFor(N).next(()=>v)})}lookupMutationBatch(e,t){return Sl(e).get(t).next(s=>s?(tt(s.userId===this.userId),Bu(this.serializer,s)):null)}Mn(e,t){return this.Fn[t]?se.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const o=s.keys();return this.Fn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Sl(e).J({index:"userMutationsIndex",range:o},(c,p,v)=>{p.userId===this.userId&&(tt(p.batchId>=s),u=Bu(this.serializer,p)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Sl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,u,c)=>{s=u.batchId,c.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).U("userMutationsIndex",t).next(s=>s.map(o=>Bu(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=hv(this.userId,t.path),o=IDBKeyRange.lowerBound(s),u=[];return Ed(e).J({range:o},(c,p,v)=>{const[x,N,E]=c,R=ia(N);if(x===this.userId&&t.path.isEqual(R))return Sl(e).get(E).next(C=>{if(!C)throw Qe();tt(C.userId===this.userId),u.push(Bu(this.serializer,C))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fn(wt);const o=[];return t.forEach(u=>{const c=hv(this.userId,u.path),p=IDBKeyRange.lowerBound(c),v=Ed(e).J({range:p},(x,N,E)=>{const[R,C,P]=x,A=ia(C);R===this.userId&&u.path.isEqual(A)?s=s.add(P):E.done()});o.push(v)}),se.waitFor(o).next(()=>this.xn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1,u=hv(this.userId,s),c=IDBKeyRange.lowerBound(u);let p=new Fn(wt);return Ed(e).J({range:c},(v,x,N)=>{const[E,R,C]=v,P=ia(R);E===this.userId&&s.isPrefixOf(P)?P.length===o&&(p=p.add(C)):N.done()}).next(()=>this.xn(e,p))}xn(e,t){const s=[],o=[];return t.forEach(u=>{o.push(Sl(e).get(u).next(c=>{if(c===null)throw Qe();tt(c.userId===this.userId),s.push(Bu(this.serializer,c))}))}),se.waitFor(o).next(()=>s)}removeMutationBatch(e,t){return ik(e._e,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),se.forEach(s,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const s=IDBKeyRange.lowerBound(function(c){return[c]}(this.userId)),o=[];return Ed(e).J({range:s},(u,c,p)=>{if(u[0]===this.userId){const v=ia(u[1]);o.push(v)}else p.done()}).next(()=>{tt(o.length===0)})})}containsKey(e,t){return sk(e,this.userId,t)}Nn(e){return ok(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sk(r,e,t){const s=hv(e,t.path),o=s[1],u=IDBKeyRange.lowerBound(s);let c=!1;return Ed(r).J({range:u,H:!0},(p,v,x)=>{const[N,E,R]=p;N===e&&E===o&&(c=!0),x.done()}).next(()=>c)}function Sl(r){return ri(r,"mutations")}function Ed(r){return ri(r,"documentMutations")}function ok(r){return ri(r,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rc(0)}static kn(){return new rc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const s=new rc(t.highestTargetId);return t.highestTargetId=s.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>ot.fromTimestamp(new cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.qn(e).next(o=>(o.highestListenSequenceNumber=t,s&&(o.lastRemoteSnapshotVersion=s.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Qn(e,o)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(s=>(s.targetCount+=1,this.$n(t,s),this.Qn(e,s))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>yd(e).delete(t.targetId)).next(()=>this.qn(e)).next(s=>(tt(s.targetCount>0),s.targetCount-=1,this.Qn(e,s)))}removeTargets(e,t,s){let o=0;const u=[];return yd(e).J((c,p)=>{const v=Yh(p);v.sequenceNumber<=t&&s.get(v.targetId)===null&&(o++,u.push(this.removeTargetData(e,v)))}).next(()=>se.waitFor(u)).next(()=>o)}forEachTarget(e,t){return yd(e).J((s,o)=>{const u=Yh(o);t(u)})}qn(e){return fC(e).get("targetGlobalKey").next(t=>(tt(t!==null),t))}Qn(e,t){return fC(e).put("targetGlobalKey",t)}Kn(e,t){return yd(e).put(tk(this.serializer,t))}$n(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ju(t),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return yd(e).J({range:o,index:"queryTargetsIndex"},(c,p,v)=>{const x=Yh(p);Vf(t,x.target)&&(u=x,v.done())}).next(()=>u)}addMatchingKeys(e,t,s){const o=[],u=Vl(e);return t.forEach(c=>{const p=Ki(c.path);o.push(u.put({targetId:s,path:p})),o.push(this.referenceDelegate.addReference(e,s,c))}),se.waitFor(o)}removeMatchingKeys(e,t,s){const o=Vl(e);return se.forEach(t,u=>{const c=Ki(u.path);return se.waitFor([o.delete([s,c]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,t){const s=Vl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(o)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),o=Vl(e);let u=Ft();return o.J({range:s,H:!0},(c,p,v)=>{const x=ia(c[1]),N=new Me(x);u=u.add(N)}).next(()=>u)}containsKey(e,t){const s=Ki(t.path),o=IDBKeyRange.bound([s],[Zw(s)],!1,!0);let u=0;return Vl(e).J({index:"documentTargetsIndex",H:!0,range:o},([c,p],v,x)=>{c!==0&&(u++,x.done())}).next(()=>u>0)}ot(e,t){return yd(e).get(t).next(s=>s?Yh(s):null)}}function yd(r){return ri(r,"targets")}function fC(r){return ri(r,"targetGlobal")}function Vl(r){return ri(r,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC([r,e],[t,s]){const o=wt(r,t);return o===0?wt(e,s):o}class D4{constructor(e){this.Un=e,this.buffer=new Fn(pC),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();pC(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ak{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ql(t)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Zl(t)}await this.Hn(3e5)})}}class R4{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Ss.oe);const s=new D4(t);return this.Jn.forEachTarget(e,o=>s.zn(o.sequenceNumber)).next(()=>this.Jn.Zn(e,o=>s.zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(hC)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hC):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let s,o,u,c,p,v,x;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(s=E,p=Date.now(),this.removeTargets(e,s,t))).next(E=>(u=E,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(x=Date.now(),_d()<=un.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-N}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(v-p)+`ms
	Removed ${E} documents in `+(x-v)+`ms
Total Duration: ${x-N}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function lk(r,e){return new R4(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t){this.db=e,this.garbageCollector=lk(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}er(e){let t=0;return this.Zn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(s,o)=>t(o))}addReference(e,t,s){return ov(e,s)}removeReference(e,t,s){return ov(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return ov(e,t)}nr(e,t){return function(o,u){let c=!1;return ok(o).Y(p=>sk(o,p,u).next(v=>(v&&(c=!0),se.resolve(!v)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.tr(e,(c,p)=>{if(p<=t){const v=this.nr(e,c).next(x=>{if(!x)return u++,s.getEntry(e,c).next(()=>(s.removeEntry(c,ot.min()),Vl(e).delete(function(E){return[0,Ki(E.path)]}(c))))});o.push(v)}}).next(()=>se.waitFor(o)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return ov(e,t)}tr(e,t){const s=Vl(e);let o,u=Ss.oe;return s.J({index:"documentTargetsIndex"},([c,p],{path:v,sequenceNumber:x})=>{c===0?(u!==Ss.oe&&t(new Me(ia(o)),u),u=x,o=v):u=Ss.oe}).next(()=>{u!==Ss.oe&&t(new Me(ia(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ov(r,e){return Vl(r).put(function(s,o){return{targetId:0,path:Ki(s.path),sequenceNumber:o}}(e,r.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.changes=new $a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return ju(e).put(s)}removeEntry(e,t,s){return ju(e).delete(function(u,c){const p=u.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Vv(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.rr(e,s)))}getEntry(e,t){let s=rr.newInvalidDocument(t);return ju(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qh(t))},(o,u)=>{s=this.ir(t,u)}).next(()=>s)}sr(e,t){let s={size:0,document:rr.newInvalidDocument(t)};return ju(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qh(t))},(o,u)=>{s={document:this.ir(t,u),size:zv(u)}}).next(()=>s)}getEntries(e,t){let s=Is();return this._r(e,t,(o,u)=>{const c=this.ir(o,u);s=s.insert(o,c)}).next(()=>s)}ar(e,t){let s=Is(),o=new Yn(Me.comparator);return this._r(e,t,(u,c)=>{const p=this.ir(u,c);s=s.insert(u,p),o=o.insert(u,zv(c))}).next(()=>({documents:s,ur:o}))}_r(e,t,s){if(t.isEmpty())return se.resolve();let o=new Fn(bC);t.forEach(v=>o=o.add(v));const u=IDBKeyRange.bound(qh(o.first()),qh(o.last())),c=o.getIterator();let p=c.getNext();return ju(e).J({index:"documentKeyIndex",range:u},(v,x,N)=>{const E=Me.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;p&&bC(p,E)<0;)s(p,null),p=c.getNext();p&&p.isEqual(E)&&(s(p,x),p=c.hasNext()?c.getNext():null),p?N.$(qh(p)):N.done()}).next(()=>{for(;p;)s(p,null),p=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,s,o,u){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),Vv(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],v=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ju(e).U(IDBKeyRange.bound(p,v,!0)).next(x=>{u==null||u.incrementDocumentReadCount(x.length);let N=Is();for(const E of x){const R=this.ir(Me.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);R.isFoundDocument()&&(zf(t,R)||o.has(R.key))&&(N=N.insert(R.key,R))}return N})}getAllFromCollectionGroup(e,t,s,o){let u=Is();const c=vC(t,s),p=vC(t,Gs.max());return ju(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(v,x,N)=>{const E=this.ir(Me.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);u=u.insert(E.key,E),u.size===o&&N.done()}).next(()=>u)}newChangeBuffer(e){return new S4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gC(e).get("remoteDocumentGlobalKey").next(t=>(tt(!!t),t))}rr(e,t){return gC(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const s=f4(this.serializer,t);if(!(s.isNoDocument()&&s.version.isEqual(ot.min())))return s}return rr.newInvalidDocument(e)}}function ck(r){return new w4(r)}class S4 extends uk{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new $a(s=>s.toString(),(s,o)=>s.isEqual(o))}applyChanges(e){const t=[];let s=0,o=new Fn((u,c)=>wt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.lr.get(u);if(t.push(this.cr.removeEntry(e,u,p.readTime)),c.isValidDocument()){const v=nC(this.cr.serializer,c);o=o.add(u.path.popLast());const x=zv(v);s+=x-p.size,t.push(this.cr.addEntry(e,u,v))}else if(s-=p.size,this.trackRemovals){const v=nC(this.cr.serializer,c.convertToNoDocument(ot.min()));t.push(this.cr.addEntry(e,u,v))}}),o.forEach(u=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.cr.updateMetadata(e,s)),se.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(s=>(this.lr.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:s,ur:o})=>(o.forEach((u,c)=>{this.lr.set(u,{size:c,readTime:s.get(u).readTime})}),s))}}function gC(r){return ri(r,"remoteDocumentGlobal")}function ju(r){return ri(r,"remoteDocumentsV14")}function qh(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vC(r,e){const t=e.documentKey.path.toArray();return[r,Vv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bC(r,e){const t=r.path.toArray(),s=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<s.length-2;++u)if(o=wt(t[u],s[u]),o)return o;return o=wt(t.length,s.length),o||(o=wt(t[t.length-2],s[s.length-2]),o||wt(t[t.length-1],s[s.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&rf(s.mutation,o,ks.empty(),cr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ft()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ft()){const o=sa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let c=Zh();return u.forEach((p,v)=>{c=c.insert(p,v.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=sa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ft()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,s,o){let u=Is();const c=nf(),p=function(){return nf()}();return t.forEach((v,x)=>{const N=s.get(x.key);o.has(x.key)&&(N===void 0||N.mutation instanceof Ha)?u=u.insert(x.key,x):N!==void 0?(c.set(x.key,N.mutation.getFieldMask()),rf(N.mutation,x,N.mutation.getFieldMask(),cr.now())):c.set(x.key,ks.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((x,N)=>c.set(x,N)),t.forEach((x,N)=>{var E;return p.set(x,new k4(N,(E=c.get(x))!==null&&E!==void 0?E:null))}),p))}recalculateAndSaveOverlays(e,t){const s=nf();let o=new Yn((c,p)=>c-p),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(v=>{const x=t.get(v);if(x===null)return;let N=s.get(v)||ks.empty();N=p.applyToLocalView(x,N),s.set(v,N);const E=(o.get(p.batchId)||Ft()).add(v);o=o.insert(p.batchId,E)})}).next(()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),x=v.key,N=v.value,E=CS();N.forEach(R=>{if(!u.has(R)){const C=zS(t.get(R),s.get(R));C!==null&&E.set(R,C),u=u.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,x,E))}return se.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):se.resolve(sa());let p=-1,v=u;return c.next(x=>se.forEach(x,(N,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(N)?se.resolve():this.remoteDocumentCache.getEntry(e,N).next(R=>{v=v.insert(N,R)}))).next(()=>this.populateOverlays(e,x,u)).next(()=>this.computeViews(e,v,x,Ft())).next(N=>({batchId:p,changes:RS(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(s=>{let o=Zh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=Zh();return this.indexManager.getCollectionParents(e,u).next(p=>se.forEach(p,v=>{const x=function(E,R){return new Ba(R,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,x,s,o).next(N=>{N.forEach((E,R)=>{c=c.insert(E,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(c=>{u.forEach((v,x)=>{const N=x.getKey();c.get(N)===null&&(c=c.insert(N,rr.newInvalidDocument(N)))});let p=Zh();return c.forEach((v,x)=>{const N=u.get(v);N!==void 0&&rf(N.mutation,x,ks.empty(),cr.now()),zf(t,x)&&(p=p.insert(v,x))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return se.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:UN(o.bundledQuery),readTime:Pr(o.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.overlays=new Yn(Me.comparator),this.Ir=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=sa();return se.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.ht(e,t,u)}),se.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const o=sa(),u=t.length+1,c=new Me(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const v=p.getNext().value,x=v.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===u&&v.largestBatchId>s&&o.set(v.getKey(),v)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Yn((x,N)=>x-N);const c=this.overlays.getIterator();for(;c.hasNext();){const x=c.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let N=u.get(x.largestBatchId);N===null&&(N=sa(),u=u.insert(x.largestBatchId,N)),N.set(x.getKey(),x)}}const p=sa(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((x,N)=>p.set(x,N)),!(p.size()>=o)););return se.resolve(p)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new AN(t,s));let u=this.Ir.get(t);u===void 0&&(u=Ft(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Tr=new Fn(gi.Er),this.dr=new Fn(gi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new gi(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Vr(new gi(e,t))}mr(e,t){e.forEach(s=>this.removeReference(s,t))}gr(e){const t=new Me(new on([])),s=new gi(t,e),o=new gi(t,e+1),u=[];return this.dr.forEachInRange([s,o],c=>{this.Vr(c),u.push(c.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Me(new on([])),s=new gi(t,e),o=new gi(t,e+1);let u=Ft();return this.dr.forEachInRange([s,o],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new gi(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class gi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Me.comparator(e.key,t.key)||wt(e.wr,t.wr)}static Ar(e,t){return wt(e.wr,t.wr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Fn(gi.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new IN(u,t,s,o);this.mutationQueue.push(c);for(const p of o)this.br=this.br.add(new gi(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new gi(t,0),o=new gi(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],c=>{const p=this.Dr(c.wr);u.push(p)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fn(wt);return t.forEach(o=>{const u=new gi(o,0),c=new gi(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,c],p=>{s=s.add(p.wr)})}),se.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Me.isDocumentKey(u)||(u=u.child(""));const c=new gi(new Me(u),0);let p=new Fn(wt);return this.br.forEachWhile(v=>{const x=v.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(p=p.add(v.wr)),!0)},c),se.resolve(this.Cr(p))}Cr(e){const t=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){tt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return se.forEach(t.mutations,o=>{const u=new gi(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,t){const s=new gi(t,0),o=this.br.firstAfterOrEqual(s);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.Mr=e,this.docs=function(){return new Yn(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let s=Is();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rr.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Is();const c=t.path,p=new Me(c.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:x,value:{document:N}}=v.getNext();if(!c.isPrefixOf(x.path))break;x.path.length>c.length+1||TN(Yw(N),s)<=0||(o.has(N.key)||zf(t,N))&&(u=u.insert(N.key,N.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Qe()}Or(e,t){return se.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new U4(this)}getSize(e){return se.resolve(this.size)}}class U4 extends uk{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),se.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.persistence=e,this.Nr=new $a(t=>Ju(t),Vf),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new LN,this.targetCount=0,this.kr=rc.Bn()}forEachTarget(e,t){return this.Nr.forEach((s,o)=>t(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),se.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new rc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Kn(t),se.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach((c,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.Nr.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),se.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(c=>{u.push(o.markPotentiallyOrphaned(e,c))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ss(0),this.Kr=!1,this.Kr=!0,this.$r=new A4,this.referenceDelegate=e(this),this.Ur=new O4(this),this.indexManager=new N4,this.remoteDocumentCache=function(o){return new P4(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new ek(t),this.Gr=new I4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new z4(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){Re("MemoryPersistence","Starting transaction:",e);const o=new j4(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,t){return se.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,t)))}}class j4 extends Xw{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Jr=new LN,this.Yr=null}static Zr(e){return new sb(e)}get Xr(){if(this.Yr)return this.Yr;throw Qe()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),se.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,s=>{const o=Me.fromPath(s);return this.ei(e,o).next(u=>{u||t.removeEntry(o,ot.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return se.or([()=>se.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Pv{constructor(e,t){this.persistence=e,this.ti=new $a(s=>Ki(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=lk(this,t)}static Zr(e,t){return new Pv(e,t)}zr(){}jr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){const t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}er(e){let t=0;return this.Zn(e,s=>{t++}).next(()=>t)}Zn(e,t){return se.forEach(this.ti,(s,o)=>this.nr(e,s,o).next(u=>u?se.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Or(e,c=>this.nr(e,c,t).next(p=>{p||(s++,u.removeEntry(c,ot.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ti.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.ti.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),se.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pv(e.data.value)),t}nr(e,t,s){return se.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ti.get(t);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.serializer=e}O(e,t,s,o){const u=new Qv("createOrUpgrade",t);s<1&&o>=1&&(function(v){v.createObjectStore("owner")}(e),function(v){v.createObjectStore("mutationQueues",{keyPath:"userId"}),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V2,{unique:!0}),v.createObjectStore("documentMutations")}(e),yC(e),function(v){v.createObjectStore("remoteDocuments")}(e));let c=se.resolve();return s<3&&o>=3&&(s!==0&&(function(v){v.deleteObjectStore("targetDocuments"),v.deleteObjectStore("targets"),v.deleteObjectStore("targetGlobal")}(e),yC(e)),c=c.next(()=>function(v){const x=v.store("targetGlobal"),N={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ot.min().toTimestamp(),targetCount:0};return x.put("targetGlobalKey",N)}(u))),s<4&&o>=4&&(s!==0&&(c=c.next(()=>function(v,x){return x.store("mutations").U().next(N=>{v.deleteObjectStore("mutations"),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V2,{unique:!0});const E=x.store("mutations"),R=N.map(C=>E.put(C));return se.waitFor(R)})}(e,u))),c=c.next(()=>{(function(v){v.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),s<5&&o>=5&&(c=c.next(()=>this.ni(u))),s<6&&o>=6&&(c=c.next(()=>(function(v){v.createObjectStore("remoteDocumentGlobal")}(e),this.ri(u)))),s<7&&o>=7&&(c=c.next(()=>this.ii(u))),s<8&&o>=8&&(c=c.next(()=>this.si(e,u))),s<9&&o>=9&&(c=c.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e)})),s<10&&o>=10&&(c=c.next(()=>this.oi(u))),s<11&&o>=11&&(c=c.next(()=>{(function(v){v.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(v){v.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&o>=12&&(c=c.next(()=>{(function(v){const x=v.createObjectStore("documentOverlays",{keyPath:TF});x.createIndex("collectionPathOverlayIndex",EF,{unique:!1}),x.createIndex("collectionGroupOverlayIndex",DF,{unique:!1})})(e)})),s<13&&o>=13&&(c=c.next(()=>function(v){const x=v.createObjectStore("remoteDocumentsV14",{keyPath:mF});x.createIndex("documentKeyIndex",hF),x.createIndex("collectionGroupIndex",fF)}(e)).next(()=>this._i(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&o>=14&&(c=c.next(()=>this.ai(e,u))),s<15&&o>=15&&(c=c.next(()=>function(v){v.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),v.createObjectStore("indexState",{keyPath:yF}).createIndex("sequenceNumberIndex",xF,{unique:!1}),v.createObjectStore("indexEntries",{keyPath:_F}).createIndex("documentKeyIndex",NF,{unique:!1})}(e))),s<16&&o>=16&&(c=c.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),s<17&&o>=17&&(c=c.next(()=>{(function(v){v.createObjectStore("globals",{keyPath:"name"})})(e)})),c}ri(e){let t=0;return e.store("remoteDocuments").J((s,o)=>{t+=zv(o)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.U().next(o=>se.forEach(o,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",c).next(p=>se.forEach(p,v=>{tt(v.userId===u.userId);const x=Bu(this.serializer,v);return ik(e,u.userId,x).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return s.J((c,p)=>{const v=new on(c),x=function(E){return[0,Ki(E)]}(v);u.push(t.get(x).next(N=>N?se.resolve():(E=>t.put({targetId:0,path:Ki(E),sequenceNumber:o.highestListenSequenceNumber}))(v)))}).next(()=>se.waitFor(u))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:bF});const s=t.store("collectionParents"),o=new jN,u=c=>{if(o.add(c)){const p=c.lastSegment(),v=c.popLast();return s.put({collectionId:p,parent:Ki(v)})}};return t.store("remoteDocuments").J({H:!0},(c,p)=>{const v=new on(c);return u(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,p,v],x)=>{const N=ia(p);return u(N.popLast())}))}oi(e){const t=e.store("targets");return t.J((s,o)=>{const u=Yh(o),c=tk(this.serializer,u);return t.put(c)})}_i(e,t){const s=t.store("remoteDocuments"),o=[];return s.J((u,c)=>{const p=t.store("remoteDocumentsV14"),v=function(E){return E.document?new Me(on.fromString(E.document.name).popFirst(5)):E.noDocument?Me.fromSegments(E.noDocument.path):E.unknownDocument?Me.fromSegments(E.unknownDocument.path):Qe()}(c).path.toArray(),x={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(p.put(x))}).next(()=>se.waitFor(o))}ai(e,t){const s=t.store("mutations"),o=ck(this.serializer),u=new MN(sb.Zr,this.serializer.ct);return s.U().next(c=>{const p=new Map;return c.forEach(v=>{var x;let N=(x=p.get(v.userId))!==null&&x!==void 0?x:Ft();Bu(this.serializer,v).keys().forEach(E=>N=N.add(E)),p.set(v.userId,N)}),se.forEach(p,(v,x)=>{const N=new vi(x),E=rb.lt(this.serializer,N),R=u.getIndexManager(N),C=ib.lt(N,this.serializer,R,u.referenceDelegate);return new dk(o,C,E,R).recalculateAndSaveOverlaysForDocumentKeys(new H_(t,Ss.oe),v).next()})})}}function yC(r){r.createObjectStore("targetDocuments",{keyPath:gF}).createIndex("documentTargetsIndex",vF,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pF,{unique:!0}),r.createObjectStore("targetGlobal")}const D_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FN{constructor(e,t,s,o,u,c,p,v,x,N,E=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ui=u,this.window=c,this.document=p,this.ci=x,this.li=N,this.hi=E,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=R=>Promise.resolve(),!FN.D())throw new Ce(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new C4(this,o),this.Ai=t+"main",this.serializer=new ek(v),this.Ri=new oa(this.Ai,this.hi,new L4(this.serializer)),this.$r=new g4,this.Ur=new E4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ck(this.serializer),this.Gr=new p4,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,N===!1&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(fe.FAILED_PRECONDITION,D_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Ss(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>av(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Ql(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Gh(e).get("owner").next(t=>se.resolve(this.vi(t)))}Ci(e){return av(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const s=ri(t,"clientMetadata");return s.U().next(o=>{const u=this.xi(o,18e5),c=o.filter(p=>u.indexOf(p)===-1);return se.forEach(c,p=>s.delete(p.clientId)).next(()=>c)})}).catch(()=>[]);if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?se.resolve(!0):Gh(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new Ce(fe.FAILED_PRECONDITION,D_);return!1}}return!(!this.networkEnabled||!this.inForeground)||av(e).U().next(s=>this.xi(s,5e3).find(o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,p=this.networkEnabled===o.networkEnabled;if(u||c&&p)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new H_(e,Ss.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()}xi(e,t){return e.filter(s=>this.Mi(s.updateTimeMs,t)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>av(e).U().next(t=>this.xi(t,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return ib.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new T4(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return rb.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,s){Re("IndexedDbPersistence","Starting transaction:",e);const o=t==="readonly"?"readonly":"readwrite",u=function(v){return v===17?wF:v===16?CF:v===15?DN:v===14?sS:v===13?iS:v===12?RF:v===11?rS:void Qe()}(this.hi);let c;return this.Ri.runTransaction(e,o,u,p=>(c=new H_(p,this.Qr?this.Qr.next():Ss.oe),t==="readwrite-primary"?this.wi(c).next(v=>!!v||this.Si(c)).next(v=>{if(!v)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ce(fe.FAILED_PRECONDITION,Jw);return s(c)}).next(v=>this.Di(c).next(()=>v)):this.Ki(c).next(()=>s(c)))).then(p=>(c.raiseOnCommittedEvent(),p))}Ki(e){return Gh(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ce(fe.FAILED_PRECONDITION,D_)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gh(e).put("owner",t)}static D(){return oa.D()}bi(e){const t=Gh(e);return t.get("owner").next(s=>this.vi(s)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}Mi(e,t){const s=Date.now();return!(e<s-t)&&(!(e>s)||(zr(`Detected an update time that is in the future: ${e} > ${s}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;Sw()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const s=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return Re("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return zr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gh(r){return ri(r,"owner")}function av(r){return ri(r,"clientMetadata")}function BN(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Ft(),o=Ft();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $N(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Sw()?8:eS(Vd())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.Zi(e,t,o,s).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new M4;return this.Xi(e,t,c).next(p=>{if(u.result=p,this.zi)return this.es(e,t,c,p.size)})}).next(()=>u.result)}es(e,t,s,o){return s.documentReadCount<this.ji?(_d()<=un.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Nd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(_d()<=un.DEBUG&&Re("QueryEngine","Query:",Nd(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(_d()<=un.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Nd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(t))):se.resolve())}Yi(e,t){if(q2(t))return se.resolve(null);let s=Zi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=kv(t,null,"F"),s=Zi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const c=Ft(...u);return this.Ji.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,s).next(v=>{const x=this.ts(t,p);return this.ns(t,x,c,v.readTime)?this.Yi(e,kv(t,null,"F")):this.rs(e,x,t,v)}))})))}Zi(e,t,s,o){return q2(t)||o.isEqual(ot.min())?se.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const c=this.ts(t,u);return this.ns(t,c,s,o)?se.resolve(null):(_d()<=un.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Nd(t)),this.rs(e,c,t,Qw(o,-1)).next(p=>p))})}ts(e,t){let s=new Fn(ES(e));return t.forEach((o,u)=>{zf(e,u)&&(s=s.add(u))}),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return _d()<=un.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Nd(t)),this.Ji.getDocumentsMatchingQuery(e,t,Gs.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new Yn(wt),this._s=new $a(u=>Ju(u),Vf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function hk(r,e,t,s){return new F4(r,e,t,s)}async function fk(r,e){const t=je(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],p=[];let v=Ft();for(const x of o){c.push(x.batchId);for(const N of x.mutations)v=v.add(N.key)}for(const x of u){p.push(x.batchId);for(const N of x.mutations)v=v.add(N.key)}return t.localDocuments.getDocuments(s,v).next(x=>({hs:x,removedBatchIds:c,addedBatchIds:p}))})})}function B4(r,e){const t=je(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return function(p,v,x,N){const E=x.batch,R=E.keys();let C=se.resolve();return R.forEach(P=>{C=C.next(()=>N.getEntry(v,P)).next(A=>{const M=x.docVersions.get(P);tt(M!==null),A.version.compareTo(M)<0&&(E.applyToRemoteDocument(A,x),A.isValidDocument()&&(A.setReadTime(x.commitVersion),N.addEntry(A)))})}),C.next(()=>p.mutationQueue.removeMutationBatch(v,E))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let v=Ft();for(let x=0;x<p.mutationResults.length;++x)p.mutationResults[x].transformResults.length>0&&(v=v.add(p.batch.mutations[x].key));return v}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function pk(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function $4(r,e){const t=je(r),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const p=[];e.targetChanges.forEach((N,E)=>{const R=o.get(E);if(!R)return;p.push(t.Ur.removeMatchingKeys(u,N.removedDocuments,E).next(()=>t.Ur.addMatchingKeys(u,N.addedDocuments,E)));let C=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(Er.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):N.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(N.resumeToken,s)),o=o.insert(E,C),function(A,M,Y){return A.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,C,N)&&p.push(t.Ur.updateTargetData(u,C))});let v=Is(),x=Ft();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,N))}),p.push(gk(u,c,e.documentUpdates).next(N=>{v=N.Ps,x=N.Is})),!s.isEqual(ot.min())){const N=t.Ur.getLastRemoteSnapshotVersion(u).next(E=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(N)}return se.waitFor(p).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,x)).next(()=>v)}).then(u=>(t.os=o,u))}function gk(r,e,t){let s=Ft(),o=Ft();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let c=Is();return t.forEach((p,v)=>{const x=u.get(p);v.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(ot.min())?(e.removeEntry(p,v.readTime),c=c.insert(p,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||v.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(v),c=c.insert(p,v)):Re("LocalStore","Ignoring outdated watch update for ",p,". Current version:",x.version," Watch version:",v.version)}),{Ps:c,Is:o}})}function H4(r,e){const t=je(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Fd(r,e){const t=je(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ur.getTargetData(s,e).next(u=>u?(o=u,se.resolve(o)):t.Ur.allocateTargetId(s).next(c=>(o=new Ua(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s})}async function Bd(r,e,t){const s=je(r),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ql(c))throw c;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Uv(r,e,t){const s=je(r);let o=ot.min(),u=Ft();return s.persistence.runTransaction("Execute query","readwrite",c=>function(v,x,N){const E=je(v),R=E._s.get(N);return R!==void 0?se.resolve(E.os.get(R)):E.Ur.getTargetData(x,N)}(s,c,Zi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,p.targetId).next(v=>{u=v})}).next(()=>s.ss.getDocumentsMatchingQuery(c,e,t?o:ot.min(),t?u:Ft())).next(p=>(yk(s,TS(e),p),{documents:p,Ts:u})))}function vk(r,e){const t=je(r),s=je(t.Ur),o=t.os.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>s.ot(u,e).next(c=>c?c.target:null))}function bk(r,e){const t=je(r),s=t.us.get(e)||ot.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.cs.getAllFromCollectionGroup(o,e,Qw(s,-1),Number.MAX_SAFE_INTEGER)).then(o=>(yk(t,e,o),o))}function yk(r,e,t){let s=r.us.get(e)||ot.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.us.set(e,s)}async function q4(r,e,t,s){const o=je(r);let u=Ft(),c=Is();for(const x of t){const N=e.Es(x.metadata.name);x.document&&(u=u.add(N));const E=e.ds(x);E.setReadTime(e.As(x.metadata.readTime)),c=c.insert(N,E)}const p=o.cs.newChangeBuffer({trackRemovals:!0}),v=await Fd(o,function(N){return Zi(em(on.fromString(`__bundle__/docs/${N}`)))}(s));return o.persistence.runTransaction("Apply bundle documents","readwrite",x=>gk(x,p,c).next(N=>(p.apply(x),N)).next(N=>o.Ur.removeMatchingKeysForTargetId(x,v.targetId).next(()=>o.Ur.addMatchingKeys(x,u,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(x,N.Ps,N.Is)).next(()=>N.Ps)))}async function G4(r,e,t=Ft()){const s=await Fd(r,Zi(UN(e.bundledQuery))),o=je(r);return o.persistence.runTransaction("Save named query","readwrite",u=>{const c=Pr(e.readTime);if(s.snapshotVersion.compareTo(c)>=0)return o.Gr.saveNamedQuery(u,e);const p=s.withResumeToken(Er.EMPTY_BYTE_STRING,c);return o.os=o.os.insert(p.targetId,p),o.Ur.updateTargetData(u,p).next(()=>o.Ur.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>o.Ur.addMatchingKeys(u,t,s.targetId)).next(()=>o.Gr.saveNamedQuery(u,e))})}function xC(r,e){return`firestore_clients_${r}_${e}`}function _C(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function R_(r,e){return`firestore_targets_${r}_${e}`}class Ov{constructor(e,t,s,o){this.user=e,this.batchId=t,this.state=s,this.error=o}static Rs(e,t,s){const o=JSON.parse(s);let u,c=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return c&&o.error&&(c=typeof o.error.message=="string"&&typeof o.error.code=="string",c&&(u=new Ce(o.error.code,o.error.message))),c?new Ov(e,t,o.state,u):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sf{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Rs(e,t){const s=JSON.parse(t);let o,u=typeof s=="object"&&["not-current","current","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new Ce(s.error.code,s.error.message))),u?new sf(e,s.state,o):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const s=JSON.parse(t);let o=typeof s=="object"&&s.activeTargetIds instanceof Array,u=wN();for(let c=0;o&&c<s.activeTargetIds.length;++c)o=tS(s.activeTargetIds[c]),u=u.add(s.activeTargetIds[c]);return o?new jv(e,u):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HN{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new HN(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class iN{constructor(){this.activeTargetIds=wN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C_{constructor(e,t,s,o,u){this.window=e,this.ui=t,this.persistenceKey=s,this.ps=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Yn(wt),this.started=!1,this.bs=[];const c=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Ds=xC(this.persistenceKey,this.ps),this.vs=function(v){return`firestore_sequence_number_${v}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new iN),this.Cs=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.xs=function(v){return`firestore_online_state_${v}`}(this.persistenceKey),this.Os=function(v){return`firestore_bundle_loaded_v2_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const s of e){if(s===this.ps)continue;const o=this.getItem(xC(this.persistenceKey,s));if(o){const u=jv.Rs(s,o);u&&(this.Ss=this.Ss.insert(u.clientId,u))}}this.Ns();const t=this.storage.getItem(this.xs);if(t){const s=this.Ls(t);s&&this.Bs(s)}for(const s of this.bs)this.ws(s);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((s,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,s){this.qs(e,t,s),this.Qs(e)}addLocalQueryTarget(e,t=!0){let s="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(R_(this.persistenceKey,e));if(o){const u=sf.Rs(e,o);u&&(s=u.state)}}return t&&this.Ks.fs(e),this.Ns(),s}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(R_(this.persistenceKey,e))}updateQueryState(e,t,s){this.$s(e,t,s)}handleUserChange(e,t,s){t.forEach(o=>{this.Qs(o)}),this.currentUser=e,s.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const t=e;if(t.storageArea===this.storage){if(Re("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){const s=this.Gs(t.key);return this.zs(s,null)}{const s=this.js(t.key,t.newValue);if(s)return this.zs(s.clientId,s)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){const s=this.Hs(t.key,t.newValue);if(s)return this.Js(s)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){const s=this.Ys(t.key,t.newValue);if(s)return this.Zs(s)}}else if(t.key===this.xs){if(t.newValue!==null){const s=this.Ls(t.newValue);if(s)return this.Bs(s)}}else if(t.key===this.vs){const s=function(u){let c=Ss.oe;if(u!=null)try{const p=JSON.parse(u);tt(typeof p=="number"),c=p}catch(p){zr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(t.newValue);s!==Ss.oe&&this.sequenceNumberHandler(s)}else if(t.key===this.Os){const s=this.Xs(t.newValue);await Promise.all(s.map(o=>this.syncEngine.eo(o)))}}}else this.bs.push(t)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,s){const o=new Ov(this.currentUser,e,t,s),u=_C(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Vs())}Qs(e){const t=_C(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){const t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,s){const o=R_(this.persistenceKey,e),u=new sf(e,t,s);this.setItem(o,u.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const s=this.Gs(e);return jv.Rs(s,t)}Hs(e,t){const s=this.Fs.exec(e),o=Number(s[1]),u=s[2]!==void 0?s[2]:null;return Ov.Rs(new vi(u),o,t)}Ys(e,t){const s=this.Ms.exec(e),o=Number(s[1]);return sf.Rs(o,t)}Ls(e){return HN.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const s=t?this.Ss.insert(e,t):this.Ss.remove(e),o=this.ks(this.Ss),u=this.ks(s),c=[],p=[];return u.forEach(v=>{o.has(v)||c.push(v)}),o.forEach(v=>{u.has(v)||p.push(v)}),this.syncEngine.io(c,p).then(()=>{this.Ss=s})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=wN();return e.forEach((s,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class xk{constructor(){this.so=new iN,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new iN,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv=null;function w_(){return lv===null?lv=function(){return 268435456+Math.round(2147483648*Math.random())}():lv++,"0x"+lv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class Q4 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,c){const p=w_(),v=this.xo(t,s.toUriEncodedString());Re("RestConnection",`Sending RPC '${t}' ${p}:`,v,o);const x={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(x,u,c),this.No(t,v,x,o).then(N=>(Re("RestConnection",`Received RPC '${t}' ${p}: `,N),N),N=>{throw co("RestConnection",`RPC '${t}' ${p} failed with error: `,N,"url: ",v,"request:",o),N})}Lo(t,s,o,u,c,p){return this.Mo(t,s,o,u,c)}Oo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,c)=>t[c]=u),o&&o.headers.forEach((u,c)=>t[c]=u)}xo(t,s){const o=K4[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=w_();return new Promise((c,p)=>{const v=new Fw;v.setWithCredentials(!0),v.listenOnce(Bw.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case mv.NO_ERROR:const N=v.getResponseJson();Re(Gi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(N)),c(N);break;case mv.TIMEOUT:Re(Gi,`RPC '${e}' ${u} timed out`),p(new Ce(fe.DEADLINE_EXCEEDED,"Request time out"));break;case mv.HTTP_ERROR:const E=v.getStatus();if(Re(Gi,`RPC '${e}' ${u} failed with status:`,E,"response text:",v.getResponseText()),E>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const P=function(M){const Y=M.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Y)>=0?Y:fe.UNKNOWN}(C.status);p(new Ce(P,C.message))}else p(new Ce(fe.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Ce(fe.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Re(Gi,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(o);Re(Gi,`RPC '${e}' ${u} sending request:`,o),v.send(t,"POST",x,s,15)})}Bo(e,t,s){const o=w_(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qw(),p=Hw(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Oo(v.initMessageHeaders,t,s),v.encodeInitMessageHeaders=!0;const N=u.join("");Re(Gi,`Creating RPC '${e}' stream ${o}: ${N}`,v);const E=c.createWebChannel(N,v);let R=!1,C=!1;const P=new Z4({Io:M=>{C?Re(Gi,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(R||(Re(Gi,`Opening RPC '${e}' stream ${o} transport.`),E.open(),R=!0),Re(Gi,`RPC '${e}' stream ${o} sending:`,M),E.send(M))},To:()=>E.close()}),A=(M,Y,J)=>{M.listen(Y,ee=>{try{J(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return A(E,Kh.EventType.OPEN,()=>{C||(Re(Gi,`RPC '${e}' stream ${o} transport opened.`),P.yo())}),A(E,Kh.EventType.CLOSE,()=>{C||(C=!0,Re(Gi,`RPC '${e}' stream ${o} transport closed`),P.So())}),A(E,Kh.EventType.ERROR,M=>{C||(C=!0,co(Gi,`RPC '${e}' stream ${o} transport errored:`,M),P.So(new Ce(fe.UNAVAILABLE,"The operation could not be completed")))}),A(E,Kh.EventType.MESSAGE,M=>{var Y;if(!C){const J=M.data[0];tt(!!J);const ee=J,pe=ee.error||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(pe){Re(Gi,`RPC '${e}' stream ${o} received error:`,pe);const ye=pe.status;let te=function(q){const G=qr[q];if(G!==void 0)return jS(G)}(ye),F=pe.message;te===void 0&&(te=fe.INTERNAL,F="Unknown error status: "+ye+" with message "+pe.message),C=!0,P.So(new Ce(te,F)),E.close()}else Re(Gi,`RPC '${e}' stream ${o} received:`,J),P.bo(J)}}),A(p,$w.STAT_EVENT,M=>{M.stat===B_.PROXY?Re(Gi,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===B_.NOPROXY&&Re(Gi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return typeof window<"u"?window:null}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(r){return new i4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t,s,o,u,c,p,v){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qN(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===t&&this.P_(s,o)},s=>{e(()=>{const o=new Ce(fe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y4 extends Nk{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=a4(this.serializer,e),s=function(u){if(!("targetChange"in u))return ot.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?ot.min():c.readTime?Pr(c.readTime):ot.min()}(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=X_(this.serializer),t.addTarget=function(u,c){let p;const v=c.target;if(p=wv(v)?{documents:KS(u,v)}:{query:nb(u,v)._t},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=BS(u,c.resumeToken);const x=Y_(u,c.expectedCount);x!==null&&(p.expectedCount=x)}else if(c.snapshotVersion.compareTo(ot.min())>0){p.readTime=Md(u,c.snapshotVersion.toTimestamp());const x=Y_(u,c.expectedCount);x!==null&&(p.expectedCount=x)}return p}(this.serializer,e);const s=u4(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=X_(this.serializer),t.removeTarget=e,this.a_(t)}}class J4 extends Nk{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return tt(!!e.streamToken),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=l4(e.writeResults,e.commitTime),s=Pr(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=X_(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Nf(this.serializer,s))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4 extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Mo(e,J_(t,s),o,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(fe.UNKNOWN,u.toString())})}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Lo(e,J_(t,s),o,c,p,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(fe.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class e9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(t),this.D_=!1):Re("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(c=>{s.enqueueAndForget(async()=>{Jl(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(v){const x=je(v);x.L_.add(4),await rm(x),x.q_.set("Unknown"),x.L_.delete(4),await Lf(x)}(this))})}),this.q_=new e9(s,o)}}async function Lf(r){if(Jl(r))for(const e of r.B_)await e(!0)}async function rm(r){for(const e of r.B_)await e(!1)}function ob(r,e){const t=je(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),KN(t)?WN(t):sm(t).r_()&&GN(t,e))}function $d(r,e){const t=je(r),s=sm(t);t.N_.delete(e),s.r_()&&Tk(t,e),t.N_.size===0&&(s.r_()?s.o_():Jl(t)&&t.q_.set("Unknown"))}function GN(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sm(r).A_(e)}function Tk(r,e){r.Q_.xe(e),sm(r).R_(e)}function WN(r){r.Q_=new e4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),sm(r).start(),r.q_.v_()}function KN(r){return Jl(r)&&!sm(r).n_()&&r.N_.size>0}function Jl(r){return je(r).L_.size===0}function Ek(r){r.Q_=void 0}async function n9(r){r.q_.set("Online")}async function r9(r){r.N_.forEach((e,t)=>{GN(r,e)})}async function i9(r,e){Ek(r),KN(r)?(r.q_.M_(e),WN(r)):r.q_.set("Unknown")}async function s9(r,e,t){if(r.q_.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await async function(o,u){const c=u.cause;for(const p of u.targetIds)o.N_.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.N_.delete(p),o.Q_.removeTarget(p))}(r,e)}catch(s){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lv(r,s)}else if(e instanceof bv?r.Q_.Ke(e):e instanceof MS?r.Q_.He(e):r.Q_.We(e),!t.isEqual(ot.min()))try{const s=await pk(r.localStore);t.compareTo(s)>=0&&await function(u,c){const p=u.Q_.rt(c);return p.targetChanges.forEach((v,x)=>{if(v.resumeToken.approximateByteSize()>0){const N=u.N_.get(x);N&&u.N_.set(x,N.withResumeToken(v.resumeToken,c))}}),p.targetMismatches.forEach((v,x)=>{const N=u.N_.get(v);if(!N)return;u.N_.set(v,N.withResumeToken(Er.EMPTY_BYTE_STRING,N.snapshotVersion)),Tk(u,v);const E=new Ua(N.target,v,x,N.sequenceNumber);GN(u,E)}),u.remoteSyncer.applyRemoteEvent(p)}(r,t)}catch(s){Re("RemoteStore","Failed to raise snapshot:",s),await Lv(r,s)}}async function Lv(r,e,t){if(!Ql(e))throw e;r.L_.add(1),await rm(r),r.q_.set("Offline"),t||(t=()=>pk(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await Lf(r)})}function Dk(r,e){return e().catch(t=>Lv(r,t,e))}async function im(r){const e=je(r),t=$l(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;o9(e);)try{const o=await H4(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,a9(e,o)}catch(o){await Lv(e,o)}Rk(e)&&Ck(e)}function o9(r){return Jl(r)&&r.O_.length<10}function a9(r,e){r.O_.push(e);const t=$l(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Rk(r){return Jl(r)&&!$l(r).n_()&&r.O_.length>0}function Ck(r){$l(r).start()}async function l9(r){$l(r).p_()}async function u9(r){const e=$l(r);for(const t of r.O_)e.m_(t.mutations)}async function c9(r,e,t){const s=r.O_.shift(),o=VN.from(s,e,t);await Dk(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await im(r)}async function d9(r,e){e&&$l(r).V_&&await async function(s,o){if(function(c){return OS(c)&&c!==fe.ABORTED}(o.code)){const u=s.O_.shift();$l(s).s_(),await Dk(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await im(s)}}(r,e),Rk(r)&&Ck(r)}async function TC(r,e){const t=je(r);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const s=Jl(t);t.L_.add(3),await rm(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Lf(t)}async function sN(r,e){const t=je(r);e?(t.L_.delete(2),await Lf(t)):e||(t.L_.add(2),await rm(t),t.q_.set("Unknown"))}function sm(r){return r.K_||(r.K_=function(t,s,o){const u=je(t);return u.w_(),new Y4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:n9.bind(null,r),Ro:r9.bind(null,r),mo:i9.bind(null,r),d_:s9.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),KN(r)?WN(r):r.q_.set("Unknown")):(await r.K_.stop(),Ek(r))})),r.K_}function $l(r){return r.U_||(r.U_=function(t,s,o){const u=je(t);return u.w_(),new J4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:l9.bind(null,r),mo:d9.bind(null,r),f_:u9.bind(null,r),g_:c9.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await im(r)):(await r.U_.stop(),r.O_.length>0&&(Re("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,p=new ZN(e,t,c,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function om(r,e){if(zr("AsyncQueue",`${e}: ${r}`),Ql(r))return new Ce(fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Me.comparator(t.key,s.key):(t,s)=>Me.comparator(t.key,s.key),this.keyedMap=Zh(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new Sd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Sd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.W_=new Yn(Me.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Qe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Hd{constructor(e,t,s,o,u,c,p,v,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new Hd(e,t,Sd.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class h9{constructor(){this.queries=DC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=je(t),u=o.queries;o.queries=DC(),u.forEach((c,p)=>{for(const v of p.j_)v.onError(s)})})(this,new Ce(fe.ABORTED,"Firestore shutting down"))}}function DC(){return new $a(r=>NS(r),Af)}async function QN(r,e){const t=je(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new m9,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const p=om(c,`Initialization of query '${Nd(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&JN(t)}async function YN(r,e){const t=je(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.j_.indexOf(e);c>=0&&(u.j_.splice(c,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function f9(r,e){const t=je(r);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const p of c.j_)p.X_(o)&&(s=!0);c.z_=o}}s&&JN(t)}function p9(r,e,t){const s=je(r),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function JN(r){r.Y_.forEach(e=>{e.next()})}var oN,RC;(RC=oN||(oN={})).ea="default",RC.Cache="cache";class XN{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Hd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==oN.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.serializer=e}Es(e){return aa(this.serializer,e)}ds(e){return e.metadata.exists?WS(this.serializer,e.document,!1):rr.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Pr(e)}}class v9{constructor(e,t,s){this.ca=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wk(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const s=on.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,s=new CC(this.serializer);for(const o of e)if(o.metadata.queries){const u=s.Es(o.metadata.name);for(const c of o.metadata.queries){const p=(t.get(c)||Ft()).add(u);t.set(c,p)}}return t}async complete(){const e=await q4(this.localStore,new CC(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(const s of this.queries)await G4(this.localStore,s,t.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function wk(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.key=e}}class kk{constructor(e){this.key=e}}class Ik{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=ES(e),this.Ra=new Sd(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new EC,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,x=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,E)=>{const R=o.get(N),C=zf(this.query,E)?E:null,P=!!R&&this.mutatedKeys.has(R.key),A=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;R&&C?R.data.isEqual(C.data)?P!==A&&(s.track({type:3,doc:C}),M=!0):this.ga(R,C)||(s.track({type:2,doc:C}),M=!0,(v&&this.Aa(C,v)>0||x&&this.Aa(C,x)<0)&&(p=!0)):!R&&C?(s.track({type:0,doc:C}),M=!0):R&&!C&&(s.track({type:1,doc:R}),M=!0,(v||x)&&(p=!0)),M&&(C?(c=c.add(C),u=A?u.add(N):u.delete(N)):(c=c.delete(N),u=u.delete(N)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const N=this.query.limitType==="F"?c.last():c.first();c=c.delete(N.key),u=u.delete(N.key),s.track({type:1,doc:N})}return{Ra:c,fa:s,ns:p,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((N,E)=>function(C,P){const A=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return A(C)-A(P)}(N.type,E.type)||this.Aa(N.doc,E.doc)),this.pa(s),o=o!=null&&o;const p=t&&!o?this.ya():[],v=this.da.size===0&&this.current&&!o?1:0,x=v!==this.Ea;return this.Ea=v,c.length!==0||x?{snapshot:new Hd(this.query,e.Ra,u,c,e.mutatedKeys,v===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:p}:{wa:p}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new EC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ft(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const t=[];return e.forEach(s=>{this.da.has(s)||t.push(new kk(s))}),this.da.forEach(s=>{e.has(s)||t.push(new Sk(s))}),t}ba(e){this.Ta=e.Ts,this.da=Ft();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Hd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class b9{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class y9{constructor(e){this.key=e,this.va=!1}}class x9{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new $a(p=>NS(p),Af),this.Ma=new Map,this.xa=new Set,this.Oa=new Yn(Me.comparator),this.Na=new Map,this.La=new LN,this.Ba={},this.ka=new Map,this.qa=rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _9(r,e,t=!0){const s=ab(r);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await Vk(s,e,t,!0),o}async function N9(r,e){const t=ab(r);await Vk(t,e,!0,!1)}async function Vk(r,e,t,s){const o=await Fd(r.localStore,Zi(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await eT(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&ob(r.remoteStore,o),p}async function eT(r,e,t,s,o){r.Ka=(E,R,C)=>async function(A,M,Y,J){let ee=M.view.ma(Y);ee.ns&&(ee=await Uv(A.localStore,M.query,!1).then(({documents:F})=>M.view.ma(F,ee)));const pe=J&&J.targetChanges.get(M.targetId),ye=J&&J.targetMismatches.get(M.targetId)!=null,te=M.view.applyChanges(ee,A.isPrimaryClient,pe,ye);return aN(A,M.targetId,te.wa),te.snapshot}(r,E,R,C);const u=await Uv(r.localStore,e,!0),c=new Ik(e,u.Ts),p=c.ma(u.documents),v=Of.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),x=c.applyChanges(p,r.isPrimaryClient,v);aN(r,t,x.wa);const N=new b9(e,t,c);return r.Fa.set(e,N),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),x.snapshot}async function T9(r,e,t){const s=je(r),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter(c=>!Af(c,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&$d(s.remoteStore,o.targetId),qd(s,o.targetId)}).catch(Zl)):(qd(s,o.targetId),await Bd(s.localStore,o.targetId,!0))}async function E9(r,e){const t=je(r),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),$d(t.remoteStore,s.targetId))}async function D9(r,e,t){const s=iT(r);try{const o=await function(c,p){const v=je(c),x=cr.now(),N=p.reduce((C,P)=>C.add(P.key),Ft());let E,R;return v.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=Is(),A=Ft();return v.cs.getEntries(C,N).next(M=>{P=M,P.forEach((Y,J)=>{J.isValidDocument()||(A=A.add(Y))})}).next(()=>v.localDocuments.getOverlayedDocuments(C,P)).next(M=>{E=M;const Y=[];for(const J of p){const ee=YF(J,E.get(J.key).overlayedDocument);ee!=null&&Y.push(new Ha(J.key,ee,dS(ee.value.mapValue),lr.exists(!0)))}return v.mutationQueue.addMutationBatch(C,x,Y,p)}).next(M=>{R=M;const Y=M.applyToLocalDocumentSet(E,A);return v.documentOverlayCache.saveOverlays(C,M.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:RS(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,p,v){let x=c.Ba[c.currentUser.toKey()];x||(x=new Yn(wt)),x=x.insert(p,v),c.Ba[c.currentUser.toKey()]=x}(s,o.batchId,t),await qa(s,o.changes),await im(s.remoteStore)}catch(o){const u=om(o,"Failed to persist write");t.reject(u)}}async function Ak(r,e){const t=je(r);try{const s=await $4(t.localStore,e);e.targetChanges.forEach((o,u)=>{const c=t.Na.get(u);c&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?tt(c.va):o.removedDocuments.size>0&&(tt(c.va),c.va=!1))}),await qa(t,s,e)}catch(s){await Zl(s)}}function wC(r,e,t){const s=je(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach((u,c)=>{const p=c.view.Z_(e);p.snapshot&&o.push(p.snapshot)}),function(c,p){const v=je(c);v.onlineState=p;let x=!1;v.queries.forEach((N,E)=>{for(const R of E.j_)R.Z_(p)&&(x=!0)}),x&&JN(v)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function R9(r,e,t){const s=je(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let c=new Yn(Me.comparator);c=c.insert(u,rr.newNoDocument(u,ot.min()));const p=Ft().add(u),v=new Uf(ot.min(),new Map,new Yn(wt),c,p);await Ak(s,v),s.Oa=s.Oa.remove(u),s.Na.delete(e),rT(s)}else await Bd(s.localStore,e,!1).then(()=>qd(s,e,t)).catch(Zl)}async function C9(r,e){const t=je(r),s=e.batch.batchId;try{const o=await B4(t.localStore,e);nT(t,s,null),tT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await qa(t,o)}catch(o){await Zl(o)}}async function w9(r,e,t){const s=je(r);try{const o=await function(c,p){const v=je(c);return v.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let N;return v.mutationQueue.lookupMutationBatch(x,p).next(E=>(tt(E!==null),N=E.keys(),v.mutationQueue.removeMutationBatch(x,E))).next(()=>v.mutationQueue.performConsistencyCheck(x)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(x,N,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,N)).next(()=>v.localDocuments.getDocuments(x,N))})}(s.localStore,e);nT(s,e,t),tT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await qa(s,o)}catch(o){await Zl(o)}}async function S9(r,e){const t=je(r);Jl(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=await function(c){const p=je(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>p.mutationQueue.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(s===-1)return void e.resolve();const o=t.ka.get(s)||[];o.push(e),t.ka.set(s,o)}catch(s){const o=om(s,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}function tT(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function nT(r,e,t){const s=je(r);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function qd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(s=>{r.La.containsKey(s)||zk(r,s)})}function zk(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&($d(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),rT(r))}function aN(r,e,t){for(const s of t)s instanceof Sk?(r.La.addReference(s.key,e),k9(r,s)):s instanceof kk?(Re("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||zk(r,s.key)):Qe()}function k9(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(Re("SyncEngine","New document in limbo: "+t),r.xa.add(s),rT(r))}function rT(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Me(on.fromString(e)),s=r.qa.next();r.Na.set(s,new y9(t)),r.Oa=r.Oa.insert(t,s),ob(r.remoteStore,new Ua(Zi(em(t.path)),s,"TargetPurposeLimboResolution",Ss.oe))}}async function qa(r,e,t){const s=je(r),o=[],u=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach((p,v)=>{c.push(s.Ka(v,e,t).then(x=>{var N;if((x||t)&&s.isPrimaryClient){const E=x?!x.fromCache:(N=t==null?void 0:t.targetChanges.get(v.targetId))===null||N===void 0?void 0:N.current;s.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(x){o.push(x);const E=$N.Wi(v.targetId,x);u.push(E)}}))}),await Promise.all(c),s.Ca.d_(o),await async function(v,x){const N=je(v);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>se.forEach(x,R=>se.forEach(R.$i,C=>N.persistence.referenceDelegate.addReference(E,R.targetId,C)).next(()=>se.forEach(R.Ui,C=>N.persistence.referenceDelegate.removeReference(E,R.targetId,C)))))}catch(E){if(!Ql(E))throw E;Re("LocalStore","Failed to update sequence numbers: "+E)}for(const E of x){const R=E.targetId;if(!E.fromCache){const C=N.os.get(R),P=C.snapshotVersion,A=C.withLastLimboFreeSnapshotVersion(P);N.os=N.os.insert(R,A)}}}(s.localStore,u))}async function I9(r,e){const t=je(r);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const s=await fk(t.localStore,e);t.currentUser=e,function(u,c){u.ka.forEach(p=>{p.forEach(v=>{v.reject(new Ce(fe.CANCELLED,c))})}),u.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qa(t,s.hs)}}function V9(r,e){const t=je(r),s=t.Na.get(e);if(s&&s.va)return Ft().add(s.key);{let o=Ft();const u=t.Ma.get(e);if(!u)return o;for(const c of u){const p=t.Fa.get(c);o=o.unionWith(p.view.Va)}return o}}async function A9(r,e){const t=je(r),s=await Uv(t.localStore,e.query,!0),o=e.view.ba(s);return t.isPrimaryClient&&aN(t,e.targetId,o.wa),o}async function z9(r,e){const t=je(r);return bk(t.localStore,e).then(s=>qa(t,s))}async function P9(r,e,t,s){const o=je(r),u=await function(p,v){const x=je(p),N=je(x.mutationQueue);return x.persistence.runTransaction("Lookup mutation documents","readonly",E=>N.Mn(E,v).next(R=>R?x.localDocuments.getDocuments(E,R):se.resolve(null)))}(o.localStore,e);u!==null?(t==="pending"?await im(o.remoteStore):t==="acknowledged"||t==="rejected"?(nT(o,e,s||null),tT(o,e),function(p,v){je(je(p).mutationQueue).On(v)}(o.localStore,e)):Qe(),await qa(o,u)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}async function U9(r,e){const t=je(r);if(ab(t),iT(t),e===!0&&t.Qa!==!0){const s=t.sharedClientState.getAllActiveQueryTargets(),o=await SC(t,s.toArray());t.Qa=!0,await sN(t.remoteStore,!0);for(const u of o)ob(t.remoteStore,u)}else if(e===!1&&t.Qa!==!1){const s=[];let o=Promise.resolve();t.Ma.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?s.push(c):o=o.then(()=>(qd(t,c),Bd(t.localStore,c,!0))),$d(t.remoteStore,c)}),await o,await SC(t,s),function(c){const p=je(c);p.Na.forEach((v,x)=>{$d(p.remoteStore,x)}),p.La.pr(),p.Na=new Map,p.Oa=new Yn(Me.comparator)}(t),t.Qa=!1,await sN(t.remoteStore,!1)}}async function SC(r,e,t){const s=je(r),o=[],u=[];for(const c of e){let p;const v=s.Ma.get(c);if(v&&v.length!==0){p=await Fd(s.localStore,Zi(v[0]));for(const x of v){const N=s.Fa.get(x),E=await A9(s,N);E.snapshot&&u.push(E.snapshot)}}else{const x=await vk(s.localStore,c);p=await Fd(s.localStore,x),await eT(s,Pk(x),c,!1,p.resumeToken)}o.push(p)}return s.Ca.d_(u),o}function Pk(r){return yS(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function O9(r){return function(t){return je(je(t).persistence).Qi()}(je(r).localStore)}async function j9(r,e,t,s){const o=je(r);if(o.Qa)return void Re("SyncEngine","Ignoring unexpected query state notification.");const u=o.Ma.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=await bk(o.localStore,TS(u[0])),p=Uf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Er.EMPTY_BYTE_STRING);await qa(o,c,p);break}case"rejected":await Bd(o.localStore,e,!0),qd(o,e,s);break;default:Qe()}}async function L9(r,e,t){const s=ab(r);if(s.Qa){for(const o of e){if(s.Ma.has(o)&&s.sharedClientState.isActiveQueryTarget(o)){Re("SyncEngine","Adding an already active target "+o);continue}const u=await vk(s.localStore,o),c=await Fd(s.localStore,u);await eT(s,Pk(u),c.targetId,!1,c.resumeToken),ob(s.remoteStore,c)}for(const o of t)s.Ma.has(o)&&await Bd(s.localStore,o,!1).then(()=>{$d(s.remoteStore,o),qd(s,o)}).catch(Zl)}}function ab(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ak.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R9.bind(null,e),e.Ca.d_=f9.bind(null,e.eventManager),e.Ca.$a=p9.bind(null,e.eventManager),e}function iT(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w9.bind(null,e),e}function M9(r,e,t){const s=je(r);(async function(u,c,p){try{const v=await c.getMetadata();if(await function(C,P){const A=je(C),M=Pr(P.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",Y=>A.Gr.getBundleMetadata(Y,P.id)).then(Y=>!!Y&&Y.createTime.compareTo(M)>=0)}(u.localStore,v))return await c.close(),p._completeWith(function(C){return{taskState:"Success",documentsLoaded:C.totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}}(v)),Promise.resolve(new Set);p._updateProgress(wk(v));const x=new v9(v,u.localStore,c.serializer);let N=await c.Ua();for(;N;){const R=await x.la(N);R&&p._updateProgress(R),N=await c.Ua()}const E=await x.complete();return await qa(u,E.Ia,void 0),await function(C,P){const A=je(C);return A.persistence.runTransaction("Save bundle","readwrite",M=>A.Gr.saveBundleMetadata(M,P))}(u.localStore,v),p._completeWith(E.progress),Promise.resolve(E.Pa)}catch(v){return co("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}})(s,e,t).then(o=>{s.sharedClientState.notifyBundleLoaded(o)})}class Hl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return hk(this.persistence,new mk,e.initialUser,this.serializer)}Ga(e){return new MN(sb.Zr,this.serializer)}Wa(e){return new xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hl.provider={build:()=>new Hl};class F9 extends Hl{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){tt(this.persistence.referenceDelegate instanceof Pv);const s=this.persistence.referenceDelegate.garbageCollector;return new ak(s,e.asyncQueue,t)}Ga(e){const t=this.cacheSizeBytes!==void 0?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new MN(s=>Pv.Zr(s,t),this.serializer)}}class sT extends Hl{constructor(e,t,s){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await iT(this.Ja.syncEngine),await im(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return hk(this.persistence,new mk,e.initialUser,this.serializer)}ja(e,t){const s=this.persistence.referenceDelegate.garbageCollector;return new ak(s,e.asyncQueue,t)}Ha(e,t){const s=new uF(t,this.persistence);return new lF(e.asyncQueue,s)}Ga(e){const t=BN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new FN(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,_k(),yv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new xk}}class Uk extends sT{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ja.syncEngine;this.sharedClientState instanceof C_&&(this.sharedClientState.syncEngine={no:P9.bind(null,t),ro:j9.bind(null,t),io:L9.bind(null,t),Qi:O9.bind(null,t),eo:z9.bind(null,t)},await this.sharedClientState.start()),await this.persistence.yi(async s=>{await U9(this.Ja.syncEngine,s),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start():s||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(s&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():s||this.indexBackfillerScheduler.stop())})}Wa(e){const t=_k();if(!C_.D(t))throw new Ce(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=BN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new C_(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class ql{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wC(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=I9.bind(null,this.syncEngine),await sN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h9}()}createDatastore(e){const t=jf(e.databaseInfo.databaseId),s=function(u){return new Q4(u)}(e.databaseInfo);return function(u,c,p,v){return new X4(u,c,p,v)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,c,p){return new t9(s,o,u,c,p)}(this.localStore,this.datastore,e.asyncQueue,t=>wC(this.syncEngine,t,0),function(){return NC.D()?new NC:new W4}())}createSyncEngine(e,t){return function(o,u,c,p,v,x,N){const E=new x9(o,u,c,p,v,x);return N&&(E.Qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=je(o);Re("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await rm(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ql.provider={build:()=>new ql};function kC(r,e=10240){let t=0;return{async read(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new bi,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(s==null?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const t=this.eu.decode(e),s=Number(t);isNaN(s)&&this.ru(`length string (${t}) is not valid number`);const o=await this.iu(s);return new g9(JSON.parse(o),e.length+s)}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ce(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(o,u){const c=je(o),p={documents:u.map(E=>_f(c.serializer,E))},v=await c.Lo("BatchGetDocuments",c.serializer.databaseId,on.emptyPath(),p,u.length),x=new Map;v.forEach(E=>{const R=o4(c.serializer,E);x.set(R.key.toString(),R)});const N=[];return u.forEach(E=>{const R=x.get(E.toString());tt(!!R),N.push(R)}),N}(this.datastore,e);return t.forEach(s=>this.recordVersion(s)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new nm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,s)=>{const o=Me.fromPath(s);this.mutations.push(new kN(o,this.precondition(o)))}),await async function(s,o){const u=je(s),c={writes:o.map(p=>Nf(u.serializer,p))};await u.Mo("Commit",u.serializer.databaseId,on.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qe();t=ot.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Ce(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ot.min())?lr.exists(!1):lr.updateTime(t):lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ot.min()))throw new Ce(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(t)}return lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this._u=s.maxAttempts,this.t_=new qN(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new $9(this.datastore),t=this.cu(e);t&&t.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(o=>{this.lu(o)}))}).catch(s=>{this.lu(s)})})}cu(e){try{const t=this.updateFunction(e);return!If(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!OS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=vi.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async c=>{Re("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(Re("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=om(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function S_(r,e){r.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fk(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function IC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await oT(r);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>TC(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>TC(e.remoteStore,o)),r._onlineComponents=e}async function oT(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await S_(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;co("Error using user provided cache. Falling back to memory cache: "+t),await S_(r,new Hl)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await S_(r,new Hl);return r._offlineComponents}async function ub(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await IC(r,r._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await IC(r,new ql))),r._onlineComponents}function Ok(r){return oT(r).then(e=>e.persistence)}function am(r){return oT(r).then(e=>e.localStore)}function jk(r){return ub(r).then(e=>e.remoteStore)}function aT(r){return ub(r).then(e=>e.syncEngine)}function Lk(r){return ub(r).then(e=>e.datastore)}async function Gd(r){const e=await ub(r),t=e.eventManager;return t.onListen=_9.bind(null,e.syncEngine),t.onUnlisten=T9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E9.bind(null,e.syncEngine),t}function G9(r){return r.asyncQueue.enqueue(async()=>{const e=await Ok(r),t=await jk(r);return e.setNetworkEnabled(!0),function(o){const u=je(o);return u.L_.delete(0),Lf(u)}(t)})}function W9(r){return r.asyncQueue.enqueue(async()=>{const e=await Ok(r),t=await jk(r);return e.setNetworkEnabled(!1),async function(o){const u=je(o);u.L_.add(0),await rm(u),u.q_.set("Offline")}(t)})}function K9(r,e){const t=new bi;return r.asyncQueue.enqueueAndForget(async()=>async function(o,u,c){try{const p=await function(x,N){const E=je(x);return E.persistence.runTransaction("read document","readonly",R=>E.localDocuments.getDocument(R,N))}(o,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ce(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=om(p,`Failed to get document '${u} from cache`);c.reject(v)}}(await am(r),e,t)),t.promise}function Mk(r,e,t={}){const s=new bi;return r.asyncQueue.enqueueAndForget(async()=>function(u,c,p,v,x){const N=new lb({next:R=>{N.Za(),c.enqueueAndForget(()=>YN(u,E));const C=R.docs.has(p);!C&&R.fromCache?x.reject(new Ce(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&R.fromCache&&v&&v.source==="server"?x.reject(new Ce(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(R)},error:R=>x.reject(R)}),E=new XN(em(p.path),N,{includeMetadataChanges:!0,_a:!0});return QN(u,E)}(await Gd(r),r.asyncQueue,e,t,s)),s.promise}function Z9(r,e){const t=new bi;return r.asyncQueue.enqueueAndForget(async()=>async function(o,u,c){try{const p=await Uv(o,u,!0),v=new Ik(u,p.Ts),x=v.ma(p.documents),N=v.applyChanges(x,!1);c.resolve(N.snapshot)}catch(p){const v=om(p,`Failed to execute query '${u} against cache`);c.reject(v)}}(await am(r),e,t)),t.promise}function Fk(r,e,t={}){const s=new bi;return r.asyncQueue.enqueueAndForget(async()=>function(u,c,p,v,x){const N=new lb({next:R=>{N.Za(),c.enqueueAndForget(()=>YN(u,E)),R.fromCache&&v.source==="server"?x.reject(new Ce(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(R)},error:R=>x.reject(R)}),E=new XN(p,N,{includeMetadataChanges:!0,_a:!0});return QN(u,E)}(await Gd(r),r.asyncQueue,e,t,s)),s.promise}function Q9(r,e,t){const s=new bi;return r.asyncQueue.enqueueAndForget(async()=>{try{const o=await Lk(r);s.resolve(async function(c,p,v){var x;const N=je(c),{request:E,ut:R,parent:C}=ZS(N.serializer,xS(p),v);N.connection.Fo||delete E.parent;const P=(await N.Lo("RunAggregationQuery",N.serializer.databaseId,C,E,1)).filter(M=>!!M.result);tt(P.length===1);const A=(x=P[0].result)===null||x===void 0?void 0:x.aggregateFields;return Object.keys(A).reduce((M,Y)=>(M[R[Y]]=A[Y],M),{})}(o,e,t))}catch(o){s.reject(o)}}),s.promise}function Y9(r,e){const t=new lb(e);return r.asyncQueue.enqueueAndForget(async()=>function(o,u){je(o).Y_.add(u),u.next()}(await Gd(r),t)),()=>{t.Za(),r.asyncQueue.enqueueAndForget(async()=>function(o,u){je(o).Y_.delete(u)}(await Gd(r),t))}}function J9(r,e,t,s){const o=function(c,p){let v;return v=typeof c=="string"?LS().encode(c):c,function(N,E){return new B9(N,E)}(function(N,E){if(N instanceof Uint8Array)return kC(N,E);if(N instanceof ArrayBuffer)return kC(new Uint8Array(N),E);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),p)}(t,jf(e));r.asyncQueue.enqueueAndForget(async()=>{M9(await aT(r),o,s)})}function X9(r,e){return r.asyncQueue.enqueue(async()=>function(s,o){const u=je(s);return u.persistence.runTransaction("Get named query","readonly",c=>u.Gr.getNamedQuery(c,o))}(await am(r),e))}function eB(r,e){return r.asyncQueue.enqueue(async()=>async function(s,o){const u=je(s),c=u.indexManager,p=[];return u.persistence.runTransaction("Configure indexes","readwrite",v=>c.getFieldIndexes(v).next(x=>function(E,R,C,P,A){E=[...E],R=[...R],E.sort(C),R.sort(C);const M=E.length,Y=R.length;let J=0,ee=0;for(;J<Y&&ee<M;){const pe=C(E[ee],R[J]);pe<0?A(E[ee++]):pe>0?P(R[J++]):(J++,ee++)}for(;J<Y;)P(R[J++]);for(;ee<M;)A(E[ee++])}(x,o,iF,N=>{p.push(c.addFieldIndex(v,N))},N=>{p.push(c.deleteFieldIndex(v,N))})).next(()=>se.waitFor(p)))}(await am(r),e))}function tB(r,e){return r.asyncQueue.enqueue(async()=>function(s,o){je(s).ss.zi=o}(await am(r),e))}function nB(r){return r.asyncQueue.enqueue(async()=>function(t){const s=je(t),o=s.indexManager;return s.persistence.runTransaction("Delete All Indexes","readwrite",u=>o.deleteAllFieldIndexes(u))}(await am(r)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r,e,t){if(!t)throw new Ce(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rB(r,e,t,s){if(e===!0&&s===!0)throw new Ce(fe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function AC(r){if(!Me.isDocumentKey(r))throw new Ce(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zC(r){if(Me.isDocumentKey(r))throw new Ce(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cb(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Qe()}function nn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ce(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cb(r);throw new Ce(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function $k(r,e){if(e<=0)throw new Ce(fe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bk((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PC(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Q3;switch(s.type){case"firstParty":return new eF(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ce(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=VC.get(t);s&&(Re("ComponentProvider","Removing Datastore"),VC.delete(t),s.terminate())}(this),Promise.resolve()}}function iB(r,e,t,s={}){var o;const u=(r=nn(r,Mf))._getSettings(),c=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==c&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:c,ssl:!1})),s.mockUserToken){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=vi.MOCK_USER;else{p=SM(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Ce(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vi(x)}r._authCredentials=new Y3(new Gw(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class Ur{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}}class la extends Ui{constructor(e,t,s){super(e,t,em(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new Me(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function k_(r,e,...t){if(r=yi(r),lT("collection","path",e),r instanceof Mf){const s=on.fromString(e,...t);return zC(s),new la(r,null,s)}{if(!(r instanceof Ur||r instanceof la))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(on.fromString(e,...t));return zC(s),new la(r.firestore,null,s)}}function E7(r,e){if(r=nn(r,Mf),lT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ui(r,null,function(s){return new Ba(on.emptyPath(),s)}(e))}function lN(r,e,...t){if(r=yi(r),arguments.length===1&&(e=Kw.newId()),lT("doc","path",e),r instanceof Mf){const s=on.fromString(e,...t);return AC(s),new Ur(r,null,new Me(s))}{if(!(r instanceof Ur||r instanceof la))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(on.fromString(e,...t));return AC(s),new Ur(r.firestore,r instanceof la?r.converter:null,new Me(s))}}function D7(r,e){return r=yi(r),e=yi(e),(r instanceof Ur||r instanceof la)&&(e instanceof Ur||e instanceof la)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Hk(r,e){return r=yi(r),e=yi(e),r instanceof Ui&&e instanceof Ui&&r.firestore===e.firestore&&Af(r._query,e._query)&&r.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qN(this,"async_queue_retry"),this.Vu=()=>{const s=yv();s&&Re("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=yv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=yv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new bi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ql(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),p}(s);throw zr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=ZN.createAndSchedule(this,e,t,s,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&Qe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function uN(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class sB{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=-1;class Gn extends Mf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new UC,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UC(e),this._firestoreClient=void 0,await e}}}function C7(r,e,t){t||(t="(default)");const s=_N(r,"firestore");if(s.isInitialized(t)){const o=s.getImmediate({identifier:t}),u=s.getOptions(t);if(Ku(u,e))return o;throw new Ce(fe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ce(fe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return s.initialize({options:e,instanceIdentifier:t})}function w7(r,e){const t=typeof r=="object"?r:L3(),s=typeof r=="string"?r:e||"(default)",o=_N(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=CM("firestore");u&&iB(o,...u)}return o}function vr(r){if(r._terminated)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qk(r),r._firestoreClient}function qk(r){var e,t,s;const o=r._freezeSettings(),u=function(p,v,x,N){return new kF(p,v,x,N.host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,Bk(N.experimentalLongPollingOptions),N.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new q9(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(r._componentsProvider))}function S7(r,e){co("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return Gk(r,ql.provider,{build:s=>new sT(s,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function k7(r){co("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();Gk(r,ql.provider,{build:t=>new Uk(t,e.cacheSizeBytes)})}function Gk(r,e,t){if((r=nn(r,Gn))._firestoreClient||r._terminated)throw new Ce(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new Ce(fe.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},qk(r)}function I7(r){if(r._initialized&&!r._terminated)throw new Ce(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return r._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(s){if(!oa.D())return Promise.resolve();const o=s+"main";await oa.delete(o)}(BN(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function V7(r){return function(t){const s=new bi;return t.asyncQueue.enqueueAndForget(async()=>S9(await aT(t),s)),s.promise}(vr(r=nn(r,Gn)))}function A7(r){return G9(vr(r=nn(r,Gn)))}function z7(r){return W9(vr(r=nn(r,Gn)))}function P7(r){return A3(r.app,"firestore",r._databaseId.database),r._delete()}function U7(r,e){const t=vr(r=nn(r,Gn)),s=new sB;return J9(t,r._databaseId,e,s),s}function O7(r,e){return X9(vr(r=nn(r,Gn)),e).then(t=>t?new Ui(r,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class oB{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Er.fromBase64String(e))}catch(t){throw new Ce(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ic(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function j7(){return new sc("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=/^__.*__$/;class lB{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new tm(e,this.data,t,this.fieldTransforms)}}class Wk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kk(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class mb{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Kk(this.Cu)&&aB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uB{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jf(e)}Qu(e,t,s,o=!1){return new mb({Cu:e,methodName:t,qu:s,path:ar.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ac(r){const e=r._freezeSettings(),t=jf(r._databaseId);return new uB(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hb(r,e,t,s,o,u={}){const c=r.Qu(u.merge||u.mergeFields?2:0,e,t,o);gT("Data must be an object, but it was:",c,s);const p=Yk(s,c);let v,x;if(u.merge)v=new ks(c.fieldMask),x=c.fieldTransforms;else if(u.mergeFields){const N=[];for(const E of u.mergeFields){const R=Ef(e,E,t);if(!c.contains(R))throw new Ce(fe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Xk(N,R)||N.push(R)}v=new ks(N),x=c.fieldTransforms.filter(E=>v.covers(E.field))}else v=null,x=c.fieldTransforms;return new lB(new Pi(p),v,x)}class Ff extends oc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}function Zk(r,e,t){return new mb({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cT extends oc{_toFieldTransform(e){return new Pf(e.path,new jd)}isEqual(e){return e instanceof cT}}class dT extends oc{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Zk(this,e,!0),s=this.Ku.map(u=>lc(u,t)),o=new Xu(s);return new Pf(e.path,o)}isEqual(e){return e instanceof dT&&Ku(this.Ku,e.Ku)}}class mT extends oc{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Zk(this,e,!0),s=this.Ku.map(u=>lc(u,t)),o=new ec(s);return new Pf(e.path,o)}isEqual(e){return e instanceof mT&&Ku(this.Ku,e.Ku)}}class hT extends oc{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Ld(e.serializer,SS(e.serializer,this.$u));return new Pf(e.path,t)}isEqual(e){return e instanceof hT&&this.$u===e.$u}}function fT(r,e,t,s){const o=r.Qu(1,e,t);gT("Data must be an object, but it was:",o,s);const u=[],c=Pi.empty();Yl(s,(v,x)=>{const N=fb(e,v,t);x=yi(x);const E=o.Nu(N);if(x instanceof Ff)u.push(N);else{const R=lc(x,E);R!=null&&(u.push(N),c.set(N,R))}});const p=new ks(u);return new Wk(c,p,o.fieldTransforms)}function pT(r,e,t,s,o,u){const c=r.Qu(1,e,t),p=[Ef(e,s,t)],v=[o];if(u.length%2!=0)throw new Ce(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(Ef(e,u[R])),v.push(u[R+1]);const x=[],N=Pi.empty();for(let R=p.length-1;R>=0;--R)if(!Xk(x,p[R])){const C=p[R];let P=v[R];P=yi(P);const A=c.Nu(C);if(P instanceof Ff)x.push(C);else{const M=lc(P,A);M!=null&&(x.push(C),N.set(C,M))}}const E=new ks(x);return new Wk(N,E,c.fieldTransforms)}function Qk(r,e,t,s=!1){return lc(t,r.Qu(s?4:3,e))}function lc(r,e){if(Jk(r=yi(r)))return gT("Unsupported field value:",e,r),Yk(r,e);if(r instanceof oc)return function(s,o){if(!Kk(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const u=[];let c=0;for(const p of s){let v=lc(p,o.Lu(c));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),c++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=yi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=cr.fromDate(s);return{timestampValue:Md(o.serializer,u)}}if(s instanceof cr){const u=new cr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Md(o.serializer,u)}}if(s instanceof uT)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ic)return{bytesValue:BS(o.serializer,s._byteString)};if(s instanceof Ur){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:PN(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof db)return function(c,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(v=>{if(typeof v!="number")throw p.Bu("VectorValues must only contain numeric values.");return SN(p.serializer,v)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${cb(s)}`)}(r,e)}function Yk(r,e){const t={};return aS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(r,(s,o)=>{const u=lc(o,e.Mu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Jk(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof cr||r instanceof uT||r instanceof ic||r instanceof Ur||r instanceof oc||r instanceof db)}function gT(r,e,t){if(!Jk(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=cb(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function Ef(r,e,t){if((e=yi(e))instanceof sc)return e._internalPath;if(typeof e=="string")return fb(r,e);throw Mv("Field path arguments must be of type string or ",r,!1,void 0,t)}const cB=new RegExp("[~\\*/\\[\\]]");function fb(r,e,t){if(e.search(cB)>=0)throw Mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new sc(...e.split("."))._internalPath}catch{throw Mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Mv(r,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||c)&&(v+=" (found",u&&(v+=` in field ${s}`),c&&(v+=` in document ${o}`),v+=")"),new Ce(fe.INVALID_ARGUMENT,p+r+v)}function Xk(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dB extends Df{data(){return super.data()}}function pb(r,e){return typeof e=="string"?fb(r,e):e instanceof sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ce(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vT{}class Bf extends vT{}function OC(r,e,...t){let s=[];e instanceof vT&&s.push(e),s=s.concat(t),function(u){const c=u.filter(v=>v instanceof lm).length,p=u.filter(v=>v instanceof $f).length;if(c>1||c>0&&p>0)throw new Ce(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class $f extends Bf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new $f(e,t,s)}_apply(e){const t=this._parse(e);return nI(e._query,t),new Ui(e.firestore,e.converter,Q_(e._query,t))}_parse(e){const t=ac(e.firestore);return function(u,c,p,v,x,N,E){let R;if(x.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Ce(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){MC(E,N);const C=[];for(const P of E)C.push(LC(v,u,P));R={arrayValue:{values:C}}}else R=LC(v,u,E)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||MC(E,N),R=Qk(p,c,E,N==="in"||N==="not-in");return ln.create(x,N,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jC(r,e,t){const s=e,o=pb("where",r);return $f._create(o,s,t)}class lm extends vT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lm(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let c=o;const p=u.getFlattenedFilters();for(const v of p)nI(c,v),c=Q_(c,v)}(e._query,t),new Ui(e.firestore,e.converter,Q_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function L7(...r){return r.forEach(e=>rI("or",e)),lm._create("or",r)}function M7(...r){return r.forEach(e=>rI("and",e)),lm._create("and",r)}class bT extends Bf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bT(e,t)}_apply(e){const t=function(o,u,c){if(o.startAt!==null)throw new Ce(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ce(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xf(u,c)}(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,function(o,u){const c=o.explicitOrderBy.concat([u]);return new Ba(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function F7(r,e="asc"){const t=e,s=pb("orderBy",r);return bT._create(s,t)}class gb extends Bf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new gb(e,t,s)}_apply(e){return new Ui(e.firestore,e.converter,kv(e._query,this._limit,this._limitType))}}function B7(r){return $k("limit",r),gb._create("limit",r,"F")}function $7(r){return $k("limitToLast",r),gb._create("limitToLast",r,"L")}class vb extends Bf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new vb(e,t,s)}_apply(e){const t=tI(e,this.type,this._docOrFields,this._inclusive);return new Ui(e.firestore,e.converter,function(o,u){return new Ba(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(e._query,t))}}function H7(...r){return vb._create("startAt",r,!0)}function q7(...r){return vb._create("startAfter",r,!1)}class bb extends Bf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new bb(e,t,s)}_apply(e){const t=tI(e,this.type,this._docOrFields,this._inclusive);return new Ui(e.firestore,e.converter,function(o,u){return new Ba(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(e._query,t))}}function G7(...r){return bb._create("endBefore",r,!1)}function W7(...r){return bb._create("endAt",r,!0)}function tI(r,e,t,s){if(t[0]=yi(t[0]),t[0]instanceof Df)return function(u,c,p,v,x){if(!v)throw new Ce(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const N=[];for(const E of wd(u))if(E.field.isKeyField())N.push(Yu(c,v.key));else{const R=v.data.field(E.field);if(Yv(R))throw new Ce(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(R===null){const C=E.field.canonicalString();throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}N.push(R)}return new Bl(N,x)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const o=ac(r.firestore);return function(c,p,v,x,N,E){const R=c.explicitOrderBy;if(N.length>R.length)throw new Ce(fe.INVALID_ARGUMENT,`Too many arguments provided to ${x}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let P=0;P<N.length;P++){const A=N[P];if(R[P].field.isKeyField()){if(typeof A!="string")throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${x}(), but got a ${typeof A}`);if(!CN(c)&&A.indexOf("/")!==-1)throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${x}() must be a plain document ID, but '${A}' contains a slash.`);const M=c.path.child(on.fromString(A));if(!Me.isDocumentKey(M))throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${x}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const Y=new Me(M);C.push(Yu(p,Y))}else{const M=Qk(v,x,A);C.push(M)}}return new Bl(C,E)}(r._query,r.firestore._databaseId,o,e,t,s)}}function LC(r,e,t){if(typeof(t=yi(t))=="string"){if(t==="")throw new Ce(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CN(e)&&t.indexOf("/")!==-1)throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(on.fromString(t));if(!Me.isDocumentKey(s))throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yu(r,new Me(s))}if(t instanceof Ur)return Yu(r,t._key);throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cb(t)}.`)}function MC(r,e){if(!Array.isArray(r)||r.length===0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nI(r,e){const t=function(o,u){for(const c of o)for(const p of c.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ce(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rI(r,e){if(!(e instanceof $f||e instanceof lm))throw new Ce(fe.INVALID_ARGUMENT,`Function ${r}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class iI{convertValue(e,t="none"){switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Yl(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>or(c.doubleValue));return new db(u)}convertGeoPoint(e){return new uT(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Jv(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const t=Ma(e);return new cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=on.fromString(e);tt(XS(s));const o=new Qu(s.get(1),s.get(3)),u=new Me(s.popFirst(5));return o.isEqual(t)||zr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class mB extends iI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(r){return new Tf("sum",Ef("sum",r))}function Z7(r){return new Tf("avg",Ef("average",r))}function hB(){return new Tf("count")}function Q7(r,e){var t,s;return r instanceof Tf&&e instanceof Tf&&r.aggregateType===e.aggregateType&&((t=r._internalFieldPath)===null||t===void 0?void 0:t.canonicalString())===((s=e._internalFieldPath)===null||s===void 0?void 0:s.canonicalString())}function Y7(r,e){return Hk(r.query,e.query)&&Ku(r.data(),e.data())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wd extends Df{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(pb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class xv extends Wd{data(e={}){return super.data(e)}}class Kd{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new xv(this._firestore,this._userDataWriter,s.key,s,new qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(p=>{const v=new xv(o._firestore,o._userDataWriter,p.doc.key,p.doc,new qu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const v=new xv(o._firestore,o._userDataWriter,p.doc.key,p.doc,new qu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,N=-1;return p.type!==0&&(x=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),N=c.indexOf(p.doc.key)),{type:fB(p.type),doc:v,oldIndex:x,newIndex:N}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fB(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function J7(r,e){return r instanceof Wd&&e instanceof Wd?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(r._document===null?e._document===null:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Kd&&e instanceof Kd&&r._firestore===e._firestore&&Hk(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(r){r=nn(r,Ur);const e=nn(r.firestore,Gn);return Mk(vr(e),r._key).then(t=>yT(e,r,t))}class Xl extends iI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}function e8(r){r=nn(r,Ur);const e=nn(r.firestore,Gn),t=vr(e),s=new Xl(e);return K9(t,r._key).then(o=>new Wd(e,s,r._key,o,new qu(o!==null&&o.hasLocalMutations,!0),r.converter))}function t8(r){r=nn(r,Ur);const e=nn(r.firestore,Gn);return Mk(vr(e),r._key,{source:"server"}).then(t=>yT(e,r,t))}function FC(r){r=nn(r,Ui);const e=nn(r.firestore,Gn),t=vr(e),s=new Xl(e);return eI(r._query),Fk(t,r._query).then(o=>new Kd(e,s,r,o))}function n8(r){r=nn(r,Ui);const e=nn(r.firestore,Gn),t=vr(e),s=new Xl(e);return Z9(t,r._query).then(o=>new Kd(e,s,r,o))}function r8(r){r=nn(r,Ui);const e=nn(r.firestore,Gn),t=vr(e),s=new Xl(e);return Fk(t,r._query,{source:"server"}).then(o=>new Kd(e,s,r,o))}function pB(r,e,t){r=nn(r,Ur);const s=nn(r.firestore,Gn),o=yb(r.converter,e,t);return Hf(s,[hb(ac(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,lr.none())])}function gB(r,e,t,...s){r=nn(r,Ur);const o=nn(r.firestore,Gn),u=ac(o);let c;return c=typeof(e=yi(e))=="string"||e instanceof sc?pT(u,"updateDoc",r._key,e,t,s):fT(u,"updateDoc",r._key,e),Hf(o,[c.toMutation(r._key,lr.exists(!0))])}function i8(r){return Hf(nn(r.firestore,Gn),[new nm(r._key,lr.none())])}function s8(r,e){const t=nn(r.firestore,Gn),s=lN(r),o=yb(r.converter,e);return Hf(t,[hb(ac(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,lr.exists(!1))]).then(()=>s)}function o8(r,...e){var t,s,o;r=yi(r);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||uN(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(uN(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let v,x,N;if(r instanceof Ur)x=nn(r.firestore,Gn),N=em(r._key.path),v={next:E=>{e[c]&&e[c](yT(x,r,E))},error:e[c+1],complete:e[c+2]};else{const E=nn(r,Ui);x=nn(E.firestore,Gn),N=E._query;const R=new Xl(x);v={next:C=>{e[c]&&e[c](new Kd(x,R,E,C))},error:e[c+1],complete:e[c+2]},eI(r._query)}return function(R,C,P,A){const M=new lb(A),Y=new XN(C,M,P);return R.asyncQueue.enqueueAndForget(async()=>QN(await Gd(R),Y)),()=>{M.Za(),R.asyncQueue.enqueueAndForget(async()=>YN(await Gd(R),Y))}}(vr(x),N,p,v)}function a8(r,e){return Y9(vr(r=nn(r,Gn)),uN(e)?e:{next:e})}function Hf(r,e){return function(s,o){const u=new bi;return s.asyncQueue.enqueueAndForget(async()=>D9(await aT(s),o,u)),u.promise}(vr(r),e)}function yT(r,e,t){const s=t.docs.get(e._key),o=new Xl(r);return new Wd(r,o,e._key,s,new qu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(r){return vB(r,{count:hB()})}function vB(r,e){const t=nn(r.firestore,Gn),s=vr(t),o=oS(e,(u,c)=>new US(c,u.aggregateType,u._internalFieldPath));return Q9(s,r._query,o).then(u=>function(p,v,x){const N=new Xl(p);return new oB(v,N,x)}(t,r,u))}class bB{constructor(e){this.kind="memory",this._onlineComponentProvider=ql.provider,e!=null&&e.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=Hl.provider}toJSON(){return{kind:this.kind}}}class yB{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=EB(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class xB{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Hl.provider}toJSON(){return{kind:this.kind}}}class _B{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new F9(e)}}toJSON(){return{kind:this.kind}}}function u8(){return new xB}function c8(r){return new _B(r==null?void 0:r.cacheSizeBytes)}function d8(r){return new bB(r)}function m8(r){return new yB(r)}class NB{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ql.provider,this._offlineComponentProvider={build:t=>new sT(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class TB{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ql.provider,this._offlineComponentProvider={build:t=>new Uk(t,e==null?void 0:e.cacheSizeBytes)}}}function EB(r){return new NB(r==null?void 0:r.forceOwnership)}function h8(){return new TB}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ac(e)}set(e,t,s){this._verifyNotCommitted();const o=Al(e,this._firestore),u=yb(o.converter,t,s),c=hb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,lr.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=Al(e,this._firestore);let c;return c=typeof(t=yi(t))=="string"||t instanceof sc?pT(this._dataReader,"WriteBatch.update",u._key,t,s,o):fT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Al(e,this._firestore);return this._mutations=this._mutations.concat(new nm(t._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Al(r,e){if((r=yi(r)).firestore!==e)throw new Ce(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB extends class{constructor(t,s){this._firestore=t,this._transaction=s,this._dataReader=ac(t)}get(t){const s=Al(t,this._firestore),o=new mB(this._firestore);return this._transaction.lookup([s._key]).then(u=>{if(!u||u.length!==1)return Qe();const c=u[0];if(c.isFoundDocument())return new Df(this._firestore,o,c.key,c,s.converter);if(c.isNoDocument())return new Df(this._firestore,o,s._key,null,s.converter);throw Qe()})}set(t,s,o){const u=Al(t,this._firestore),c=yb(u.converter,s,o),p=hb(this._dataReader,"Transaction.set",u._key,c,u.converter!==null,o);return this._transaction.set(u._key,p),this}update(t,s,o,...u){const c=Al(t,this._firestore);let p;return p=typeof(s=yi(s))=="string"||s instanceof sc?pT(this._dataReader,"Transaction.update",c._key,s,o,u):fT(this._dataReader,"Transaction.update",c._key,s),this._transaction.update(c._key,p),this}delete(t){const s=Al(t,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Al(e,this._firestore),s=new Xl(this._firestore);return super.get(e).then(o=>new Wd(this._firestore,s,t._key,o._document,new qu(!1,!1),t.converter))}}function p8(r,e,t){r=nn(r,Gn);const s=Object.assign(Object.assign({},DB),t);return function(u){if(u.maxAttempts<1)throw new Ce(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,c,p){const v=new bi;return u.asyncQueue.enqueueAndForget(async()=>{const x=await Lk(u);new H9(u.asyncQueue,x,p,c,v).au()}),v.promise}(vr(r),o=>e(new CB(r,o)),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(){return new Ff("deleteField")}function v8(){return new cT("serverTimestamp")}function b8(...r){return new dT("arrayUnion",r)}function y8(...r){return new mT("arrayRemove",r)}function x8(r){return new hT("increment",r)}function _8(r){return new db(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(r){return vr(r=nn(r,Gn)),new RB(r,e=>Hf(r,e))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(r,e){const t=vr(r=nn(r,Gn));if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return co("Cannot enable indexes when persistence is disabled"),Promise.resolve();const s=function(u){const c=typeof u=="string"?function(x){try{return JSON.parse(x)}catch(N){throw new Ce(fe.INVALID_ARGUMENT,"Failed to parse JSON: "+(N==null?void 0:N.message))}}(u):u,p=[];if(Array.isArray(c.indexes))for(const v of c.indexes){const x=BC(v,"collectionGroup"),N=[];if(Array.isArray(v.fields))for(const E of v.fields){const R=fb("setIndexConfiguration",BC(E,"fieldPath"));E.arrayConfig==="CONTAINS"?N.push(new Wu(R,2)):E.order==="ASCENDING"?N.push(new Wu(R,0)):E.order==="DESCENDING"&&N.push(new Wu(R,1))}p.push(new zd(zd.UNKNOWN_ID,x,N,Pd.empty()))}return p}(e);return eB(t,s)}function BC(r,e){if(typeof r[e]!="string")throw new Ce(fe.INVALID_ARGUMENT,"Missing string value for: "+e);return r[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function E8(r){var e;r=nn(r,Gn);const t=$C.get(r);if(t)return t;if(((e=vr(r)._uninitializedComponentsProvider)===null||e===void 0?void 0:e._offline.kind)!=="persistent")return null;const s=new wB(r);return $C.set(r,s),s}function D8(r){sI(r,!0)}function R8(r){sI(r,!1)}function C8(r){nB(vr(r._firestore)).then(e=>Re("deleting all persistent cache indexes succeeded")).catch(e=>co("deleting all persistent cache indexes failed",e))}function sI(r,e){tB(vr(r._firestore),e).then(t=>Re(`setting persistent cache index auto creation isEnabled=${e} succeeded`)).catch(t=>co(`setting persistent cache index auto creation isEnabled=${e} failed`,t))}const $C=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(r){var e;const t=(e=vr(nn(r.firestore,Gn))._onlineComponents)===null||e===void 0?void 0:e.datastore.serializer;return t===void 0?null:nb(t,Zi(r._query))._t}function S8(r,e){var t;const s=oS(e,(u,c)=>new US(c,u.aggregateType,u._internalFieldPath)),o=(t=vr(nn(r.firestore,Gn))._onlineComponents)===null||t===void 0?void 0:t.datastore.serializer;return o===void 0?null:ZS(o,xS(r._query),s,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return xT.instance.onExistenceFilterMismatch(e)}}class xT{constructor(){this.Uu=new Map}static get instance(){return uv||(uv=new xT,function(t){if(Iv)throw new Error("a TestingHooksSpi instance is already set");Iv=t}(uv)),uv}et(e){this.Uu.forEach(t=>t(e))}onExistenceFilterMismatch(e){const t=Symbol(),s=this.Uu;return s.set(t,e),()=>s.delete(t)}}let uv=null;(function(e,t=!0){(function(o){Xd=o})(O3),Cv(new df("firestore",(s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),p=new Gn(new J3(s.getProvider("auth-internal")),new tF(s.getProvider("app-check-internal")),function(x,N){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Ce(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(x.options.projectId,N)}(c,o),c);return u=Object.assign({useFetchStreams:t},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Cd(S2,"4.7.3",e),Cd(S2,"4.7.3","esm2017")})();class SB{constructor(){ra(this,"collectionName","registries")}async getRegistryByCaseId(e){console.log("Registry service: Getting registry for case",e);try{if(ja.demoMode)return this.getMockRegistryByCaseId(e);const t=k_(Rd,this.collectionName),s=OC(t,jC("caseId","==",e)),o=await FC(s);if(!o.empty){const u=o.docs[0];return{id:u.id,...u.data()}}return null}catch(t){throw console.error("Failed to get registry:",t),t}}async saveRegistry(e){console.log("Registry service: Saving registry",e);try{if(ja.demoMode)return this.saveMockRegistry(e);const t=cr.now(),s={...e,updatedAt:t};if(e.id){const o=lN(Rd,this.collectionName,e.id);return await gB(o,s),e.id}else{s.createdAt=t;const o=lN(k_(Rd,this.collectionName));return await pB(o,s),o.id}}catch(t){throw console.error("Failed to save registry:",t),t}}async getCompletedRegistries(){console.log("Registry service: Getting completed registries");try{if(ja.demoMode)return this.getMockCompletedRegistries();const e=k_(Rd,this.collectionName),t=OC(e,jC("isCompleted","==",!0));return(await FC(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error("Failed to get completed registries:",e),e}}async exportRegistriesToCSV(e){const t=["レジストリ番号","患者番号","年齢","性別","医療機関","ドクターカー覚知時刻","ドクターカー現着時刻","ドクターカー接触時刻","ドクターカー現発時刻","ドクターカー病着時刻","出動要請基準","発症前ADL","現場アクセス","出動番地","発生場所","GCS合計","GCS-E","GCS-V","GCS-M","血圧","脈拍","呼吸","体温","SpO2","酸素","瞳孔","対光反射","搬送先","該当分類","推定病名","ドクターカー活動の問題点"],s=e.map(u=>{var c,p,v,x,N,E,R,C,P,A,M,Y,J,ee,pe,ye,te,F,$,q,G,K,X,j,Ie,ct,nt,_e,Te,Zt,Oe,Se;return[u.registryNumber||"",u.patientNumber||"",((c=u.patientAge)==null?void 0:c.toString())||"",this.formatGender(u.patientGender),this.formatMedicalInstitution(u.medicalInstitution),this.formatTimestamp((p=u.timelineDoctorCar)==null?void 0:p.awareness),this.formatTimestamp((v=u.timelineDoctorCar)==null?void 0:v.arrival),this.formatTimestamp((x=u.timelineDoctorCar)==null?void 0:x.contact),this.formatTimestamp((N=u.timelineDoctorCar)==null?void 0:N.departure),this.formatTimestamp((E=u.timelineDoctorCar)==null?void 0:E.hospitalArrival),this.formatDispatchCriteria(u.dispatchCriteria),this.formatPreOnsetADL(u.preOnsetADL),this.formatSceneAccess(u.sceneAccess),u.dispatchVehicle||"",this.formatLocation(u.location),((P=(C=(R=u.vitals)==null?void 0:R.gcs)==null?void 0:C.total)==null?void 0:P.toString())||"",((Y=(M=(A=u.vitals)==null?void 0:A.gcs)==null?void 0:M.eye)==null?void 0:Y.toString())||"",((pe=(ee=(J=u.vitals)==null?void 0:J.gcs)==null?void 0:ee.verbal)==null?void 0:pe.toString())||"",((F=(te=(ye=u.vitals)==null?void 0:ye.gcs)==null?void 0:te.motor)==null?void 0:F.toString())||"",this.formatBloodPressure(($=u.vitals)==null?void 0:$.bloodPressure),((G=(q=u.vitals)==null?void 0:q.pulse)==null?void 0:G.toString())||"",((X=(K=u.vitals)==null?void 0:K.respiration)==null?void 0:X.toString())||"",((Ie=(j=u.vitals)==null?void 0:j.temperature)==null?void 0:Ie.toString())||"",((nt=(ct=u.vitals)==null?void 0:ct.spo2)==null?void 0:nt.toString())||"",((Te=(_e=u.vitals)==null?void 0:_e.oxygen)==null?void 0:Te.toString())||"",((Zt=u.vitals)==null?void 0:Zt.pupil)||"",((Oe=u.vitals)==null?void 0:Oe.lightReflex)||"",this.formatDestination(u.destination),u.category||"",((Se=u.estimatedDiagnosis)==null?void 0:Se.join("; "))||"",u.activityProblems||""]});return[t.join(","),...s.map(u=>u.map(c=>`"${c}"`).join(","))].join(`
`)}getMockRegistryByCaseId(e){const t=localStorage.getItem(`registry_${e}`);return t?JSON.parse(t):null}saveMockRegistry(e){const t=e.id||`registry_${Date.now()}`,s={...e,id:t,updatedAt:{toDate:()=>new Date}};return localStorage.setItem(`registry_${e.caseId}`,JSON.stringify(s)),t}getMockCompletedRegistries(){const e=[];for(let t=0;t<localStorage.length;t++){const s=localStorage.key(t);if(s!=null&&s.startsWith("registry_")){const o=JSON.parse(localStorage.getItem(s));o.isCompleted&&e.push(o)}}return e}formatTimestamp(e){if(!e)return"";try{return(e instanceof Date?e:e.toDate?e.toDate():new Date(e)).toLocaleString("ja-JP")}catch{return""}}formatGender(e){switch(e){case"male":return"男性";case"female":return"女性";default:return""}}formatMedicalInstitution(e){switch(e){case"disaster":return"災害";case"medical-dental":return"医科歯科";case"nagayama":return"永山";case"sengaki":return"千駄木";default:return""}}formatDispatchCriteria(e){var s,o,u,c,p;if(!e)return"";const t=[];if(e.category1&&t.push("I心停止"),(s=e.category2)!=null&&s.selected){const v=[];e.category2.breathing&&v.push("呼吸異常"),e.category2.circulation&&v.push("循環異常"),e.category2.consciousness&&v.push("意識異常"),t.push(`II心停止寸前(${v.join(",")})`)}if((o=e.category3)!=null&&o.selected){const v=[];e.category3.fall&&v.push("転落墜落"),e.category3.traffic&&v.push("交通事故"),e.category3.weapon&&v.push("銃創刺創"),e.category3.amputation&&v.push("四肢切断"),e.category3.trapped&&v.push("要救助挟まり"),e.category3.burn&&v.push("重度熱傷"),e.category3.multiple&&v.push("多数傷者"),t.push(`III外因(${v.join(",")})`)}if((u=e.category4)!=null&&u.selected){const v=[];e.category4.stroke&&v.push("脳卒中"),e.category4.cardiac&&v.push("心疾患"),e.category4.other&&v.push("その他"),t.push(`IV内因(${v.join(",")})`)}if((c=e.category5)!=null&&c.selected){const v=[];e.category5.fireCommand&&v.push("警防本部判断"),t.push(`Vその他(${v.join(",")})`)}if((p=e.category6)!=null&&p.selected){const v=[];e.category6.paramedic&&v.push("救急隊長判断"),t.push(`VIDMAT(${v.join(",")})`)}return t.join(", ")}formatPreOnsetADL(e){switch(e){case"independent":return"自立";case"care-required":return"要介護";case"unknown":return"不明";default:return""}}formatSceneAccess(e){switch(e){case"easy":return"容易";case"rescue-needed":return"レスキュー隊必要";case"difficult":return"困難";case"unknown":return"不明";default:return""}}formatLocation(e){if(!e)return"";const s={"home-house":"自宅（戸建）","home-apartment-low":"自宅（共同住宅10F以下）","home-apartment-high":"自宅（共同住宅11F以上）",station:"駅",commercial:"商業施設",office:"オフィス",factory:"工場",road:"路上",school:"学校",other:"その他"}[e.type]||"";return e.details?`${s} (${e.details})`:s}formatBloodPressure(e){return!e||!e.systolic||!e.diastolic?"":`${e.systolic}/${e.diastolic}`}formatDestination(e){return e&&{"own-tertiary":"自院三次","own-secondary":"自院二次","other-tertiary":"他院三次","other-secondary":"他院二次","cancel-before-arrival":"現着前キャンセル","cancel-mild":"軽症キャンセル","social-death":"社会死",other:"その他"}[e.type]||""}}const Fv=new SB,Bv=[{id:"member-001",name:"田中 太郎",role:"doctor",qualification:"救急科専門医",employeeId:"D001",department:"救急科"},{id:"member-002",name:"佐藤 花子",role:"doctor",qualification:"内科専門医",employeeId:"D002",department:"内科"},{id:"member-003",name:"山田 一郎",role:"doctor",qualification:"外科専門医",employeeId:"D003",department:"外科"},{id:"member-004",name:"高橋 美咲",role:"emergency-nurse",qualification:"救急看護認定看護師",employeeId:"N001",department:"救急科"},{id:"member-005",name:"鈴木 健太",role:"emergency-nurse",qualification:"ICLSインストラクター",employeeId:"N002",department:"救急科"},{id:"member-006",name:"伊藤 雅人",role:"resident",qualification:"初期研修医2年目",employeeId:"R001",department:"研修医科"},{id:"member-007",name:"小川 麻衣",role:"resident",qualification:"後期研修医1年目",employeeId:"R002",department:"救急科"},{id:"member-008",name:"中村 由美",role:"nurse",qualification:"看護師",employeeId:"N003",department:"手術室"},{id:"member-009",name:"加藤 直樹",role:"nurse",qualification:"看護師",employeeId:"N004",department:"ICU"},{id:"member-010",name:"渡辺 恵子",role:"nurse",qualification:"看護師",employeeId:"N005",department:"病棟"},{id:"member-011",name:"松本 隆",role:"other",qualification:"臨床工学技士",employeeId:"T001",department:"ME室"},{id:"member-012",name:"林 真理子",role:"other",qualification:"薬剤師",employeeId:"P001",department:"薬剤部"}],I_={doctor:"医師","emergency-nurse":"救命救急師",resident:"研修医",nurse:"看護師",other:"その他"},HC={doctor:"bg-red-100 text-red-800","emergency-nurse":"bg-orange-100 text-orange-800",resident:"bg-blue-100 text-blue-800",nurse:"bg-green-100 text-green-800",other:"bg-gray-100 text-gray-800"},kB=r=>Bv.filter(e=>e.role===r),IB=r=>{const e=r.toLowerCase();return Bv.filter(t=>{var s,o;return t.name.toLowerCase().includes(e)||((s=t.qualification)==null?void 0:s.toLowerCase().includes(e))||((o=t.department)==null?void 0:o.toLowerCase().includes(e))})},VB=({selectedMembers:r,onMembersChange:e,className:t=""})=>{const[s,o]=Q.useState(!1),[u,c]=Q.useState(""),[p,v]=Q.useState([]),[x,N]=Q.useState("all");Q.useEffect(()=>{let A=Bv;x!=="all"&&(A=kB(x)),u&&(A=IB(u));const M=r.map(Y=>Y.memberId);A=A.filter(Y=>!M.includes(Y.id)),v(A)},[u,x,r]);const E=A=>{const M={memberId:A.id,member:A,arrivalTime:{toDate:()=>new Date},primaryRole:A.role==="doctor"?"主治医":A.role==="emergency-nurse"?"主担当看護師":"支援"};e([...r,M]),o(!1),c("")},R=A=>{e(r.filter(M=>M.memberId!==A))},C=(A,M)=>{const Y=r.map(J=>J.memberId===A?{...J,...M}:J);e(Y)},P=A=>A?(A.toDate?A.toDate():new Date(A)).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"";return h.jsxDEV("div",{className:`space-y-4 ${t}`,children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"現場活動メンバー"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:75,columnNumber:9},globalThis),r.length>0&&h.jsxDEV("div",{className:"mb-4 space-y-2",children:r.map(A=>h.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3 border",children:[h.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("span",{className:"font-medium",children:A.member.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:86,columnNumber:21},globalThis),h.jsxDEV("span",{className:`px-2 py-1 text-xs rounded-full ${HC[A.member.role]}`,children:I_[A.member.role]},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:87,columnNumber:21},globalThis),A.member.qualification&&h.jsxDEV("span",{className:"text-xs text-gray-500",children:A.member.qualification},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:91,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:85,columnNumber:19},globalThis),h.jsxDEV("button",{type:"button",onClick:()=>R(A.memberId),className:"text-red-600 hover:text-red-800 text-sm",children:"削除"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:96,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:84,columnNumber:17},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"text-xs text-gray-500",children:"現場での役割"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:107,columnNumber:21},globalThis),h.jsxDEV("input",{type:"text",value:A.primaryRole,onChange:M=>C(A.memberId,{primaryRole:M.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"例：主治医、主担当看護師"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:108,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:106,columnNumber:19},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"text-xs text-gray-500",children:"到着時刻"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:117,columnNumber:21},globalThis),h.jsxDEV("input",{type:"time",value:P(A.arrivalTime),onChange:M=>{const[Y,J]=M.target.value.split(":"),ee=new Date;ee.setHours(parseInt(Y),parseInt(J),0,0),C(A.memberId,{arrivalTime:{toDate:()=>ee}})},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:118,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:116,columnNumber:19},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"text-xs text-gray-500",children:"特記事項"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:133,columnNumber:21},globalThis),h.jsxDEV("input",{type:"text",value:A.notes||"",onChange:M=>C(A.memberId,{notes:M.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"特記事項があれば入力"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:134,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:132,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:105,columnNumber:17},globalThis)]},A.memberId,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:83,columnNumber:15},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:81,columnNumber:11},globalThis),h.jsxDEV("div",{className:"relative",children:[h.jsxDEV("button",{type:"button",onClick:()=>o(!s),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-left bg-white hover:bg-gray-50 flex items-center justify-between",children:[h.jsxDEV("span",{className:"text-gray-500",children:"メンバーを追加..."},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:155,columnNumber:13},globalThis),h.jsxDEV("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:157,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:156,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:150,columnNumber:11},globalThis),s&&h.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:[h.jsxDEV("div",{className:"p-3 border-b border-gray-200",children:[h.jsxDEV("input",{type:"text",value:u,onChange:A=>c(A.target.value),placeholder:"名前・資格・部署で検索...",className:"w-full px-3 py-2 border border-gray-300 rounded mb-2 text-sm"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:166,columnNumber:17},globalThis),h.jsxDEV("div",{className:"flex space-x-1 overflow-x-auto",children:[h.jsxDEV("button",{type:"button",onClick:()=>N("all"),className:`px-2 py-1 text-xs rounded whitespace-nowrap ${x==="all"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:"全て"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:176,columnNumber:19},globalThis),Object.entries(I_).map(([A,M])=>h.jsxDEV("button",{type:"button",onClick:()=>N(A),className:`px-2 py-1 text-xs rounded whitespace-nowrap ${x===A?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:M},A,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:186,columnNumber:21},globalThis))]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:175,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:164,columnNumber:15},globalThis),h.jsxDEV("div",{className:"max-h-64 overflow-y-auto",children:p.length===0?h.jsxDEV("div",{className:"p-4 text-center text-gray-500 text-sm",children:r.length===Bv.length?"全てのメンバーが選択済みです":"条件に合うメンバーがいません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:203,columnNumber:19},globalThis):h.jsxDEV("div",{className:"py-1",children:p.map(A=>h.jsxDEV("button",{type:"button",onClick:()=>E(A),className:"w-full px-4 py-2 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none",children:h.jsxDEV("div",{className:"flex items-center justify-between",children:h.jsxDEV("div",{children:[h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV("span",{className:"font-medium text-sm",children:A.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:220,columnNumber:31},globalThis),h.jsxDEV("span",{className:`px-2 py-1 text-xs rounded-full ${HC[A.role]}`,children:I_[A.role]},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:221,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:219,columnNumber:29},globalThis),h.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:[A.qualification," • ",A.department]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:225,columnNumber:29},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:218,columnNumber:27},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:217,columnNumber:25},globalThis)},A.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:211,columnNumber:23},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:209,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:201,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:163,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:149,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:74,columnNumber:7},globalThis),s&&h.jsxDEV("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:242,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/TeamMemberSelector.tsx",lineNumber:73,columnNumber:5},globalThis)},AB=()=>{const{caseId:r}=nw(),e=Wl(),{currentCase:t}=Hv(),{userInfo:s}=Kl(),[o,u]=Q.useState(!1),[c,p]=Q.useState(!1),[v,x]=Q.useState({}),[N,E]=Q.useState("basic");Q.useEffect(()=>{r&&R()},[r]);const R=async()=>{if(r){u(!0);try{const M=await Fv.getRegistryByCaseId(r);if(M)x(M);else{const Y=new Date,J=ee=>({toDate:()=>{const pe=new Date(Y);return pe.setMinutes(pe.getMinutes()+ee),pe}});x({caseId:r,registryNumber:C(),createdBy:(s==null?void 0:s.uid)||"",isCompleted:!1,teamMembers:[],timelineEms:{awareness:J(0),arrival:J(10),contact:J(15),departure:J(45),hospitalArrival:J(60)},timelineDoctorCar:{awareness:J(5),arrival:J(15),contact:J(20),departure:J(50),hospitalArrival:J(65)}})}}catch(M){console.error("Failed to load registry:",M)}finally{u(!1)}}},C=()=>{const M=new Date;return`DCR-${M.getFullYear()}${String(M.getMonth()+1).padStart(2,"0")}${String(M.getDate()).padStart(2,"0")}-${String(M.getHours()).padStart(2,"0")}${String(M.getMinutes()).padStart(2,"0")}`},P=M=>{x(Y=>({...Y,teamMembers:M}))},A=async(M=!1)=>{p(!0);try{const Y={...v,isCompleted:M,updatedBy:(s==null?void 0:s.uid)||"",updatedAt:{toDate:()=>new Date}};M&&(Y.submittedAt={toDate:()=>new Date}),await Fv.saveRegistry(Y),M?(alert("レジストリの提出が完了しました"),e(`/cases/${r}`)):alert("保存しました")}catch(Y){console.error("Failed to save registry:",Y),alert("保存に失敗しました")}finally{p(!1)}};return o?h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxDEV(zo,{size:"lg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:119,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:118,columnNumber:7},globalThis):h.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[h.jsxDEV("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[h.jsxDEV("div",{className:"flex items-center space-x-4",children:[h.jsxDEV("button",{onClick:()=>e(`/cases/${r}`),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsxDEV("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:136,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:135,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:131,columnNumber:15},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"ドクターカーレジストリ"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:141,columnNumber:17},globalThis),h.jsxDEV("p",{className:"text-sm text-gray-500",children:[t==null?void 0:t.caseName," | レジストリ番号: ",v.registryNumber]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:142,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:140,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:130,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV(an,{variant:"outline",size:"sm",onClick:()=>A(!1),disabled:c,children:"一時保存"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:149,columnNumber:15},globalThis),h.jsxDEV(an,{size:"sm",onClick:()=>A(!0),disabled:c,children:"提出"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:157,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:148,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:129,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:128,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:127,columnNumber:7},globalThis),h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:h.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:[h.jsxDEV("div",{className:"border-b border-gray-200",children:h.jsxDEV("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"basic",label:"I 基本情報"},{id:"team",label:"現場メンバー"},{id:"timeline",label:"時間経過・バイタル"},{id:"vitals",label:"搬送先・分類"},{id:"category",label:"II 分類別詳細"},{id:"hospital",label:"III 院内経過"}].map(M=>h.jsxDEV("button",{onClick:()=>E(M.id),className:`py-3 px-1 border-b-2 font-medium text-sm ${N===M.id?"border-medical-primary text-medical-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:M.label},M.id,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:182,columnNumber:17},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:173,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:172,columnNumber:11},globalThis),h.jsxDEV("div",{className:"p-6",children:[N==="basic"&&h.jsxDEV(zB,{registry:v,setRegistry:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:199,columnNumber:39},globalThis),N==="team"&&h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"現場活動メンバー"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:202,columnNumber:17},globalThis),h.jsxDEV("p",{className:"text-sm text-gray-600 mb-6",children:"現場に出動したメンバーを選択し、到着時刻や役割を記録してください。"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:203,columnNumber:17},globalThis),h.jsxDEV(VB,{selectedMembers:v.teamMembers||[],onMembersChange:P},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:206,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:201,columnNumber:15},globalThis),N==="timeline"&&h.jsxDEV(PB,{registry:v,setRegistry:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:212,columnNumber:42},globalThis),N==="vitals"&&h.jsxDEV(UB,{registry:v,setRegistry:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:213,columnNumber:40},globalThis),N==="category"&&h.jsxDEV(OB,{registry:v,setRegistry:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:214,columnNumber:42},globalThis),N==="hospital"&&h.jsxDEV(BB,{registry:v,setRegistry:x},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:215,columnNumber:42},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:198,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:171,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:170,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:125,columnNumber:5},globalThis)},zB=({registry:r,setRegistry:e})=>{var t,s,o,u,c,p,v,x,N,E,R,C,P,A,M,Y,J,ee,pe,ye;return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"患者基本情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:232,columnNumber:9},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"患者番号"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:235,columnNumber:13},globalThis),h.jsxDEV(We,{type:"text",value:r.patientNumber||"",onChange:te=>e({...r,patientNumber:te.target.value})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:238,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:234,columnNumber:11},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"患者年齢"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:245,columnNumber:13},globalThis),h.jsxDEV(We,{type:"number",value:r.patientAge||"",onChange:te=>e({...r,patientAge:parseInt(te.target.value)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:248,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:244,columnNumber:11},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"性別"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:255,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex space-x-4 mt-1",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"gender",value:"male",checked:r.patientGender==="male",onChange:()=>e({...r,patientGender:"male"}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:260,columnNumber:17},globalThis),"男"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:259,columnNumber:15},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"gender",value:"female",checked:r.patientGender==="female",onChange:()=>e({...r,patientGender:"female"}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:271,columnNumber:17},globalThis),"女"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:270,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:258,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:254,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:233,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:231,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"医療機関情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:288,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[{value:"disaster",label:"災害"},{value:"medical-dental",label:"医科歯科"},{value:"nagayama",label:"永山"},{value:"sengaki",label:"千駄木"}].map(te=>h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"medicalInstitution",value:te.value,checked:r.medicalInstitution===te.value,onChange:F=>e({...r,medicalInstitution:F.target.value}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:297,columnNumber:15},globalThis),te.label]},te.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:296,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:289,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:287,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"ドクターカー出動要請基準"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:313,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-4",children:h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((t=r.dispatchCriteria)==null?void 0:t.category1)||!1,onChange:te=>e({...r,dispatchCriteria:{...r.dispatchCriteria,category1:te.target.checked}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:318,columnNumber:13},globalThis),h.jsxDEV("span",{className:"font-medium",children:"I 心停止"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:330,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:317,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:316,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-4",children:[h.jsxDEV("label",{className:"flex items-center mb-2",children:[h.jsxDEV("input",{type:"checkbox",checked:((o=(s=r.dispatchCriteria)==null?void 0:s.category2)==null?void 0:o.selected)||!1,onChange:te=>{var F;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category2:{...(F=r.dispatchCriteria)==null?void 0:F.category2,selected:te.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:337,columnNumber:13},globalThis),h.jsxDEV("span",{className:"font-medium",children:"II 心停止寸前を疑う"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:352,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:336,columnNumber:11},globalThis),h.jsxDEV("div",{className:"ml-6 space-y-2",children:[{key:"breathing",label:"① 呼吸の異常"},{key:"circulation",label:"② 循環の異常"},{key:"consciousness",label:"③ 意識の異常"}].map(te=>{var F,$;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:(($=(F=r.dispatchCriteria)==null?void 0:F.category2)==null?void 0:$[te.key])||!1,onChange:q=>{var G;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category2:{...(G=r.dispatchCriteria)==null?void 0:G.category2,[te.key]:q.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:361,columnNumber:17},globalThis),te.label]},te.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:360,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:354,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:335,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-4",children:[h.jsxDEV("label",{className:"flex items-center mb-2",children:[h.jsxDEV("input",{type:"checkbox",checked:((c=(u=r.dispatchCriteria)==null?void 0:u.category3)==null?void 0:c.selected)||!1,onChange:te=>{var F;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category3:{...(F=r.dispatchCriteria)==null?void 0:F.category3,selected:te.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:385,columnNumber:13},globalThis),h.jsxDEV("span",{className:"font-medium",children:"III 外因によるもの"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:400,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:384,columnNumber:11},globalThis),h.jsxDEV("div",{className:"ml-6 space-y-2",children:[{key:"fall",label:"① 転落・墜落"},{key:"traffic",label:"② 交通事故"},{key:"weapon",label:"③ 銃創・刺創"},{key:"amputation",label:"④ 四肢切断"},{key:"trapped",label:"⑤ 要救助の挟まり"},{key:"burn",label:"⑥ 重度熱傷"},{key:"multiple",label:"⑦ 多数傷者発生"}].map(te=>{var F,$;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:(($=(F=r.dispatchCriteria)==null?void 0:F.category3)==null?void 0:$[te.key])||!1,onChange:q=>{var G;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category3:{...(G=r.dispatchCriteria)==null?void 0:G.category3,[te.key]:q.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:413,columnNumber:17},globalThis),te.label]},te.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:412,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:402,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:383,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-4",children:[h.jsxDEV("label",{className:"flex items-center mb-2",children:[h.jsxDEV("input",{type:"checkbox",checked:((v=(p=r.dispatchCriteria)==null?void 0:p.category4)==null?void 0:v.selected)||!1,onChange:te=>{var F;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category4:{...(F=r.dispatchCriteria)==null?void 0:F.category4,selected:te.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:437,columnNumber:13},globalThis),h.jsxDEV("span",{className:"font-medium",children:"IV 内因によるもの"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:452,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:436,columnNumber:11},globalThis),h.jsxDEV("div",{className:"ml-6 space-y-2",children:[{key:"stroke",label:"① 脳卒中疑い・意識障害"},{key:"cardiac",label:"② 心疾患疑い"},{key:"other",label:"③ その他"}].map(te=>{var F,$;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:(($=(F=r.dispatchCriteria)==null?void 0:F.category4)==null?void 0:$[te.key])||!1,onChange:q=>{var G;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category4:{...(G=r.dispatchCriteria)==null?void 0:G.category4,[te.key]:q.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:461,columnNumber:17},globalThis),te.label]},te.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:460,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:454,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:435,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-4",children:[h.jsxDEV("label",{className:"flex items-center mb-2",children:[h.jsxDEV("input",{type:"checkbox",checked:((N=(x=r.dispatchCriteria)==null?void 0:x.category5)==null?void 0:N.selected)||!1,onChange:te=>{var F;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category5:{...(F=r.dispatchCriteria)==null?void 0:F.category5,selected:te.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:485,columnNumber:13},globalThis),h.jsxDEV("span",{className:"font-medium",children:"V その他"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:500,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:484,columnNumber:11},globalThis),h.jsxDEV("div",{className:"ml-6 space-y-2",children:h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((R=(E=r.dispatchCriteria)==null?void 0:E.category5)==null?void 0:R.fireCommand)||!1,onChange:te=>{var F;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category5:{...(F=r.dispatchCriteria)==null?void 0:F.category5,fireCommand:te.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:504,columnNumber:15},globalThis),"① 警防本部が効果的と判断したもの"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:503,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:502,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:483,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-4",children:[h.jsxDEV("label",{className:"flex items-center mb-2",children:[h.jsxDEV("input",{type:"checkbox",checked:((P=(C=r.dispatchCriteria)==null?void 0:C.category6)==null?void 0:P.selected)||!1,onChange:te=>{var F;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category6:{...(F=r.dispatchCriteria)==null?void 0:F.category6,selected:te.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:527,columnNumber:13},globalThis),h.jsxDEV("span",{className:"font-medium",children:"VI DMAT"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:542,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:526,columnNumber:11},globalThis),h.jsxDEV("div",{className:"ml-6 space-y-2",children:h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((M=(A=r.dispatchCriteria)==null?void 0:A.category6)==null?void 0:M.paramedic)||!1,onChange:te=>{var F;return e({...r,dispatchCriteria:{...r.dispatchCriteria,category6:{...(F=r.dispatchCriteria)==null?void 0:F.category6,paramedic:te.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:546,columnNumber:15},globalThis),"② 救急隊現着時救急隊長が効果的と判断したもの"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:545,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:544,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:525,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:312,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"発症前のADL"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:569,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[{value:"independent",label:"自立"},{value:"care-required",label:"要介護"},{value:"unknown",label:"不明"}].map(te=>h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"preOnsetADL",value:te.value,checked:r.preOnsetADL===te.value,onChange:F=>e({...r,preOnsetADL:F.target.value}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:577,columnNumber:15},globalThis),te.label]},te.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:576,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:570,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:568,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"現場へのアクセス"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:593,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[{value:"easy",label:"容易（車を降りて直ぐ）"},{value:"rescue-needed",label:"レスキュー隊が必要"},{value:"difficult",label:"困難で有るがレスキュー隊は不要"},{value:"unknown",label:"不明"}].map(te=>h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"sceneAccess",value:te.value,checked:r.sceneAccess===te.value,onChange:F=>e({...r,sceneAccess:F.target.value}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:602,columnNumber:15},globalThis),te.label]},te.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:601,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:594,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:592,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"PA連携（ポンプ隊と救急隊の連携）の有無"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:618,columnNumber:9},globalThis),h.jsxDEV("div",{className:"flex flex-wrap gap-4 mb-4",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"paCooperation",value:"present",checked:((Y=r.paCooperation)==null?void 0:Y.present)===!0,onChange:()=>e({...r,paCooperation:{...r.paCooperation,present:!0}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:621,columnNumber:13},globalThis),"有"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:620,columnNumber:11},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"paCooperation",value:"absent",checked:((J=r.paCooperation)==null?void 0:J.present)===!1,onChange:()=>e({...r,paCooperation:{...r.paCooperation,present:!1}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:635,columnNumber:13},globalThis),"無"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:634,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:619,columnNumber:9},globalThis),((ee=r.paCooperation)==null?void 0:ee.present)&&h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ポンプ隊現着時間"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:651,columnNumber:13},globalThis),h.jsxDEV(We,{type:"datetime-local",value:((pe=r.paCooperation)==null?void 0:pe.pumpArrivalTime)||"",onChange:te=>e({...r,paCooperation:{...r.paCooperation,pumpArrivalTime:te.target.value}})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:654,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:650,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:617,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"出動番地"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:671,columnNumber:9},globalThis),h.jsxDEV(We,{type:"text",value:r.dispatchVehicle||"",onChange:te=>e({...r,dispatchVehicle:te.target.value}),placeholder:"出動番地を入力してください"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:672,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:670,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"発生場所"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:682,columnNumber:9},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[{value:"home-house",label:"自宅（戸建）"},{value:"home-apartment-low",label:"自宅（共同住宅10F以下）"},{value:"home-apartment-high",label:"自宅（共同住宅11F以上）"},{value:"station",label:"駅"},{value:"commercial",label:"商業施設"},{value:"office",label:"オフィス"},{value:"factory",label:"工場"},{value:"road",label:"路上"},{value:"school",label:"学校"},{value:"other",label:"その他"}].map(te=>{var F;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"locationType",value:te.value,checked:((F=r.location)==null?void 0:F.type)===te.value,onChange:$=>e({...r,location:{...r.location,type:$.target.value}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:697,columnNumber:15},globalThis),te.label]},te.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:696,columnNumber:13},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:683,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"発生場所—その他詳細"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:713,columnNumber:11},globalThis),h.jsxDEV(We,{type:"text",value:((ye=r.location)==null?void 0:ye.details)||"",onChange:te=>e({...r,location:{...r.location,details:te.target.value}})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:716,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:712,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:681,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:229,columnNumber:5},globalThis)},PB=({registry:r,setRegistry:e})=>{var o,u,c,p,v,x,N,E,R,C,P,A,M,Y,J,ee,pe,ye,te,F,$,q,G,K,X,j,Ie,ct,nt;const t=(_e=0)=>{const Te=new Date;return Te.setMinutes(Te.getMinutes()+_e),Te.toISOString().slice(0,16)},s=(_e,Te,Zt=0)=>{if(_e!=null&&_e[Te])try{return(_e[Te].toDate?_e[Te].toDate():new Date(_e[Te])).toISOString().slice(0,16)}catch{return t(Zt)}return t(Zt)};return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"時間経過"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:758,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxDEV("p",{className:"text-sm text-blue-700",children:"💡 デフォルトで本日の日付が設定されています。必要に応じて日時を修正してください。"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:760,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:759,columnNumber:9},globalThis),h.jsxDEV("div",{className:"overflow-x-auto",children:h.jsxDEV("table",{className:"min-w-full border border-gray-300",children:[h.jsxDEV("thead",{children:h.jsxDEV("tr",{className:"bg-gray-50",children:[h.jsxDEV("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"項目"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:768,columnNumber:17},globalThis),h.jsxDEV("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"救急隊"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:769,columnNumber:17},globalThis),h.jsxDEV("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"ドクターカー"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:770,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:767,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:766,columnNumber:13},globalThis),h.jsxDEV("tbody",{children:[{key:"awareness",label:"覚知日時",defaultOffset:0},{key:"arrival",label:"現着日時",defaultOffset:10},{key:"contact",label:"接触日時",defaultOffset:15},{key:"departure",label:"現発日時",defaultOffset:45},{key:"hospitalArrival",label:"病着日時",defaultOffset:60}].map(_e=>h.jsxDEV("tr",{children:[h.jsxDEV("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:_e.label},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:782,columnNumber:19},globalThis),h.jsxDEV("td",{className:"border border-gray-300 px-4 py-2",children:h.jsxDEV(We,{type:"datetime-local",className:"w-full",value:s(r.timelineEms,_e.key,_e.defaultOffset),onChange:Te=>e({...r,timelineEms:{...r.timelineEms,[_e.key]:new Date(Te.target.value)}})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:784,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:783,columnNumber:19},globalThis),h.jsxDEV("td",{className:"border border-gray-300 px-4 py-2",children:h.jsxDEV(We,{type:"datetime-local",className:"w-full",value:s(r.timelineDoctorCar,_e.key,_e.defaultOffset+5),onChange:Te=>e({...r,timelineDoctorCar:{...r.timelineDoctorCar,[_e.key]:new Date(Te.target.value)}})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:798,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:797,columnNumber:19},globalThis)]},_e.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:781,columnNumber:17},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:773,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:765,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:764,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[h.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"活動時間（自動計算）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:819,columnNumber:11},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-gray-600",children:"総活動時間（覚知から病院収容まで）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:822,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",value:r.totalActivityTime||"",onChange:_e=>e({...r,totalActivityTime:parseInt(_e.target.value)}),placeholder:"分"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:823,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:821,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-gray-600",children:"医師接触までの時間"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:831,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",value:r.doctorContactTime||"",onChange:_e=>e({...r,doctorContactTime:parseInt(_e.target.value)}),placeholder:"分"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:832,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:830,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-gray-600",children:"現場活動時間"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:840,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",value:r.sceneActivityTime||"",onChange:_e=>e({...r,sceneActivityTime:parseInt(_e.target.value)}),placeholder:"分"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:841,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:839,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:820,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:818,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:757,columnNumber:7},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"患者バイタル"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:854,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-6",children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"GCS（Glasgow Coma Scale）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:858,columnNumber:11},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GCS 合計"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:861,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",min:"3",max:"15",value:((u=(o=r.vitals)==null?void 0:o.gcs)==null?void 0:u.total)||"",onChange:_e=>{var Te;return e({...r,vitals:{...r.vitals,gcs:{...(Te=r.vitals)==null?void 0:Te.gcs,total:parseInt(_e.target.value)||0}}})},placeholder:"3-15"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:864,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:860,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E（開眼）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:880,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"4",value:((p=(c=r.vitals)==null?void 0:c.gcs)==null?void 0:p.eye)||"",onChange:_e=>{var Te;return e({...r,vitals:{...r.vitals,gcs:{...(Te=r.vitals)==null?void 0:Te.gcs,eye:parseInt(_e.target.value)||0}}})},placeholder:"1-4"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:883,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:879,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"V（言語）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:899,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"5",value:((x=(v=r.vitals)==null?void 0:v.gcs)==null?void 0:x.verbal)||"",onChange:_e=>{var Te;return e({...r,vitals:{...r.vitals,gcs:{...(Te=r.vitals)==null?void 0:Te.gcs,verbal:parseInt(_e.target.value)||0}}})},placeholder:"1-5"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:902,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:898,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M（運動）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:918,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"6",value:((E=(N=r.vitals)==null?void 0:N.gcs)==null?void 0:E.motor)||"",onChange:_e=>{var Te;return e({...r,vitals:{...r.vitals,gcs:{...(Te=r.vitals)==null?void 0:Te.gcs,motor:parseInt(_e.target.value)||0}}})},placeholder:"1-6"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:921,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:917,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:859,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:857,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-6",children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"バイタルサイン"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:941,columnNumber:11},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"血圧（収縮期/拡張期）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:944,columnNumber:15},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV(We,{type:"number",value:((C=(R=r.vitals)==null?void 0:R.bloodPressure)==null?void 0:C.systolic)||"",onChange:_e=>{var Te;return e({...r,vitals:{...r.vitals,bloodPressure:{...(Te=r.vitals)==null?void 0:Te.bloodPressure,systolic:parseInt(_e.target.value)||0}}})},placeholder:"収縮期"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:948,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-gray-500",children:"/"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:960,columnNumber:17},globalThis),h.jsxDEV(We,{type:"number",value:((A=(P=r.vitals)==null?void 0:P.bloodPressure)==null?void 0:A.diastolic)||"",onChange:_e=>{var Te;return e({...r,vitals:{...r.vitals,bloodPressure:{...(Te=r.vitals)==null?void 0:Te.bloodPressure,diastolic:parseInt(_e.target.value)||0}}})},placeholder:"拡張期"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:961,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:947,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:943,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"脈拍（回/分）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:976,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",value:((M=r.vitals)==null?void 0:M.pulse)||"",onChange:_e=>e({...r,vitals:{...r.vitals,pulse:parseInt(_e.target.value)||0}}),placeholder:"例：80"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:979,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:975,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"呼吸（回/分）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:993,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",value:((Y=r.vitals)==null?void 0:Y.respiration)||"",onChange:_e=>e({...r,vitals:{...r.vitals,respiration:parseInt(_e.target.value)||0}}),placeholder:"例：20"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:996,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:992,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"体温（℃）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1010,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((J=r.vitals)==null?void 0:J.temperature)||"",onChange:_e=>e({...r,vitals:{...r.vitals,temperature:parseFloat(_e.target.value)||0}}),placeholder:"例：36.5"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1013,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1009,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SpO2（%）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1028,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"100",value:((ee=r.vitals)==null?void 0:ee.spo2)||"",onChange:_e=>e({...r,vitals:{...r.vitals,spo2:parseInt(_e.target.value)||0}}),placeholder:"例：98"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1031,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1027,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"酸素（L/分）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1047,columnNumber:15},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((pe=r.vitals)==null?void 0:pe.oxygen)||"",onChange:_e=>e({...r,vitals:{...r.vitals,oxygen:parseFloat(_e.target.value)||0}}),placeholder:"例：2.0"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1050,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1046,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:942,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:940,columnNumber:9},globalThis),h.jsxDEV("div",{className:"mb-6",children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"神経学的所見"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1069,columnNumber:11},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"瞳孔（右, 左）mm"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1072,columnNumber:15},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV(We,{type:"text",value:((F=(te=(ye=r.vitals)==null?void 0:ye.pupil)==null?void 0:te.split(",")[0])==null?void 0:F.trim())||"",onChange:_e=>{var Oe,Se,Be;const Te=((Se=(Oe=r.vitals)==null?void 0:Oe.pupil)==null?void 0:Se.split(","))||["",""],Zt=[_e.target.value,((Be=Te[1])==null?void 0:Be.trim())||""].join(", ");e({...r,vitals:{...r.vitals,pupil:Zt}})},placeholder:"右瞳孔"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1076,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-gray-500",children:","},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1092,columnNumber:17},globalThis),h.jsxDEV(We,{type:"text",value:((G=(q=($=r.vitals)==null?void 0:$.pupil)==null?void 0:q.split(",")[1])==null?void 0:G.trim())||"",onChange:_e=>{var Oe,Se,Be;const Zt=[((Be=(((Se=(Oe=r.vitals)==null?void 0:Oe.pupil)==null?void 0:Se.split(","))||["",""])[0])==null?void 0:Be.trim())||"",_e.target.value].join(", ");e({...r,vitals:{...r.vitals,pupil:Zt}})},placeholder:"左瞳孔"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1093,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1075,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1071,columnNumber:13},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"対光反射（右, 左）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1112,columnNumber:15},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV(We,{type:"text",value:((j=(X=(K=r.vitals)==null?void 0:K.lightReflex)==null?void 0:X.split(",")[0])==null?void 0:j.trim())||"",onChange:_e=>{var Oe,Se,Be;const Te=((Se=(Oe=r.vitals)==null?void 0:Oe.lightReflex)==null?void 0:Se.split(","))||["",""],Zt=[_e.target.value,((Be=Te[1])==null?void 0:Be.trim())||""].join(", ");e({...r,vitals:{...r.vitals,lightReflex:Zt}})},placeholder:"右反射"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1116,columnNumber:17},globalThis),h.jsxDEV("span",{className:"text-gray-500",children:","},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1132,columnNumber:17},globalThis),h.jsxDEV(We,{type:"text",value:((nt=(ct=(Ie=r.vitals)==null?void 0:Ie.lightReflex)==null?void 0:ct.split(",")[1])==null?void 0:nt.trim())||"",onChange:_e=>{var Oe,Se,Be;const Zt=[((Be=(((Se=(Oe=r.vitals)==null?void 0:Oe.lightReflex)==null?void 0:Se.split(","))||["",""])[0])==null?void 0:Be.trim())||"",_e.target.value].join(", ");e({...r,vitals:{...r.vitals,lightReflex:Zt}})},placeholder:"左反射"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1133,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1115,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1111,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1070,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1068,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:853,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:756,columnNumber:5},globalThis)},UB=({registry:r,setRegistry:e})=>{var t;return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"搬送先"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1165,columnNumber:7},globalThis),h.jsxDEV("div",{className:"space-y-4",children:[{value:"own-tertiary",label:"自院三次"},{value:"own-secondary",label:"自院二次"},{value:"other-tertiary",label:"他院三次"},{value:"other-secondary",label:"他院二次"},{value:"cancel-before-arrival",label:"現着前にキャンセル"},{value:"cancel-mild",label:"現着後に軽症の為キャンセル"},{value:"social-death",label:"社会死（死亡確認）"},{value:"other",label:"その他"}].map(s=>{var o,u,c,p,v,x,N,E,R,C,P,A,M,Y,J,ee,pe,ye,te,F,$,q,G,K,X;return h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"destinationType",value:s.value,checked:((o=r.destination)==null?void 0:o.type)===s.value,onChange:j=>e({...r,destination:{...r.destination,type:j.target.value}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1179,columnNumber:15},globalThis),s.label]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1178,columnNumber:13},globalThis),((u=r.destination)==null?void 0:u.type)==="cancel-before-arrival"&&s.value==="cancel-before-arrival"&&h.jsxDEV("div",{className:"ml-6 mt-2",children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"キャンセル理由"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1196,columnNumber:17},globalThis),h.jsxDEV(We,{type:"text",value:((c=r.destination)==null?void 0:c.cancelReason)||"",onChange:j=>e({...r,destination:{...r.destination,cancelReason:j.target.value}}),placeholder:"キャンセル理由を入力してください"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1199,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1195,columnNumber:15},globalThis),((p=r.destination)==null?void 0:p.type)==="social-death"&&s.value==="social-death"&&h.jsxDEV("div",{className:"ml-6 mt-2 space-y-3",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"社会死の判断は不要な搬送を減らすことに貢献したか"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1218,columnNumber:19},globalThis),h.jsxDEV("div",{className:"flex space-x-4",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"socialDeathHelpful",value:"true",checked:((x=(v=r.destination)==null?void 0:v.socialDeathContribution)==null?void 0:x.helpful)===!0,onChange:()=>{var j;return e({...r,destination:{...r.destination,socialDeathContribution:{...(j=r.destination)==null?void 0:j.socialDeathContribution,helpful:!0}}})},className:"mr-1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1223,columnNumber:23},globalThis),"はい"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1222,columnNumber:21},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"socialDeathHelpful",value:"false",checked:((E=(N=r.destination)==null?void 0:N.socialDeathContribution)==null?void 0:E.helpful)===!1,onChange:()=>{var j;return e({...r,destination:{...r.destination,socialDeathContribution:{...(j=r.destination)==null?void 0:j.socialDeathContribution,helpful:!1}}})},className:"mr-1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1243,columnNumber:23},globalThis),"いいえ"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1242,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1221,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1217,columnNumber:17},globalThis),((C=(R=r.destination)==null?void 0:R.socialDeathContribution)==null?void 0:C.helpful)===!0&&h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"選択理由"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1268,columnNumber:21},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((M=(A=(P=r.destination)==null?void 0:P.socialDeathContribution)==null?void 0:A.reasons)==null?void 0:M.emsJudgment)||!1,onChange:j=>{var Ie,ct,nt;return e({...r,destination:{...r.destination,socialDeathContribution:{...(Ie=r.destination)==null?void 0:Ie.socialDeathContribution,reasons:{...(nt=(ct=r.destination)==null?void 0:ct.socialDeathContribution)==null?void 0:nt.reasons,emsJudgment:j.target.checked}}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1273,columnNumber:25},globalThis),"救急隊の判断に寄与"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1272,columnNumber:23},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((ee=(J=(Y=r.destination)==null?void 0:Y.socialDeathContribution)==null?void 0:J.reasons)==null?void 0:ee.familyAcceptance)||!1,onChange:j=>{var Ie,ct,nt;return e({...r,destination:{...r.destination,socialDeathContribution:{...(Ie=r.destination)==null?void 0:Ie.socialDeathContribution,reasons:{...(nt=(ct=r.destination)==null?void 0:ct.socialDeathContribution)==null?void 0:nt.reasons,familyAcceptance:j.target.checked}}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1294,columnNumber:25},globalThis),"家族が納得"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1293,columnNumber:23},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((te=(ye=(pe=r.destination)==null?void 0:pe.socialDeathContribution)==null?void 0:ye.reasons)==null?void 0:te.other)||!1,onChange:j=>{var Ie,ct,nt;return e({...r,destination:{...r.destination,socialDeathContribution:{...(Ie=r.destination)==null?void 0:Ie.socialDeathContribution,reasons:{...(nt=(ct=r.destination)==null?void 0:ct.socialDeathContribution)==null?void 0:nt.reasons,other:j.target.checked}}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1316,columnNumber:27},globalThis),"その他"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1315,columnNumber:25},globalThis),((q=($=(F=r.destination)==null?void 0:F.socialDeathContribution)==null?void 0:$.reasons)==null?void 0:q.other)&&h.jsxDEV("div",{className:"ml-6 mt-1",children:h.jsxDEV(We,{type:"text",value:((X=(K=(G=r.destination)==null?void 0:G.socialDeathContribution)==null?void 0:K.reasons)==null?void 0:X.otherReason)||"",onChange:j=>{var Ie,ct,nt;return e({...r,destination:{...r.destination,socialDeathContribution:{...(Ie=r.destination)==null?void 0:Ie.socialDeathContribution,reasons:{...(nt=(ct=r.destination)==null?void 0:ct.socialDeathContribution)==null?void 0:nt.reasons,otherReason:j.target.value}}}})},placeholder:"その他の理由を入力してください"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1338,columnNumber:29},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1337,columnNumber:27},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1314,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1271,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1267,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1216,columnNumber:15},globalThis)]},s.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1177,columnNumber:11},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1166,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1164,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"該当分類"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1370,columnNumber:7},globalThis),h.jsxDEV("div",{className:"flex space-x-6",children:["C","T","S","M"].map(s=>h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"category",value:s,checked:r.category===s,onChange:o=>e({...r,category:o.target.value}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1374,columnNumber:13},globalThis),s]},s,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1373,columnNumber:11},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1371,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1369,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"推定病名"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1389,columnNumber:7},globalThis),h.jsxDEV("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:3,value:((t=r.estimatedDiagnosis)==null?void 0:t.join(`
`))||"",onChange:s=>e({...r,estimatedDiagnosis:s.target.value.split(`
`).filter(o=>o.trim())}),placeholder:"推定病名を入力してください（複数行可）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1390,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1388,columnNumber:5},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1163,columnNumber:3},globalThis)},OB=({registry:r,setRegistry:e})=>{const[t,s]=Q.useState("C");return h.jsxDEV("div",{className:"space-y-6",children:[h.jsxDEV("div",{className:"border-b border-gray-200",children:h.jsxDEV("nav",{className:"flex space-x-8",children:[{key:"C",label:"II-C 心停止"},{key:"T",label:"II-T 外傷"},{key:"S",label:"II-S 脳卒中"},{key:"M",label:"II-M ACS"}].map(o=>h.jsxDEV("button",{onClick:()=>s(o.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===o.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:o.label},o.key,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1422,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1415,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1414,columnNumber:7},globalThis),h.jsxDEV("div",{children:[t==="C"&&h.jsxDEV(jB,{registry:r,setRegistry:e},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1440,columnNumber:11},globalThis),t==="T"&&h.jsxDEV(LB,{registry:r,setRegistry:e},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1443,columnNumber:11},globalThis),t==="S"&&h.jsxDEV(MB,{registry:r,setRegistry:e},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1446,columnNumber:11},globalThis),t==="M"&&h.jsxDEV(FB,{registry:r,setRegistry:e},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1449,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1438,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1412,columnNumber:5},globalThis)},jB=({registry:r,setRegistry:e})=>{var t,s,o,u,c,p,v,x,N;return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"目撃者・バイスタンダーCPR"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1464,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"目撃者"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1467,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"present",label:"あり"},{value:"absent",label:"なし"},{value:"unknown",label:"不明"}].map(E=>{var R;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"witness",value:E.value,checked:((R=r.cardiacArrest)==null?void 0:R.witness)===E.value,onChange:C=>e({...r,cardiacArrest:{...r.cardiacArrest,witness:C.target.value}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1475,columnNumber:17},globalThis),E.label]},E.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1474,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1468,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1466,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"バイスタンダーCPR"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1496,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"present",label:"あり"},{value:"absent",label:"なし"},{value:"unknown",label:"不明"}].map(E=>{var R,C;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"bystanderCPR",value:E.value,checked:((C=(R=r.cardiacArrest)==null?void 0:R.bystanderCPR)==null?void 0:C.performed)===E.value,onChange:P=>{var A;return e({...r,cardiacArrest:{...r.cardiacArrest,bystanderCPR:{...(A=r.cardiacArrest)==null?void 0:A.bystanderCPR,performed:P.target.value}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1504,columnNumber:17},globalThis),E.label]},E.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1503,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1497,columnNumber:11},globalThis),((s=(t=r.cardiacArrest)==null?void 0:t.bystanderCPR)==null?void 0:s.performed)==="present"&&h.jsxDEV("div",{className:"mt-3 space-y-2",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((u=(o=r.cardiacArrest)==null?void 0:o.bystanderCPR)==null?void 0:u.chestCompression)||!1,onChange:E=>{var R;return e({...r,cardiacArrest:{...r.cardiacArrest,bystanderCPR:{...(R=r.cardiacArrest)==null?void 0:R.bystanderCPR,chestCompression:E.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1530,columnNumber:17},globalThis),"胸骨圧迫"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1529,columnNumber:15},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((p=(c=r.cardiacArrest)==null?void 0:c.bystanderCPR)==null?void 0:p.artificialRespiration)||!1,onChange:E=>{var R;return e({...r,cardiacArrest:{...r.cardiacArrest,bystanderCPR:{...(R=r.cardiacArrest)==null?void 0:R.bystanderCPR,artificialRespiration:E.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1548,columnNumber:17},globalThis),"人工呼吸"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1547,columnNumber:15},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((x=(v=r.cardiacArrest)==null?void 0:v.bystanderCPR)==null?void 0:x.aed)||!1,onChange:E=>{var R;return e({...r,cardiacArrest:{...r.cardiacArrest,bystanderCPR:{...(R=r.cardiacArrest)==null?void 0:R.bystanderCPR,aed:E.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1566,columnNumber:17},globalThis),"AED使用"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1565,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1528,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1495,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"消防指導"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1588,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"present",label:"あり"},{value:"absent",label:"なし"},{value:"unknown",label:"不明"}].map(E=>{var R;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"fireGuidance",value:E.value,checked:((R=r.cardiacArrest)==null?void 0:R.fireGuidance)===E.value,onChange:C=>e({...r,cardiacArrest:{...r.cardiacArrest,fireGuidance:C.target.value}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1596,columnNumber:17},globalThis),E.label]},E.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1595,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1589,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1587,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1465,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1463,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"初期心電図波形・時刻"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1620,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"初期心電図波形"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1623,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"asystole",label:"Asystole"},{value:"pea",label:"PEA"},{value:"vf",label:"VF"},{value:"pulseless-vt",label:"Pulseless VT"},{value:"pulse-present",label:"脈拍触知可能"}].map(E=>{var R;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"initialRhythm",value:E.value,checked:((R=r.cardiacArrest)==null?void 0:R.initialRhythm)===E.value,onChange:C=>e({...r,cardiacArrest:{...r.cardiacArrest,initialRhythm:C.target.value}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1633,columnNumber:17},globalThis),E.label]},E.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1632,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1624,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1622,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"推定心停止時刻"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1654,columnNumber:11},globalThis),h.jsxDEV(We,{type:"time",value:((N=r.cardiacArrest)==null?void 0:N.estimatedArrestTime)||"",onChange:E=>e({...r,cardiacArrest:{...r.cardiacArrest,estimatedArrestTime:E.target.value}})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1655,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1653,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1621,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1619,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"ROSC・転帰"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1672,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"搬送中ROSC"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1675,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"present",label:"あり"},{value:"absent",label:"なし"},{value:"unknown",label:"不明"}].map(E=>{var R,C;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"roscDuringTransport",value:E.value,checked:((C=(R=r.cardiacArrest)==null?void 0:R.rosc)==null?void 0:C.duringTransport)===E.value,onChange:P=>{var A;return e({...r,cardiacArrest:{...r.cardiacArrest,rosc:{...(A=r.cardiacArrest)==null?void 0:A.rosc,duringTransport:P.target.value}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1683,columnNumber:17},globalThis),E.label]},E.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1682,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1676,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1674,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"入院"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1707,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"er-death",label:"ER死亡"},{value:"admission",label:"入院"},{value:"transfer",label:"転院"},{value:"unknown",label:"不明"}].map(E=>{var R;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"hospitalization",value:E.value,checked:((R=r.cardiacArrest)==null?void 0:R.hospitalization)===E.value,onChange:C=>e({...r,cardiacArrest:{...r.cardiacArrest,hospitalization:C.target.value}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1716,columnNumber:17},globalThis),E.label]},E.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1715,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1708,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1706,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1673,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1671,columnNumber:5},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1461,columnNumber:3},globalThis)},LB=({registry:r,setRegistry:e})=>{var t,s,o;return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"受傷機転"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1748,columnNumber:7},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"blunt",label:"鈍的外傷"},{value:"penetrating",label:"穿通性外傷"},{value:"burn",label:"熱傷"}].map(u=>{var c;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"traumaMechanism",value:u.value,checked:((c=r.trauma)==null?void 0:c.mechanism)===u.value,onChange:p=>e({...r,trauma:{...r.trauma,mechanism:p.target.value}}),className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1756,columnNumber:13},globalThis),u.label]},u.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1755,columnNumber:11},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1749,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1747,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"現場処置"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1778,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"oxygenTherapy",label:"酸素療法"},{key:"intubation",label:"気管挿管"},{key:"thoracentesis",label:"胸腔穿刺"}].map(u=>{var c,p;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((p=(c=r.trauma)==null?void 0:c.fieldTreatment)==null?void 0:p[u.key])||!1,onChange:v=>{var x;return e({...r,trauma:{...r.trauma,fieldTreatment:{...(x=r.trauma)==null?void 0:x.fieldTreatment,[u.key]:v.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1786,columnNumber:13},globalThis),u.label]},u.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1785,columnNumber:11},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1779,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1777,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"重症度スコア"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1809,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ISS"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1812,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"75",value:((t=r.trauma)==null?void 0:t.iss)||"",onChange:u=>e({...r,trauma:{...r.trauma,iss:parseInt(u.target.value)||0}}),placeholder:"0-75"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1813,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1811,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RTS"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1829,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"12",step:"0.1",value:((s=r.trauma)==null?void 0:s.rts)||"",onChange:u=>e({...r,trauma:{...r.trauma,rts:parseFloat(u.target.value)||0}}),placeholder:"0-12"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1830,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1828,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ps"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1847,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"1",step:"0.01",value:((o=r.trauma)==null?void 0:o.ps)||"",onChange:u=>e({...r,trauma:{...r.trauma,ps:parseFloat(u.target.value)||0}}),placeholder:"0-1"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1848,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1846,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1810,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1808,columnNumber:5},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1745,columnNumber:3},globalThis)},MB=({registry:r,setRegistry:e})=>{var t,s,o,u,c,p,v,x,N,E;return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"疑われた病態"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1877,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"infarction",label:"脳梗塞"},{key:"hemorrhage",label:"脳出血"},{key:"sah",label:"くも膜下出血"},{key:"tia",label:"TIA"},{key:"seizure",label:"けいれん"},{key:"hypoglycemia",label:"低血糖"},{key:"metabolic",label:"代謝性疾患"},{key:"alcohol",label:"アルコール"},{key:"poisoning",label:"中毒"},{key:"other",label:"その他"}].map(R=>{var C,P;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((P=(C=r.stroke)==null?void 0:C.suspectedCondition)==null?void 0:P[R.key])||!1,onChange:A=>{var M;return e({...r,stroke:{...r.stroke,suspectedCondition:{...(M=r.stroke)==null?void 0:M.suspectedCondition,[R.key]:A.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1892,columnNumber:13},globalThis),R.label]},R.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1891,columnNumber:11},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1878,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1876,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"時間経過"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1915,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"発症時刻"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1918,columnNumber:11},globalThis),h.jsxDEV(We,{type:"time",value:((t=r.stroke)==null?void 0:t.onsetTime)||"",onChange:R=>e({...r,stroke:{...r.stroke,onsetTime:R.target.value}})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1919,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1917,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最終健常確認時刻"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1932,columnNumber:11},globalThis),h.jsxDEV(We,{type:"time",value:((s=r.stroke)==null?void 0:s.lastSeenNormalTime)||"",onChange:R=>e({...r,stroke:{...r.stroke,lastSeenNormalTime:R.target.value}})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1933,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1931,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1916,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1914,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"神経学的評価"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1950,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"CPSS"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1953,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((u=(o=r.stroke)==null?void 0:o.cpss)==null?void 0:u.facialDrooping)||!1,onChange:R=>{var C;return e({...r,stroke:{...r.stroke,cpss:{...(C=r.stroke)==null?void 0:C.cpss,facialDrooping:R.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1956,columnNumber:15},globalThis),"顔面下垂"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1955,columnNumber:13},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((p=(c=r.stroke)==null?void 0:c.cpss)==null?void 0:p.armWeakness)||!1,onChange:R=>{var C;return e({...r,stroke:{...r.stroke,cpss:{...(C=r.stroke)==null?void 0:C.cpss,armWeakness:R.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1974,columnNumber:15},globalThis),"上肢脱力"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1973,columnNumber:13},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((x=(v=r.stroke)==null?void 0:v.cpss)==null?void 0:x.speech)||!1,onChange:R=>{var C;return e({...r,stroke:{...r.stroke,cpss:{...(C=r.stroke)==null?void 0:C.cpss,speech:R.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1992,columnNumber:15},globalThis),"構語障害"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1991,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1954,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1952,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"KPSS合計点"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2013,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"22",value:((E=(N=r.stroke)==null?void 0:N.kpss)==null?void 0:E.total)||"",onChange:R=>{var C;return e({...r,stroke:{...r.stroke,kpss:{...(C=r.stroke)==null?void 0:C.kpss,total:parseInt(R.target.value)||0}}})},placeholder:"0-22"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2014,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2012,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1951,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1949,columnNumber:5},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:1874,columnNumber:3},globalThis)},FB=({registry:r,setRegistry:e})=>{var t,s,o,u,c,p,v,x,N,E,R;return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"既往歴"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2045,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"hypertension",label:"高血圧"},{key:"diabetes",label:"糖尿病"},{key:"hyperlipidemia",label:"脂質異常症"},{key:"smoking",label:"喫煙"},{key:"familyHistory",label:"家族歴"},{key:"heartDisease",label:"心疾患"},{key:"respiratoryDisease",label:"呼吸器疾患"}].map(C=>{var P,A;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((A=(P=r.acs)==null?void 0:P.medicalHistory)==null?void 0:A[C.key])||!1,onChange:M=>{var Y;return e({...r,acs:{...r.acs,medicalHistory:{...(Y=r.acs)==null?void 0:Y.medicalHistory,[C.key]:M.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2057,columnNumber:13},globalThis),C.label]},C.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2056,columnNumber:11},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2046,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2044,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"病院外12誘導心電図所見"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2080,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"心調律"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2083,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{value:"sinus",label:"洞調律"},{value:"af",label:"心房細動"},{value:"junctional",label:"接合部調律"},{value:"other",label:"その他"},{value:"unknown",label:"不明"}].map(C=>{var P,A,M;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"ecgRhythm",value:C.value,checked:((M=(A=(P=r.acs)==null?void 0:P.prehospitalFindings)==null?void 0:A.ecgFindings)==null?void 0:M.rhythm)===C.value,onChange:Y=>{var J,ee,pe;return e({...r,acs:{...r.acs,prehospitalFindings:{...(J=r.acs)==null?void 0:J.prehospitalFindings,ecgFindings:{...(pe=(ee=r.acs)==null?void 0:ee.prehospitalFindings)==null?void 0:pe.ecgFindings,rhythm:Y.target.value}}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2093,columnNumber:17},globalThis),C.label]},C.value,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2092,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2084,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2082,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"心拍数"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2120,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"300",value:((o=(s=(t=r.acs)==null?void 0:t.prehospitalFindings)==null?void 0:s.ecgFindings)==null?void 0:o.heartRate)||"",onChange:C=>{var P,A,M;return e({...r,acs:{...r.acs,prehospitalFindings:{...(P=r.acs)==null?void 0:P.prehospitalFindings,ecgFindings:{...(M=(A=r.acs)==null?void 0:A.prehospitalFindings)==null?void 0:M.ecgFindings,heartRate:parseInt(C.target.value)||0}}}})},placeholder:"回/分"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2121,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2119,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2081,columnNumber:7},globalThis),h.jsxDEV("div",{className:"mt-4",children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ST変化"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2146,columnNumber:9},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((v=(p=(c=(u=r.acs)==null?void 0:u.prehospitalFindings)==null?void 0:c.ecgFindings)==null?void 0:p.stChanges)==null?void 0:v.elevation)||!1,onChange:C=>{var P,A,M,Y,J,ee;return e({...r,acs:{...r.acs,prehospitalFindings:{...(P=r.acs)==null?void 0:P.prehospitalFindings,ecgFindings:{...(M=(A=r.acs)==null?void 0:A.prehospitalFindings)==null?void 0:M.ecgFindings,stChanges:{...(ee=(J=(Y=r.acs)==null?void 0:Y.prehospitalFindings)==null?void 0:J.ecgFindings)==null?void 0:ee.stChanges,elevation:C.target.checked}}}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2149,columnNumber:13},globalThis),"ST上昇"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2148,columnNumber:11},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((R=(E=(N=(x=r.acs)==null?void 0:x.prehospitalFindings)==null?void 0:N.ecgFindings)==null?void 0:E.stChanges)==null?void 0:R.depression)||!1,onChange:C=>{var P,A,M,Y,J,ee;return e({...r,acs:{...r.acs,prehospitalFindings:{...(P=r.acs)==null?void 0:P.prehospitalFindings,ecgFindings:{...(M=(A=r.acs)==null?void 0:A.prehospitalFindings)==null?void 0:M.ecgFindings,stChanges:{...(ee=(J=(Y=r.acs)==null?void 0:Y.prehospitalFindings)==null?void 0:J.ecgFindings)==null?void 0:ee.stChanges,depression:C.target.checked}}}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2173,columnNumber:13},globalThis),"ST低下"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2172,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2147,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2145,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2079,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"疑われた病態・病院診断"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2202,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"疑われた病態"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2205,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{key:"ami",label:"急性心筋梗塞"},{key:"angina",label:"狭心症"},{key:"arrhythmia",label:"不整脈"},{key:"otherAcs",label:"その他ACS"},{key:"aorticDissection",label:"大動脈解離"},{key:"acuteHeartFailure",label:"急性心不全"},{key:"other",label:"その他"}].map(C=>{var P,A;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((A=(P=r.acs)==null?void 0:P.suspectedCondition)==null?void 0:A[C.key])||!1,onChange:M=>{var Y;return e({...r,acs:{...r.acs,suspectedCondition:{...(Y=r.acs)==null?void 0:Y.suspectedCondition,[C.key]:M.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2217,columnNumber:17},globalThis),C.label]},C.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2216,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2206,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2204,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"病院診断"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2239,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[{key:"ami",label:"急性心筋梗塞"},{key:"angina",label:"狭心症"},{key:"arrhythmia",label:"不整脈"},{key:"otherAcs",label:"その他ACS"},{key:"aorticDissection",label:"大動脈解離"},{key:"acuteHeartFailure",label:"急性心不全"},{key:"other",label:"その他"}].map(C=>{var P,A;return h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"checkbox",checked:((A=(P=r.acs)==null?void 0:P.hospitalDiagnosis)==null?void 0:A[C.key])||!1,onChange:M=>{var Y;return e({...r,acs:{...r.acs,hospitalDiagnosis:{...(Y=r.acs)==null?void 0:Y.hospitalDiagnosis,[C.key]:M.target.checked}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2251,columnNumber:17},globalThis),C.label]},C.key,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2250,columnNumber:15},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2240,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2238,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2203,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2201,columnNumber:5},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2042,columnNumber:3},globalThis)},BB=({registry:r,setRegistry:e})=>{var t,s,o,u,c,p,v,x,N,E,R,C,P,A,M,Y,J,ee,pe,ye,te,F,$,q,G,K,X,j,Ie,ct,nt,_e,Te,Zt,Oe,Se,Be,mt,Bt,Tt,bt,Rn,Wn,Jn,Kn,Xn,Zn,Tn,er,On,jn,In,dr,Or,mr,br,Dr,hr,Rr,tr,ir,It,cn,Gr,ii,Ae,Xe,vt,qt,Wt,Ln,_n,Cr,rn,yr,dn,Qt,Wr,jr,Lr,ps,Qi;return h.jsxDEV("div",{className:"space-y-8",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"院内バイタルサイン"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2284,columnNumber:7},globalThis),h.jsxDEV("div",{className:"mb-6",children:[h.jsxDEV("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"GCS（Glasgow Coma Scale）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2288,columnNumber:9},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GCS 合計"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2291,columnNumber:13},globalThis),h.jsxDEV(We,{type:"number",min:"3",max:"15",value:((o=(s=(t=r.hospitalCourse)==null?void 0:t.vitals)==null?void 0:s.gcs)==null?void 0:o.total)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,gcs:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.gcs,total:parseInt(ze.target.value)||0}}}})},placeholder:"3-15"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2294,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2290,columnNumber:11},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E（開眼）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2316,columnNumber:13},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"4",value:((p=(c=(u=r.hospitalCourse)==null?void 0:u.vitals)==null?void 0:c.gcs)==null?void 0:p.eye)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,gcs:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.gcs,eye:parseInt(ze.target.value)||0}}}})},placeholder:"1-4"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2319,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2315,columnNumber:11},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"V（言語）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2341,columnNumber:13},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"5",value:((N=(x=(v=r.hospitalCourse)==null?void 0:v.vitals)==null?void 0:x.gcs)==null?void 0:N.verbal)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,gcs:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.gcs,verbal:parseInt(ze.target.value)||0}}}})},placeholder:"1-5"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2344,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2340,columnNumber:11},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M（運動）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2366,columnNumber:13},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"6",value:((C=(R=(E=r.hospitalCourse)==null?void 0:E.vitals)==null?void 0:R.gcs)==null?void 0:C.motor)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,gcs:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.gcs,motor:parseInt(ze.target.value)||0}}}})},placeholder:"1-6"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2369,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2365,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2289,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2287,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"血圧"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2396,columnNumber:11},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV(We,{type:"number",value:((M=(A=(P=r.hospitalCourse)==null?void 0:P.vitals)==null?void 0:A.bloodPressure)==null?void 0:M.systolic)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,bloodPressure:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.bloodPressure,systolic:parseInt(ze.target.value)||0}}}})},placeholder:"収縮期"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2398,columnNumber:13},globalThis),h.jsxDEV("span",{children:"/"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2416,columnNumber:13},globalThis),h.jsxDEV(We,{type:"number",value:((ee=(J=(Y=r.hospitalCourse)==null?void 0:Y.vitals)==null?void 0:J.bloodPressure)==null?void 0:ee.diastolic)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,bloodPressure:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.bloodPressure,diastolic:parseInt(ze.target.value)||0}}}})},placeholder:"拡張期"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2417,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2397,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2395,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"脈拍"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2439,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",value:((ye=(pe=r.hospitalCourse)==null?void 0:pe.vitals)==null?void 0:ye.pulse)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,pulse:parseInt(ze.target.value)||0}}})},placeholder:"回/分"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2440,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2438,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"呼吸"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2458,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",value:((F=(te=r.hospitalCourse)==null?void 0:te.vitals)==null?void 0:F.respiration)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,respiration:parseInt(ze.target.value)||0}}})},placeholder:"回/分"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2459,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2457,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"体温"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2477,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((q=($=r.hospitalCourse)==null?void 0:$.vitals)==null?void 0:q.temperature)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,temperature:parseFloat(ze.target.value)||0}}})},placeholder:"℃"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2478,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2476,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SpO2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2497,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"100",value:((K=(G=r.hospitalCourse)==null?void 0:G.vitals)==null?void 0:K.spo2)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,spo2:parseInt(ze.target.value)||0}}})},placeholder:"%"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2498,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2496,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"酸素"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2518,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",value:((j=(X=r.hospitalCourse)==null?void 0:X.vitals)==null?void 0:j.oxygen)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,oxygen:parseInt(ze.target.value)||0}}})},placeholder:"L/分"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2519,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2517,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2394,columnNumber:7},globalThis),h.jsxDEV("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"瞳孔（右, 左）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2540,columnNumber:11},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV(We,{type:"text",value:((nt=(ct=(Ie=r.hospitalCourse)==null?void 0:Ie.vitals)==null?void 0:ct.pupil)==null?void 0:nt.right)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,pupil:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.pupil,right:ze.target.value}}}})},placeholder:"右瞳孔"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2542,columnNumber:13},globalThis),h.jsxDEV("span",{className:"text-gray-500",children:","},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2560,columnNumber:13},globalThis),h.jsxDEV(We,{type:"text",value:((Zt=(Te=(_e=r.hospitalCourse)==null?void 0:_e.vitals)==null?void 0:Te.pupil)==null?void 0:Zt.left)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,pupil:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.pupil,left:ze.target.value}}}})},placeholder:"左瞳孔"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2561,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2541,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2539,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"対光反射（右, 左）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2583,columnNumber:11},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:[h.jsxDEV(We,{type:"text",value:((Be=(Se=(Oe=r.hospitalCourse)==null?void 0:Oe.vitals)==null?void 0:Se.lightReflex)==null?void 0:Be.right)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,lightReflex:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.lightReflex,right:ze.target.value}}}})},placeholder:"右反射"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2585,columnNumber:13},globalThis),h.jsxDEV("span",{className:"text-gray-500",children:","},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2603,columnNumber:13},globalThis),h.jsxDEV(We,{type:"text",value:((Tt=(Bt=(mt=r.hospitalCourse)==null?void 0:mt.vitals)==null?void 0:Bt.lightReflex)==null?void 0:Tt.left)||"",onChange:ze=>{var xe,Vt,lt;return e({...r,hospitalCourse:{...r.hospitalCourse,vitals:{...(xe=r.hospitalCourse)==null?void 0:xe.vitals,lightReflex:{...(lt=(Vt=r.hospitalCourse)==null?void 0:Vt.vitals)==null?void 0:lt.lightReflex,left:ze.target.value}}}})},placeholder:"左反射"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2604,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2584,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2582,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2538,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2283,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"血液ガス分析"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2629,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"採血部位"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2632,columnNumber:11},globalThis),h.jsxDEV("div",{className:"space-y-2",children:[h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"abgType",value:"arterial",checked:((Rn=(bt=r.hospitalCourse)==null?void 0:bt.abg)==null?void 0:Rn.type)==="arterial",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,type:ze.target.value}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2635,columnNumber:15},globalThis),"動脈"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2634,columnNumber:13},globalThis),h.jsxDEV("label",{className:"flex items-center",children:[h.jsxDEV("input",{type:"radio",name:"abgType",value:"venous",checked:((Jn=(Wn=r.hospitalCourse)==null?void 0:Wn.abg)==null?void 0:Jn.type)==="venous",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,type:ze.target.value}}})},className:"mr-2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2655,columnNumber:15},globalThis),"静脈"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2654,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2633,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2631,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"FiO2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2678,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"1",step:"0.01",value:((Xn=(Kn=r.hospitalCourse)==null?void 0:Kn.abg)==null?void 0:Xn.fio2)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,fio2:parseFloat(ze.target.value)||0}}})},placeholder:"0.21-1.00"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2679,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2677,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"pH"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2700,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.01",min:"6.8",max:"7.8",value:((Tn=(Zn=r.hospitalCourse)==null?void 0:Zn.abg)==null?void 0:Tn.ph)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,ph:parseFloat(ze.target.value)||0}}})},placeholder:"7.35-7.45"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2701,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2699,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PaCO2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2722,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((On=(er=r.hospitalCourse)==null?void 0:er.abg)==null?void 0:On.paco2)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,paco2:parseFloat(ze.target.value)||0}}})},placeholder:"mmHg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2723,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2721,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PaO2"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2742,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((In=(jn=r.hospitalCourse)==null?void 0:jn.abg)==null?void 0:In.pao2)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,pao2:parseFloat(ze.target.value)||0}}})},placeholder:"mmHg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2743,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2741,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HCO3-"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2762,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((Or=(dr=r.hospitalCourse)==null?void 0:dr.abg)==null?void 0:Or.hco3)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,hco3:parseFloat(ze.target.value)||0}}})},placeholder:"mEq/L"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2763,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2761,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BE"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2782,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((br=(mr=r.hospitalCourse)==null?void 0:mr.abg)==null?void 0:br.be)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,abg:{...(xe=r.hospitalCourse)==null?void 0:xe.abg,be:parseFloat(ze.target.value)||0}}})},placeholder:"mEq/L"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2783,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2781,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2630,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2628,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"検査結果"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2805,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WBC"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2808,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((hr=(Dr=r.hospitalCourse)==null?void 0:Dr.labResults)==null?void 0:hr.wbc)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,wbc:parseFloat(ze.target.value)||0}}})},placeholder:"×10³/μL"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2809,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2807,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hb"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2828,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((tr=(Rr=r.hospitalCourse)==null?void 0:Rr.labResults)==null?void 0:tr.hb)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,hb:parseFloat(ze.target.value)||0}}})},placeholder:"g/dL"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2829,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2827,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ht"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2848,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((It=(ir=r.hospitalCourse)==null?void 0:ir.labResults)==null?void 0:It.ht)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,ht:parseFloat(ze.target.value)||0}}})},placeholder:"%"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2849,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2847,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plt"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2868,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",value:((Gr=(cn=r.hospitalCourse)==null?void 0:cn.labResults)==null?void 0:Gr.plt)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,plt:parseInt(ze.target.value)||0}}})},placeholder:"×10⁴/μL"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2869,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2867,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T.Bil"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2887,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((Ae=(ii=r.hospitalCourse)==null?void 0:ii.labResults)==null?void 0:Ae.tbil)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,tbil:parseFloat(ze.target.value)||0}}})},placeholder:"mg/dL"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2888,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2886,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cre"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2907,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.01",value:((vt=(Xe=r.hospitalCourse)==null?void 0:Xe.labResults)==null?void 0:vt.cre)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,cre:parseFloat(ze.target.value)||0}}})},placeholder:"mg/dL"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2908,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2906,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Na"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2927,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",value:((Wt=(qt=r.hospitalCourse)==null?void 0:qt.labResults)==null?void 0:Wt.na)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,na:parseInt(ze.target.value)||0}}})},placeholder:"mEq/L"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2928,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2926,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"K"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2946,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((_n=(Ln=r.hospitalCourse)==null?void 0:Ln.labResults)==null?void 0:_n.k)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,k:parseFloat(ze.target.value)||0}}})},placeholder:"mEq/L"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2947,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2945,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lactate"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2966,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",step:"0.1",value:((rn=(Cr=r.hospitalCourse)==null?void 0:Cr.labResults)==null?void 0:rn.lactate)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,labResults:{...(xe=r.hospitalCourse)==null?void 0:xe.labResults,lactate:parseFloat(ze.target.value)||0}}})},placeholder:"mmol/L"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2967,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2965,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2806,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2804,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"機能的転帰"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2989,columnNumber:7},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPC 退院時"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2992,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"5",value:((dn=(yr=r.hospitalCourse)==null?void 0:yr.functionalOutcome)==null?void 0:dn.cpcDischarge)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,functionalOutcome:{...(xe=r.hospitalCourse)==null?void 0:xe.functionalOutcome,cpcDischarge:parseInt(ze.target.value)||0}}})},placeholder:"1-5"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2993,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2991,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPC 3ヶ月後"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3013,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"1",max:"5",value:((Wr=(Qt=r.hospitalCourse)==null?void 0:Qt.functionalOutcome)==null?void 0:Wr.cpcThreeMonth)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,functionalOutcome:{...(xe=r.hospitalCourse)==null?void 0:xe.functionalOutcome,cpcThreeMonth:parseInt(ze.target.value)||0}}})},placeholder:"1-5"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3014,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3012,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"mRS 退院時"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3034,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"6",value:((Lr=(jr=r.hospitalCourse)==null?void 0:jr.functionalOutcome)==null?void 0:Lr.mrsDischarge)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,functionalOutcome:{...(xe=r.hospitalCourse)==null?void 0:xe.functionalOutcome,mrsDischarge:parseInt(ze.target.value)||0}}})},placeholder:"0-6"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3035,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3033,columnNumber:9},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"mRS 3ヶ月後"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3055,columnNumber:11},globalThis),h.jsxDEV(We,{type:"number",min:"0",max:"6",value:((Qi=(ps=r.hospitalCourse)==null?void 0:ps.functionalOutcome)==null?void 0:Qi.mrsThreeMonth)||"",onChange:ze=>{var xe;return e({...r,hospitalCourse:{...r.hospitalCourse,functionalOutcome:{...(xe=r.hospitalCourse)==null?void 0:xe.functionalOutcome,mrsThreeMonth:parseInt(ze.target.value)||0}}})},placeholder:"0-6"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3056,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3054,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2990,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2988,columnNumber:5},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"ドクターカー活動の問題点"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3079,columnNumber:7},globalThis),h.jsxDEV("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:4,value:r.activityProblems||"",onChange:ze=>e({...r,activityProblems:ze.target.value}),placeholder:"ドクターカー活動の問題点や改善点について記入してください"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3080,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:3078,columnNumber:5},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/components/features/Registry/RegistryForm.tsx",lineNumber:2281,columnNumber:3},globalThis)},$B=()=>h.jsxDEV(AB,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryFormPage.tsx",lineNumber:5,columnNumber:10},globalThis),HB=()=>{const r=Wl(),[e,t]=Q.useState([]),[s,o]=Q.useState(!0),[u,c]=Q.useState(!1);Q.useEffect(()=>{p()},[]);const p=async()=>{o(!0);try{const C=await Fv.getCompletedRegistries();t(C.sort((P,A)=>{var J,ee,pe,ye,te,F,$,q;const M=((ye=(pe=(ee=(J=P.timelineDoctorCar)==null?void 0:J.awareness)==null?void 0:ee.toDate)==null?void 0:pe.call(ee))==null?void 0:ye.getTime())||0;return(((q=($=(F=(te=A.timelineDoctorCar)==null?void 0:te.awareness)==null?void 0:F.toDate)==null?void 0:$.call(F))==null?void 0:q.getTime())||0)-M}))}catch(C){console.error("Failed to load registries:",C)}finally{o(!1)}},v=async()=>{c(!0);try{const C=await Fv.exportRegistriesToCSV(e),P=new Blob([C],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),M=URL.createObjectURL(P);A.setAttribute("href",M),A.setAttribute("download",`doctorcar_registry_${new Date().toISOString().split("T")[0]}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)}catch(C){console.error("Failed to export CSV:",C),alert("CSVエクスポートに失敗しました")}finally{c(!1)}},x=C=>!C||!C.toDate?"-":C.toDate().toLocaleDateString("ja-JP"),N=C=>!C||!C.toDate?"-":C.toDate().toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),E=C=>{switch(C){case"C":return"bg-red-100 text-red-800";case"T":return"bg-orange-100 text-orange-800";case"S":return"bg-blue-100 text-blue-800";case"M":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=C=>{switch(C){case"own-tertiary":return"自院三次";case"own-secondary":return"自院二次";case"other-tertiary":return"他院三次";case"other-secondary":return"他院二次";case"cancel-before-arrival":return"現着前キャンセル";case"cancel-mild":return"軽症キャンセル";case"social-death":return"社会死";case"other":return"その他";default:return"-"}};return s?h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxDEV(zo,{size:"lg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:91,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:90,columnNumber:7},globalThis):h.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[h.jsxDEV("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[h.jsxDEV("div",{className:"flex items-center space-x-4",children:[h.jsxDEV("button",{onClick:()=>r("/cases"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsxDEV("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:108,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:107,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:103,columnNumber:15},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"レジストリ一覧"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:113,columnNumber:17},globalThis),h.jsxDEV("p",{className:"text-sm text-gray-500",children:["完了済みレジストリ: ",e.length,"件"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:114,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:112,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:102,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:h.jsxDEV(an,{size:"sm",onClick:v,disabled:u||e.length===0,children:"CSVエクスポート"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:121,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:120,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:101,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:100,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:99,columnNumber:7},globalThis),h.jsxDEV("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:e.length===0?h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:h.jsxDEV("p",{className:"text-gray-500",children:"完了済みのレジストリがありません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:138,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:137,columnNumber:13},globalThis):h.jsxDEV("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:h.jsxDEV("div",{className:"overflow-x-auto",children:h.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsxDEV("thead",{className:"bg-gray-50",children:h.jsxDEV("tr",{children:[h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"レジストリ番号"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:146,columnNumber:23},globalThis),h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"要請日時"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:149,columnNumber:23},globalThis),h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"患者情報"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:152,columnNumber:23},globalThis),h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"推定病名"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:155,columnNumber:23},globalThis),h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"搬送先"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:158,columnNumber:23},globalThis),h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"分類"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:161,columnNumber:23},globalThis),h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"転帰"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:164,columnNumber:23},globalThis),h.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"活動時間"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:167,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:145,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:144,columnNumber:19},globalThis),h.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(C=>{var P,A,M,Y,J;return h.jsxDEV("tr",{className:"hover:bg-gray-50",children:[h.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.registryNumber},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:175,columnNumber:25},globalThis),h.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[h.jsxDEV("div",{children:x((P=C.timelineDoctorCar)==null?void 0:P.awareness)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:179,columnNumber:27},globalThis),h.jsxDEV("div",{className:"text-xs",children:N((A=C.timelineDoctorCar)==null?void 0:A.awareness)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:180,columnNumber:27},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:178,columnNumber:25},globalThis),h.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.patientAge,"歳",C.patientGender==="male"?"男性":C.patientGender==="female"?"女性":"-"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:182,columnNumber:25},globalThis),h.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:h.jsxDEV("div",{className:"max-w-xs truncate",children:((M=C.estimatedDiagnosis)==null?void 0:M.join(", "))||"-"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:188,columnNumber:27},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:187,columnNumber:25},globalThis),h.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R((Y=C.destination)==null?void 0:Y.type)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:192,columnNumber:25},globalThis),h.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxDEV("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E(C.category||void 0)}`,children:C.category||"-"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:196,columnNumber:27},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:195,columnNumber:25},globalThis),h.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R((J=C.destination)==null?void 0:J.type)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:200,columnNumber:25},globalThis),h.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.totalActivityTime?`${C.totalActivityTime}分`:"-"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:203,columnNumber:25},globalThis)]},C.id,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:174,columnNumber:23},globalThis)})},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:172,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:143,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:142,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:141,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:135,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:134,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RegistryListPage.tsx",lineNumber:97,columnNumber:5},globalThis)},qB=()=>{var E;const r=Wl(),[e]=Fj(),{analytics:t,isLoading:s,refreshAnalytics:o}=Tw(),[u,c]=Q.useState(null),[p,v]=Q.useState(null);Q.useEffect(()=>{const R=e.get("originLat"),C=e.get("originLon"),P=e.get("originName"),A=e.get("destLat"),M=e.get("destLon"),Y=e.get("destName");R&&C&&c({latitude:parseFloat(R),longitude:parseFloat(C),name:P||"出発地"}),A&&M&&v({latitude:parseFloat(A),longitude:parseFloat(M),name:Y||"目的地"})},[e]);const x=R=>{const C={latitude:35.701835,longitude:139.763417,name:R==="origin"?"東京ドクターカー基地":"東京医科歯科大学病院"};R==="origin"?c(C):v(C)},N=R=>{const C=Math.floor(R/60),P=Math.floor(C/60),A=C%60;return P>0?`${P}時間${A}分`:`${C}分`};return h.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[h.jsxDEV("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[h.jsxDEV("div",{className:"flex items-center space-x-4",children:[h.jsxDEV("button",{onClick:()=>r("/cases"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsxDEV("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:81,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:80,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:76,columnNumber:15},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"xROAD ルート最適化"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:86,columnNumber:17},globalThis),h.jsxDEV("p",{className:"text-sm text-gray-500",children:"リアルタイム交通データによる最適ルート検索"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:87,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:85,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:75,columnNumber:13},globalThis),h.jsxDEV("div",{className:"flex items-center space-x-2",children:h.jsxDEV(an,{size:"sm",variant:"outline",onClick:o,disabled:s,children:"📊 分析更新"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:94,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:93,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:74,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:73,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:72,columnNumber:7},globalThis),h.jsxDEV("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:[h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[h.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"位置設定"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:113,columnNumber:13},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:118,columnNumber:17},globalThis),u?h.jsxDEV("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("div",{children:[h.jsxDEV("div",{className:"font-medium text-green-900",children:u.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:125,columnNumber:25},globalThis),h.jsxDEV("div",{className:"text-sm text-green-600",children:[u.latitude.toFixed(4),", ",u.longitude.toFixed(4)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:126,columnNumber:25},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:124,columnNumber:23},globalThis),h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>c(null),children:"変更"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:130,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:123,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:122,columnNumber:19},globalThis):h.jsxDEV(an,{onClick:()=>x("origin"),className:"w-full border-dashed border-2 border-gray-300 text-gray-600",variant:"outline",children:"📍 出発地を設定"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:140,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:117,columnNumber:15},globalThis),h.jsxDEV("div",{children:[h.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:152,columnNumber:17},globalThis),p?h.jsxDEV("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("div",{children:[h.jsxDEV("div",{className:"font-medium text-blue-900",children:p.name},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:159,columnNumber:25},globalThis),h.jsxDEV("div",{className:"text-sm text-blue-600",children:[p.latitude.toFixed(4),", ",p.longitude.toFixed(4)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:160,columnNumber:25},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:158,columnNumber:23},globalThis),h.jsxDEV(an,{size:"sm",variant:"outline",onClick:()=>v(null),children:"変更"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:164,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:157,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:156,columnNumber:19},globalThis):h.jsxDEV(an,{onClick:()=>x("destination"),className:"w-full border-dashed border-2 border-gray-300 text-gray-600",variant:"outline",children:"🏥 目的地を設定"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:174,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:151,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:114,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:112,columnNumber:11},globalThis),h.jsxDEV(Ew,{currentLocation:u?{latitude:u.latitude,longitude:u.longitude}:void 0,onRouteSelected:R=>{console.log("Route selected:",R)},onNavigationStart:R=>{console.log("Navigation started:",R),alert("ナビゲーションアプリに連携しました")},className:"mb-6"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:187,columnNumber:11},globalThis),t&&h.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"xROAD活用実績"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:202,columnNumber:15},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsxDEV("div",{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-lg p-4 text-white",children:[h.jsxDEV("div",{className:"text-sm opacity-90",children:"ルート最適化"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:207,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-2xl font-bold",children:t.totalRoutesOptimized},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:208,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-sm opacity-90",children:"回実行"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:209,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:206,columnNumber:17},globalThis),h.jsxDEV("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg p-4 text-white",children:[h.jsxDEV("div",{className:"text-sm opacity-90",children:"予測精度"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:212,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-2xl font-bold",children:[Math.round(t.averageAccuracy*100),"%"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:213,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-sm opacity-90",children:"平均精度"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:214,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:211,columnNumber:17},globalThis),h.jsxDEV("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg p-4 text-white",children:[h.jsxDEV("div",{className:"text-sm opacity-90",children:"時間短縮"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:217,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-2xl font-bold",children:N(t.timeSaved)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:218,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-sm opacity-90",children:"累計短縮"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:219,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:216,columnNumber:17},globalThis),h.jsxDEV("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 rounded-lg p-4 text-white",children:[h.jsxDEV("div",{className:"text-sm opacity-90",children:"最適時間帯"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:222,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-2xl font-bold",children:[((E=t.mostEfficientTimeSlots[0])==null?void 0:E.hour)||"--","時"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:223,columnNumber:19},globalThis),h.jsxDEV("div",{className:"text-sm opacity-90",children:"最効率"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:224,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:221,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:205,columnNumber:15},globalThis),h.jsxDEV("div",{className:"mb-8",children:[h.jsxDEV("h3",{className:"text-md font-medium text-gray-800 mb-4",children:"時間帯別効率性"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:230,columnNumber:17},globalThis),h.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.mostEfficientTimeSlots.map((R,C)=>h.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3",children:[h.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:[R.hour,":00-",R.hour+1,":00"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:234,columnNumber:23},globalThis),h.jsxDEV("div",{className:"text-xs text-gray-600 mt-1",children:["平均速度: ",R.averageSpeed.toFixed(0),"km/h"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:237,columnNumber:23},globalThis),h.jsxDEV("div",{className:"text-xs text-gray-600",children:["信頼度: ",Math.round(R.reliability*100),"%"]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:240,columnNumber:23},globalThis),h.jsxDEV("div",{className:"mt-2",children:h.jsxDEV("div",{className:"bg-gray-200 rounded-full h-2",children:h.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${R.reliability*100}%`}},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:245,columnNumber:27},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:244,columnNumber:25},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:243,columnNumber:23},globalThis)]},C,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:233,columnNumber:21},globalThis))},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:231,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:229,columnNumber:15},globalThis),h.jsxDEV("div",{className:"border-t pt-6",children:[h.jsxDEV("h3",{className:"text-md font-medium text-gray-800 mb-4",children:"xROAD API統合状況"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:258,columnNumber:17},globalThis),h.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxDEV("div",{className:"space-y-3",children:[h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("span",{className:"text-sm text-gray-600",children:"JARTIC交通量API"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:262,columnNumber:23},globalThis),h.jsxDEV("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"🟢 接続中"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:263,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:261,columnNumber:21},globalThis),h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("span",{className:"text-sm text-gray-600",children:"DRM-PF ルート検索"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:268,columnNumber:23},globalThis),h.jsxDEV("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"🟢 接続中"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:269,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:267,columnNumber:21},globalThis),h.jsxDEV("div",{className:"flex items-center justify-between",children:[h.jsxDEV("span",{className:"text-sm text-gray-600",children:"リアルタイム更新"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:274,columnNumber:23},globalThis),h.jsxDEV("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"🔄 5分間隔"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:275,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:273,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:260,columnNumber:19},globalThis),h.jsxDEV("div",{className:"space-y-3",children:[h.jsxDEV("div",{className:"text-sm text-gray-600",children:[h.jsxDEV("div",{className:"font-medium mb-1",children:"対象エリア"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:282,columnNumber:23},globalThis),h.jsxDEV("div",{children:"東京都心部 6km × 6km"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:283,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:281,columnNumber:21},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-600",children:[h.jsxDEV("div",{className:"font-medium mb-1",children:"交通量観測点"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:286,columnNumber:23},globalThis),h.jsxDEV("div",{children:"約2,600地点（直轄国道）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:287,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:285,columnNumber:21},globalThis),h.jsxDEV("div",{className:"text-sm text-gray-600",children:[h.jsxDEV("div",{className:"font-medium mb-1",children:"データ更新"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:290,columnNumber:23},globalThis),h.jsxDEV("div",{children:"5分値（20分遅延）"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:291,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:289,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:280,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:259,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:257,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:201,columnNumber:13},globalThis),s&&h.jsxDEV("div",{className:"flex justify-center py-8",children:[h.jsxDEV(zo,{size:"lg"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:301,columnNumber:15},globalThis),h.jsxDEV("span",{className:"ml-3 text-gray-600",children:"分析データを読み込み中..."},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:302,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:300,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:109,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:108,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/pages/RouteOptimizationPage.tsx",lineNumber:70,columnNumber:5},globalThis)},GB=()=>h.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxDEV("div",{className:"text-center",children:[h.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"アクセス権限がありません"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:20,columnNumber:7},globalThis),h.jsxDEV("p",{className:"text-gray-600 mb-6",children:"このページにアクセスする権限がありません。"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:21,columnNumber:7},globalThis),h.jsxDEV("button",{onClick:()=>window.history.back(),className:"bg-medical-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"戻る"},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:22,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:19,columnNumber:5},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:18,columnNumber:3},globalThis);function WB(){const{initialize:r}=vL();return Q.useEffect(()=>{console.log("App: initializing stores");try{return r()}catch(e){throw console.error("App initialization error:",e),e}},[]),h.jsxDEV(bL,{children:h.jsxDEV(zj,{children:h.jsxDEV(bj,{children:[h.jsxDEV(Vo,{path:"/login",element:h.jsxDEV(xL,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:50,columnNumber:43},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:50,columnNumber:13},this),h.jsxDEV(Vo,{path:"/unauthorized",element:h.jsxDEV(GB,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:51,columnNumber:50},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:51,columnNumber:13},this),h.jsxDEV(Vo,{path:"/cases",element:h.jsxDEV(pd,{children:h.jsxDEV(TL,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:56,columnNumber:19},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:55,columnNumber:17},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:52,columnNumber:13},this),h.jsxDEV(Vo,{path:"/cases/create",element:h.jsxDEV(pd,{children:h.jsxDEV(vM,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:64,columnNumber:19},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:63,columnNumber:17},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:60,columnNumber:13},this),h.jsxDEV(Vo,{path:"/cases/:caseId",element:h.jsxDEV(pd,{children:h.jsxDEV(hM,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:72,columnNumber:19},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:71,columnNumber:17},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:68,columnNumber:13},this),h.jsxDEV(Vo,{path:"/cases/:caseId/registry",element:h.jsxDEV(pd,{children:h.jsxDEV($B,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:80,columnNumber:19},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:79,columnNumber:17},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:76,columnNumber:13},this),h.jsxDEV(Vo,{path:"/registries",element:h.jsxDEV(pd,{children:h.jsxDEV(HB,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:88,columnNumber:19},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:87,columnNumber:17},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:84,columnNumber:13},this),h.jsxDEV(Vo,{path:"/route-optimization",element:h.jsxDEV(pd,{children:h.jsxDEV(qB,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:96,columnNumber:19},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:95,columnNumber:17},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:92,columnNumber:13},this),h.jsxDEV(Vo,{path:"/",element:h.jsxDEV(kd,{to:"/cases",replace:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:100,columnNumber:38},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:100,columnNumber:13},this),h.jsxDEV(Vo,{path:"*",element:h.jsxDEV(kd,{to:"/cases",replace:!0},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:101,columnNumber:38},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:48,columnNumber:7},this)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/App.tsx",lineNumber:47,columnNumber:5},this)}A_.createRoot(document.getElementById("root")).render(h.jsxDEV(Ol.StrictMode,{children:h.jsxDEV(WB,{},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/main.tsx",lineNumber:9,columnNumber:5},globalThis)},void 0,!1,{fileName:"/Users/kazuhiro/Documents/2506/doctorcar/src/main.tsx",lineNumber:8,columnNumber:3},globalThis));export{k_ as $,iI as A,ic as B,la as C,Ur as D,S8 as E,sc as F,uT as G,w8 as H,_7 as I,co as J,rB as K,sB as L,s8 as M,Q7 as N,Y7 as O,wB as P,Ui as Q,M7 as R,R7 as S,cr as T,y8 as U,db as V,RB as W,b8 as X,Z7 as Y,I7 as Z,Kw as _,Tf as a,O3 as a$,E7 as a0,iB as a1,hB as a2,C8 as a3,i8 as a4,g8 as a5,z7 as a6,R8 as a7,lN as a8,j7 as a9,O7 as aA,o8 as aB,a8 as aC,L7 as aD,F7 as aE,m8 as aF,h8 as aG,EB as aH,OC as aI,Hk as aJ,D7 as aK,p8 as aL,v8 as aM,pB as aN,T8 as aO,v7 as aP,J7 as aQ,q7 as aR,H7 as aS,K7 as aT,P7 as aU,gB as aV,_8 as aW,V7 as aX,jC as aY,N8 as aZ,Cd as a_,S7 as aa,k7 as ab,A7 as ac,D8 as ad,W7 as ae,G7 as af,vr as ag,Hf as ah,vB as ai,l8 as aj,X7 as ak,e8 as al,t8 as am,FC as an,n8 as ao,r8 as ap,w7 as aq,E8 as ar,x8 as as,C7 as at,B7 as au,$7 as av,U7 as aw,u8 as ax,d8 as ay,c8 as az,oB as b,Rv as b0,E2 as b1,c7 as b2,Zu as b3,m7 as b4,hf as b5,_N as b6,z3 as b7,d7 as b8,Cv as b9,i7 as bA,u7 as bB,s7 as bC,t7 as bD,A3 as ba,mf as bb,M3 as bc,L3 as bd,f7 as be,j3 as bf,h7 as bg,p7 as bh,g7 as bi,Jd as bj,zw as bk,yi as bl,_M as bm,Ku as bn,o7 as bo,a7 as bp,l7 as bq,XB as br,RM as bs,un as bt,e7 as bu,r7 as bv,df as bw,Iw as bx,n7 as by,Vd as bz,Wd as c,oc as d,Gn as e,Ce as f,lm as g,Bf as h,xv as i,bb as j,$f as k,gb as l,bT as m,Kd as n,vb as o,qu as p,CB as q,Er as r,Qu as s,Me as t,y7 as u,Q3 as v,ar as w,k8 as x,nn as y,b7 as z};
//# sourceMappingURL=index-35f93b75.js.map
