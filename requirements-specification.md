# 要件定義仕様書
## ドクターカー・オールインワンアプリケーション (PoC版)

### 1. プロジェクト概要

#### 1.1. プロジェクト名
Doctor Car All-in-One Application (D-Call App) - Proof of Concept

#### 1.2. 目的
ドクターカー運用における情報共有の課題を解決し、リアルタイム情報共有による業務効率化と医療の質向上を実現するコンセプトの価値を関係者が直感的に体験できるデモアプリケーションを開発する。

#### 1.3. 背景と課題
- 現在のドクターカー運用では、現場情報の伝達が電話や無線に依存している
- 病院側での受け入れ準備に時間がかかり、患者搬送の効率が低下している
- 医療記録の作成・管理が手作業で時間がかかる
- 現場の状況把握が困難で、適切な医療資源の配置ができない

#### 1.4. 解決したい課題
1. **情報共有の遅延解消**: 現場から病院へのリアルタイム情報伝達
2. **業務効率化**: 入力作業の簡素化と自動記録化
3. **医療の質向上**: 迅速な判断を支援する情報の可視化
4. **安全性向上**: GPS追跡による位置把握と到着時間予測

### 2. ステークホルダー定義

#### 2.1. 主要ユーザー
| ユーザー種別 | 役割 | 利用シーン | 主要ニーズ |
|-------------|------|-----------|-----------|
| **ドクターカー隊員** | 医師・看護師 | 出動現場での患者対応 | 迅速な情報入力、病院との連携 |
| **病院スタッフ** | 受け入れ担当者 | 院内での受け入れ準備 | リアルタイム情報取得、準備指示 |

#### 2.2. 関係者
- 医療機関管理者
- 救急医療システム管理者
- システム開発者・保守担当者

### 3. 機能要件

#### 3.1. 必須機能 (Must Have)

##### 3.1.1. 認証・ユーザー管理機能
- **FR-001**: ユーザーログイン機能
  - メールアドレス・パスワードによる認証
  - ユーザー種別（ドクターカー隊員/病院スタッフ）の判定
  - デモ用ワンクリックログイン機能

##### 3.1.2. 出動事案管理機能
- **FR-002**: 事案一覧表示機能
  - 進行中・完了済み事案の一覧表示
  - 事案ステータス（出動中、現場活動中、搬送中、完了）の表示
  - 事案選択による詳細画面遷移

##### 3.1.3. リアルタイム患者情報管理機能
- **FR-003**: バイタルサイン入力機能
  - 心拍数、血圧（収縮期・拡張期）、酸素飽和度の入力
  - 入力時刻の自動記録
  - 入力者の自動記録

- **FR-004**: 処置記録入力機能
  - 処置内容のテキスト入力
  - 処置時刻の自動記録
  - 定型処置の選択機能

- **FR-005**: 患者情報タイムライン表示機能
  - バイタルサインと処置記録の時系列表示
  - リアルタイム更新対応
  - データの視覚的表現（グラフ・チャート）

##### 3.1.4. GPS・地図連携機能
- **FR-006**: 位置情報表示機能
  - ドクターカーの現在位置表示
  - 現場・病院位置のマーカー表示
  - ルート表示機能

- **FR-007**: 位置情報送信機能
  - ドクターカーの位置情報リアルタイム送信
  - 移動軌跡の記録

##### 3.1.5. コミュニケーション機能
- **FR-008**: チャット機能
  - 事案単位でのメッセージ送受信
  - 送信者の識別表示
  - メッセージの時刻表示
  - 定型文送信機能

##### 3.1.6. データ保存・管理機能
- **FR-009**: 活動記録自動保存機能
  - 全ての入力データの自動保存
  - 事案との関連付け
  - 削除・編集履歴の管理

#### 3.2. 推奨機能 (Should Have)
- **FR-010**: プッシュ通知機能
- **FR-011**: データエクスポート機能
- **FR-012**: 音声入力対応

#### 3.3. 将来機能 (Could Have)
- **FR-013**: AI診断支援機能
- **FR-014**: 医療機器連携機能
- **FR-015**: 多言語対応機能

### 4. 非機能要件

#### 4.1. パフォーマンス要件
- **NFR-001**: レスポンス時間
  - 画面遷移：2秒以内
  - データ更新反映：3秒以内
  - 位置情報更新：10秒間隔

- **NFR-002**: 同時接続数
  - 最大50ユーザーの同時接続対応

#### 4.2. ユーザビリティ要件
- **NFR-003**: 操作性
  - タッチ操作での直感的な入力
  - 救急現場での片手操作対応
  - 大きなボタンサイズ（最小44px）

- **NFR-004**: 視認性
  - 高コントラスト表示
  - 医療用色彩規格準拠
  - 夜間モード対応

#### 4.3. 信頼性要件
- **NFR-005**: 可用性
  - システム稼働率99%以上
  - データ損失ゼロ

- **NFR-006**: セキュリティ
  - Firebase Authentication使用
  - データ通信の暗号化
  - アクセスログの記録

#### 4.4. 拡張性要件
- **NFR-007**: スケーラビリティ
  - ユーザー数・データ量増加への対応
  - 機能追加への柔軟性

### 5. 制約条件

#### 5.1. 技術制約
- Firebase (BaaS) の利用必須
- Web技術スタック（React + TypeScript）
- モバイル対応必須（レスポンシブデザイン）

#### 5.2. 運用制約
- デモ用途のため、実際の患者情報は扱わない
- インターネット接続環境でのみ動作
- 開発期間：約12人日

#### 5.3. 法的制約
- 個人情報保護法の遵守
- 医療情報システムの安全管理に関するガイドライン準拠

### 6. 受け入れ基準

#### 6.1. 機能受け入れ基準
1. 全ての必須機能が正常に動作すること
2. リアルタイム情報共有が3秒以内に反映されること
3. GPS位置情報が正確に表示されること
4. データの整合性が保たれること

#### 6.2. ユーザビリティ受け入れ基準
1. 新規ユーザーが5分以内に基本操作を習得できること
2. 救急現場を想定したストレステストをクリアすること
3. 医療従事者による使用感評価で70点以上を獲得すること

#### 6.3. 技術受け入れ基準
1. 全ブラウザ（Chrome, Firefox, Safari, Edge）で正常動作すること
2. モバイルデバイスで正常動作すること
3. 負荷テストをクリアすること

### 7. リスクと対策

#### 7.1. 技術リスク
| リスク | 影響度 | 対策 |
|--------|-------|------|
| Firebase制限による機能制約 | 中 | 事前検証と代替案検討 |
| リアルタイム同期の遅延 | 高 | 接続状態監視機能の実装 |
| GPS精度の問題 | 中 | 手動位置修正機能の提供 |

#### 7.2. 運用リスク
| リスク | 影響度 | 対策 |
|--------|-------|------|
| ネットワーク接続不良 | 高 | オフライン対応機能の検討 |
| ユーザー習得時間 | 中 | 充実したUI/UXと操作ガイド |

### 8. 成功指標

#### 8.1. 定量指標
- デモ参加者の90%以上がコンセプトを理解
- 情報共有時間を従来比50%短縮（デモシナリオ内）
- ユーザビリティスコア80点以上

#### 8.2. 定性指標
- 医療従事者からの高い評価
- システム導入への前向きなフィードバック
- 追加機能への要望・提案の収集